/*
jQWidgets v2.7.0 (2013-Feb-08)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/
define(['jquery'], function() {
!function(a){a.jqx=a.jqx||{},a.jqx.define=function(a,b,c){a[b]=function(){this.baseType&&(this.base=new a[this.baseType],this.base.defineInstance()),this.defineInstance()},a[b].prototype.defineInstance=function(){},a[b].prototype.base=null,a[b].prototype.baseType=void 0,c&&a[c]&&(a[b].prototype.baseType=c)},a.jqx.invoke=function(b,c){if(0!=c.length){for(var d=typeof c==Array||c.length>0?c[0]:c,e=typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):a({}).toArray();void 0==b[d]&&null!=b.base;)b=b.base;if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();return b[f].apply(b,e)}}},a.jqx.hasFunction=function(b,c){if(0==c.length)return!1;if(void 0==b)return!1;var d=typeof c==Array||c.length>0?c[0]:c;for(typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):{};void 0==b[d]&&null!=b.base;)b=b.base;if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}return!1},a.jqx.isPropertySetter=function(a){return 2==a.length?!0:1==a.length&&"object"==typeof a[0]},a.jqx.set=function(b,c){if(1==c.length&&"object"==typeof c[0])a.each(c[0],function(c,d){for(var e=b;void 0==e[c]&&null!=e.base;)e=e.base;(void 0!=e[c]||null==e[c])&&a.jqx.setvalueraiseevent(e,c,d)});else if(2==c.length){for(;void 0==b[c[0]]&&b.base;)b=b.base;(void 0!=b[c[0]]||null==b[c[0]])&&a.jqx.setvalueraiseevent(b,c[0],c[1])}},a.jqx.setvalueraiseevent=function(a,b,c){var d=a[b];a[b]=c,a.isInitialized&&(void 0!=a.propertyChangedHandler&&a.propertyChangedHandler(a,b,d,c),void 0!=a.propertyChangeMap&&void 0!=a.propertyChangeMap[b]&&a.propertyChangeMap[b](a,b,d,c))},a.jqx.get=function(a,b){if(void 0==b||null==b)return void 0;if(void 0!=a[b])return a[b];if(1!=b.length)return void 0;for(;void 0==a[b[0]]&&a.base;)a=a.base;return void 0!=a[b[0]]?a[b[0]]:void 0},a.jqx.jqxWidgetProxy=function(b,c,d){a(c);var e=a.data(c,b);if(void 0==e)return void 0;var f=e.instance;if(a.jqx.hasFunction(f,d))return a.jqx.invoke(f,d);if(a.jqx.isPropertySetter(d))return a.jqx.set(f,d),void 0;if("object"!=typeof d||0!=d.length){if("object"==typeof d&&d.length>0)return a.jqx.get(f,d[0]);if("string"==typeof d)return a.jqx.get(f,d);throw"jqxCore: Property or method does not exist."}},a.jqx.jqxWidget=function(b,c,d){var e=!1;try{jqxArgs=Array.prototype.slice.call(d,0)}catch(f){jqxArgs=""}try{e=void 0!=window.MSApp}catch(f){}var g=b,h="";c&&(h="_"+c),a.jqx.define(a.jqx,"_"+g,h),a.fn[g]=function(){var b=Array.prototype.slice.call(arguments,0),c=null;return 0==b.length||1==b.length&&"object"==typeof b[0]?this.each(function(){var d=a(this),f=this,h=a.data(f,g);if(null==h){h={},h.element=f,h.host=d,h.instance=new a.jqx["_"+g],""==f.id&&(f.id=a.jqx.utilities.createId()),h.instance.get=h.instance.set=h.instance.call=function(){var b=Array.prototype.slice.call(arguments,0);return a.jqx.jqxWidgetProxy(g,f,b)},a.data(f,g,h),a.data(f,"jqxWidget",h.instance);for(var i=new Array,j=h.instance;j;)j.isInitialized=!1,i.push(j),j=j.base;i.reverse(),i[0].theme="",a.jqx.jqxWidgetProxy(g,this,b);for(var k in i)j=i[k],0==k&&(j.host=d,j.element=f,j.WinJS=e),void 0!=j&&null!=j.createInstance&&(e?MSApp.execUnsafeLocalFunction(function(){j.createInstance(b)}):j.createInstance(b));for(var k in i)void 0!=i[k]&&(i[k].isInitialized=!0);e?MSApp.execUnsafeLocalFunction(function(){h.instance.refresh(!0)}):h.instance.refresh(!0),c=this}else a.jqx.jqxWidgetProxy(g,this,b)}):(this.each(function(){var d=a.jqx.jqxWidgetProxy(g,this,b);null==c&&(c=d)}),c)};try{a.extend(a.jqx["_"+g].prototype,Array.prototype.slice.call(d,0)[0])}catch(f){}a.extend(a.jqx["_"+g].prototype,{toThemeProperty:function(a,b){return""==this.theme?a:null!=b&&b?a+"-"+this.theme:a+" "+a+"-"+this.theme}}),a.jqx["_"+g].prototype.refresh=function(){this.base&&this.base.refresh()},a.jqx["_"+g].prototype.createInstance=function(){},a.jqx["_"+g].prototype.propertyChangeMap={},a.jqx["_"+g].prototype.addHandler=function(b,c,d,e){switch(c){case"mousewheel":if(window.addEventListener)return a.jqx.browser.mozilla?b[0].addEventListener("DOMMouseScroll",d,!1):b[0].addEventListener("mousewheel",d,!1),!1;break;case"mousemove":if(window.addEventListener&&!e)return b[0].addEventListener("mousemove",d,!1),!1}void 0==e||null==e?b.on(c,d):b.on(c,e,d)},a.jqx["_"+g].prototype.removeHandler=function(b,c,d){switch(c){case"mousewheel":if(window.removeEventListener)return a.jqx.browser.mozilla?b[0].removeEventListener("DOMMouseScroll",d,!1):b[0].removeEventListener("mousewheel",d,!1),!1;break;case"mousemove":a.jqx.browser.msie&&a.jqx.browser.version>=9&&window.removeEventListener&&b[0].removeEventListener("mousemove",d,!1)}return void 0==c?(b.off(),void 0):(void 0==d?b.off(c):b.off(c,d),void 0)}},a.jqx.utilities=a.jqx.utilities||{},a.extend(a.jqx.utilities,{createId:function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return"jqxWidget"+a()+a()+a()},setTheme:function(b,c,d){if("undefined"!=typeof d){for(var e=d[0].className.split(" "),f=[],g=[],h=d.children(),i=0;i<e.length;i+=1)e[i].indexOf(b)>=0&&(b.length>0?(f.push(e[i]),g.push(e[i].replace(b,c))):g.push(e[i]+"-"+c));this._removeOldClasses(f,d),this._addNewClasses(g,d);for(var i=0;i<h.length;i+=1)this.setTheme(b,c,a(h[i]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},getOffset:function(b){var c=a.jqx.mobile.getLeftPos(b[0]),d=a.jqx.mobile.getTopPos(b[0]);return{top:d,left:c}},html:function(a,b){return jQuery.access(a,function(b){var c=a[0]||{},d=0,e=a.length;if(void 0===b)return 1===c.nodeType?c.innerHTML.replace(rinlinejQuery,""):void 0;var f=/<(?:script|style|link)/i,g="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",h=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,i=/<([\w:]+)/,j=new RegExp("<(?:"+g+")[\\s/>]","i"),k=/^\s+/,l={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(!("string"!=typeof b||f.test(b)||!jQuery.support.htmlSerialize&&j.test(b)||!jQuery.support.leadingWhitespace&&k.test(b)||l[(i.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(h,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(jQuery.cleanData(c.getElementsByTagName("*")),c.innerHTML=b);c=0}catch(m){}}c&&a.empty().append(b)},null,b,arguments.length)},hasTransform:function(b){var c="";if(c=b.css("transform"),""==c||"none"==c){if(c=b.parents().css("transform"),""!=c&&"none"!=c)return""!=c&&"none"!=c;var d=a.jqx.utilities.getBrowser();"msie"==d.browser?(c=b.css("-ms-transform"),(""==c||"none"==c)&&(c=b.parents().css("-ms-transform"))):"chrome"==d.browser?(c=b.css("-webkit-transform"),(""==c||"none"==c)&&(c=b.parents().css("-webkit-transform"))):"opera"==d.browser?(c=b.css("-o-transform"),(""==c||"none"==c)&&(c=b.parents().css("-o-transform"))):"mozilla"==d.browser&&(c=b.css("-moz-transform"),(""==c||"none"==c)&&(c=b.parents().css("-moz-transform")))}return(""==c||"none"==c)&&(c=a(document.body).css("transform")),""!=c&&"none"!=c&&null!=c},getBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c={browser:b[1]||"",version:b[2]||"0"};return c[b[1]]=b[1],c}}),a.jqx.browser=a.jqx.utilities.getBrowser(),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),a.jqx.mobile=a.jqx.mobile||{},a.jqx.position=function(b){var c=parseInt(b.pageX),d=parseInt(b.pageY);if(a.jqx.mobile.isTouchDevice()){var e=a.jqx.mobile.getTouches(b),f=e[0];c=parseInt(f.pageX),d=parseInt(f.pageY)}return{left:c,top:d}},a.extend(a.jqx.mobile,{_touchListener:function(a){var b=function(a,b){var c=document.createEvent("MouseEvents");return c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),c._pageX=b.pageX,c._pageY=b.pageY,c},c={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},d=b(c[a.type],a);a.target.dispatchEvent(d);var e=a.target["on"+c[a.type]];"function"==typeof e&&e(a)},setMobileSimulator:function(b,c){if(!this.isTouchDevice()){this.simulatetouches=!0,0==c&&(this.simulatetouches=!1);var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=this;if(window.addEventListener){var f=function(){for(var a in d)b.addEventListener&&(b.removeEventListener(a,e._touchListener),b.addEventListener(a,e._touchListener,!1))};a.jqx.browser.msie?f():window.addEventListener("load",function(){f()},!1)}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var a="Browser CodeName: "+navigator.appCodeName;if(a+="Browser Name: "+navigator.appName,a+="Browser Version: "+navigator.appVersion,a+="Platform: "+navigator.platform,a+="User-agent header: "+navigator.userAgent,-1!=a.indexOf("Android"))return!0;if(-1!=a.indexOf("IEMobile"))return!0;if(-1!=a.indexOf("Windows Phone OS"))return!0;if(-1!=a.indexOf("Windows Phone 6.5"))return!0;if(-1!=a.indexOf("BlackBerry")&&-1!=a.indexOf("Mobile Safari"))return!0;if(-1!=a.indexOf("ipod"))return!0;if(-1!=a.indexOf("nokia")||-1!=a.indexOf("Nokia"))return!0;if(-1!=a.indexOf("Chrome/17"))return!1;if(-1!=a.indexOf("Opera")&&-1==a.indexOf("Mobi")&&-1==a.indexOf("Mini")&&-1!=a.indexOf("Platform: Win"))return!1;try{return void 0!=this.touchDevice?this.touchDevice:(this.touchDevice=!0,document.createEvent("TouchEvent"),!0)}catch(b){return this.touchDevice=!1,!1}},getLeftPos:function(a){for(var b=a.offsetLeft;null!=(a=a.offsetParent);)"HTML"!=a.tagName&&(b+=a.offsetLeft,document.all&&(b+=a.clientLeft));return b},getTopPos:function(b){for(var c=b.offsetTop;null!=(b=b.offsetParent);)"HTML"!=b.tagName&&(c+=b.offsetTop-b.scrollTop,document.all&&(c+=b.clientTop));if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser())return c;c+=a(window).scrollTop()}return c},isChromeMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("android");return b},isOperaMiniMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini")||-1!=a.indexOf("opera mobi");return b},isOperaMiniBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini");return b},isNewSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/5")},isSafari4MobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/4")},isWindowsPhone:function(){var a=navigator.userAgent.toLowerCase(),b=(-1!=a.indexOf("msie 11")||-1!=a.indexOf("msie 10"))&&-1!=a.indexOf("touch");return b},isSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b},isIPhoneSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("iphone");return b},isIPadSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad");return b},isMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("android");return b},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches;if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches}return a.touches||(a.touches=new Array,a.touches[0]=void 0!=a.originalEvent?a.originalEvent:a,void 0!=a.originalEvent&&a.pageX&&(a.touches[0]=a),"mousemove"==a.type&&(a.touches[0]=a)),a.touches},getTouchEventName:function(a){return this.isWindowsPhone()?-1!=a.toLowerCase().indexOf("start")?"MSPointerDown":-1!=a.toLowerCase().indexOf("move")?"MSPointerMove":-1!=a.toLowerCase().indexOf("end")?"MSPointerUp":void 0:a},dispatchMouseEvent:function(a,b,c){if(!this.simulatetouches){var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,b.view,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),null!=c&&c.dispatchEvent(d)}},getRootNode:function(a){for(;1!==a.nodeType;)a=a.parentNode;return a},setTouchScroll:function(a,b){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[b]=a},touchScroll:function(b,c,d,e){if(null!=b){var f=this,g=0,h=0,i=0,j=0,k=0,l=0;this.scrolling||(this.scrolling=[]),this.scrolling[e]=!1;var m=!1,n=a(b),o=["select","input","textarea"],p=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[e]=!0;var e=e,q=this.getTouchEventName("touchstart")+".touchScroll",r=this.getTouchEventName("touchend")+".touchScroll",s=this.getTouchEventName("touchmove")+".touchScroll";if(n.on(q,function(b){if(!f.enableScrolling[e])return!0;if(-1===a.inArray(b.target.tagName.toLowerCase(),o)){var c=f.getTouches(b),d=c[0];return 1==c.length&&f.dispatchMouseEvent("mousedown",d,f.getRootNode(d.target)),m=!1,h=d.pageY,k=d.pageX,f.simulatetouches&&(h=d._pageY,k=d._pageX),f.scrolling[e]=!0,g=0,j=0,!0}}),n.on(s,function(a){if(!f.enableScrolling[e])return!0;if(!f.scrolling[e])return!0;var b=f.getTouches(a);if(b.length>1)return!0;var c=b[0].pageY,n=b[0].pageX;f.simulatetouches&&(c=b[0]._pageY,n=b[0]._pageX);var o=c-h,q=n-k;return p=c,touchHorizontalEnd=n,i=o-g,l=q-j,m=!0,g=o,j=q,d(3*-l,3*-i,q,o,a),a.preventDefault(),a.stopPropagation(),a.preventManipulation&&a.preventManipulation(),!1}),this.simulatetouches){if(a(window).on("mouseup.touchScroll",function(){f.scrolling[e]=!1}),window.frameElement&&null!=window.top){var t=function(){f.scrolling[e]=!1};window.top.document.addEventListener?(window.top.document.removeEventListener("mouseup",t,!1),window.top.document.addEventListener("mouseup",t,!1)):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t)}a(document).on("touchend",function(a){if(!f.scrolling[e])return!0;f.scrolling[e]=!1;var b=f.getTouches(a)[0],c=f.getRootNode(b.target);f.dispatchMouseEvent("mouseup",b,c),f.dispatchMouseEvent("click",b,c)})}n.on(r+" touchcancel.touchScroll",function(a){if(!f.enableScrolling[e])return!0;var b=f.getTouches(a)[0];if(!f.scrolling[e])return!0;if(f.scrolling[e]=!1,!m){var b=f.getTouches(a)[0],c=f.getRootNode(b.target);return f.dispatchMouseEvent("mouseup",b,c),f.dispatchMouseEvent("click",b,c),!0}f.dispatchMouseEvent("mouseup",b,c)})}}}),a.jqx.cookie=a.jqx.cookie||{},a.extend(a.jqx.cookie,{cookie:function(a,b,c){if(arguments.length>1&&"[object Object]"!==String(b)){if(c=jQuery.extend({},c),(null===b||void 0===b)&&(c.expires=-1),"number"==typeof c.expires){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}return b=String(b),document.cookie=[encodeURIComponent(a),"=",c.raw?b:encodeURIComponent(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?g(f[1]):null}}),a.jqx.string=a.jqx.string||{},a.extend(a.jqx.string,{contains:function(a,b){return null==a||null==b?!1:-1!=a.indexOf(b)},containsIgnoreCase:function(a,b){return null==a||null==b?!1:-1!=a.toUpperCase().indexOf(b.toUpperCase())},equals:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.slice(0,b.length)==b:!1)},equalsIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.toUpperCase().slice(0,b.length)==b.toUpperCase():!1)},startsWith:function(a,b){return null==a||null==b?!1:a.slice(0,b.length)==b},startsWithIgnoreCase:function(a,b){return null==a||null==b?!1:a.toUpperCase().slice(0,b.length)==b.toUpperCase()},normalize:function(a){return 65279==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},endsWith:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.slice(-b.length)==b)},endsWithIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.toUpperCase().slice(-b.length)==b.toUpperCase())}}),a.extend(jQuery.easing,{easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c}})}(jQuery),function(a){a.fn.extend({ischildof:function(b){var c=a(this).parents().get();for(j=0;j<c.length;j++)if(a(c[j]).is(b))return!0;return!1}})}(jQuery),function(a){a.jqx.dataAdapter=function(b,c){if(this._source=b,this._options=c||{},this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=b&&null!=b.localdata&&"function"==typeof b.localdata){var d=b.localdata();if(null!=d){b._localdata=b.localdata;var e=this;b._localdata.subscribe&&(e._oldlocaldata=[],b._localdata.subscribe(function(b){var c=function(b){return jQuery.isArray(b)?jQuery.makeArray(c(a(b))):jQuery.extend(!0,{},b)};e._oldlocaldata=c(b)},b._localdata,"beforeChange"),b._localdata.subscribe(function(a){if(0==e.suspendKO||void 0==e.suspendKO){var c="";e._oldrecords=e.records,0==e._oldlocaldata.length&&(b.localdata=b._localdata()),0==e._oldlocaldata.length?c="change":(e._oldlocaldata.length==a.length&&(c="update"),e._oldlocaldata.length>a.length&&(c="remove"),e._oldlocaldata.length<a.length&&(c="add")),e.dataBind(null,c)}},b._localdata,"change"),e._knockoutdatasource=!0),b.localdata=d}}1==this._options.autoBind&&this.dataBind()},a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(a){this.isUpdating=!1,0!=a&&this.dataBind(null,"")},formatDate:function(b,c,d){var e=a.jqx.dataFormat.formatdate(b,c,d);return e},formatNumber:function(b,c,d){var e=a.jqx.dataFormat.formatnumber(b,c,d);return e},dataBind:function(b,c){if(1!=this.isUpdating){var d=this._source;if(d){null!=d.dataFields&&(d.datafields=d.dataFields),void 0==d.recordstartindex&&(d.recordstartindex=0),void 0==d.recordendindex&&(d.recordendindex=0),void 0==d.loadallrecords&&(d.loadallrecords=!0),void 0!=d.sort&&(this.sort=d.sort),this.filter=void 0!=d.filter?d.filter:null,void 0!=d.sortcolumn&&(this.sortcolumn=d.sortcolumn),void 0!=d.sortdirection&&(this.sortdirection=d.sortdirection),void 0!=d.sortcomparer&&(this.sortcomparer=d.sortcomparer),this.records=new Array;var e=this._options||{};if(this.virtualmode=void 0!=e.virtualmode?e.virtualmode:!1,this.totalrecords=void 0!=e.totalrecords?e.totalrecords:0,this.pageable=void 0!=e.pageable?e.pageable:!1,this.pagesize=void 0!=e.pagesize?e.pagesize:0,this.pagenum=void 0!=e.pagenum?e.pagenum:0,this.cachedrecords=void 0!=e.cachedrecords?e.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=e.updaterow?e.updaterow:null,this.addrow=void 0!=e.addrow?e.addrow:null,this.deleterow=void 0!=e.deleterow?e.deleterow:null,this.cache=void 0!=e.cache?e.cache:!0,this.unboundmode=!1,this.mapChar=void 0!=d.mapchar?d.mapchar?d.mapchar:">":e.mapChar?e.mapChar:">",(e.unboundmode||d.unboundmode)&&(this.unboundmode=e.unboundmode||d.unboundmode),void 0!=d.cache&&(this.cache=d.cache),this.koSubscriptions)for(var f=0;f<this.koSubscriptions.length;f++)this.koSubscriptions[f].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var g=this,h=d.datatype;("csv"===d.datatype||"tab"===d.datatype||"text"==d.datatype)&&(h="text");var i=void 0!=e.async?e.async:!0;switch(void 0!=d.async&&(i=d.async),h){case"local":case"array":case"observablearray":default:if(void 0==d.localdata&&d.length){d.localdata=new Array;for(var j=0;j<d.length;j++)d.localdata[d.localdata.length]=d[j]}var k=d.localdata.length;if(this.totalrecords=this.virtualmode?d.totalrecords||k:k,this.unboundmode){this.totalrecords=this.unboundmode?d.totalrecords||k:k;var l=d.datafields?d.datafields.length:0;if(l>0)for(var j=0;j<this.totalrecords;j++){for(var m={},n=0;l>n;n++)m[d.datafields[n].name]="";d.localdata[d.localdata.length]=m}}void 0==this.totalrecords&&(this.totalrecords=0);var l=d.datafields?d.datafields.length:0,o=function(a,b){for(var c={},e=0;b>e;e++){var f=d.datafields[e],h="";if(void 0!=f&&null!=f){if(f.map){var i=f.map.split(g.mapChar);if(i.length>0){for(var j=a,k=0;k<i.length;k++)j=j[i[k]];h=j}else h=a[f.map];h=void 0!=h&&null!=h?h.toString():""}""==h&&(h=a[f.name],h=void 0!=h&&null!=h?d._localdata&&h.subscribe?h():h.toString():""),h=g.getvaluebytype(h,f),void 0!=f.displayname?c[f.displayname]=h:c[f.name]=h}}return c};if(d._localdata){this._changedrecords=[],this.records=new Array;var p=d._localdata();if(a.each(p,function(b,e){if("string"==typeof e)g.records.push(e);else{var f={},h=0;for(var i in this){var j=null,k="string";if(l>0){for(var m=!1,n=0;l>n;n++){var o=d.datafields[n];if(void 0!=o&&o.name==i){m=!0,j=o.map,k=o.type;break}}if(!m)continue}var p=a.isFunction(this[i]);if(p){var e=this[i]();"string"!=k&&(e=g.getvaluebytype(e,{type:k})),f[i]=e,this[i].subscribe&&(g.koSubscriptions[g.koSubscriptions.length]=this[i].subscribe(function(){return g.dataBind(null,null),!1}))}else{var e=this[i];if(null!=j){var q=j.split(g.mapChar);if(q.length>0){for(var r=this,s=0;s<q.length;s++)r=r[q[s]];e=r}else e=this[j]}"string"!=k&&(e=g.getvaluebytype(e,{type:k})),f[i]=e,void 0!=f[i]&&(h+=f[i].toString().length+f[i].toString().substr(0,1))}}if(g.records.push(f),f._koindex=h,g._oldrecords){var t=g.records.length-1;if("update"==c&&g._oldrecords[t]._koindex!=h){var u={index:t,oldrecord:g._oldrecords[t],record:f};g._changedrecords.push(u)}}}}),"add"==c)for(var k=g.records.length,j=0;k>j;j++){var m=g.records[j];g._oldrecords[j]?g._oldrecords[j]._koindex!=m._koindex&&g._changedrecords.push({index:j,oldrecord:null,record:m}):g._changedrecords.push({index:j,oldrecord:null,record:m})}else if("remove"==c)for(var k=g._oldrecords.length,j=0;k>j;j++){var q=g._oldrecords[j];g.records[j]?g.records[j]._koindex!=q._koindex&&g._changedrecords.push({index:j,oldrecord:q,record:null}):g._changedrecords.push({index:j,oldrecord:q,record:null})}}else a.isArray(d.localdata)?0==l?this.records=d.localdata:a.each(d.localdata,function(b){var c=this,e=o(c,l),f=g.getid(d.id,e,b);"object"==typeof f&&(f=b);var c=a.extend({},e);c.uid=f,g.records[g.records.length]=c}):(this.records=new Array,a.each(d.localdata,function(){if(l>0){var a=this,b=o(a,l);g.records[g.records.length]=b}else g.records[g.records.length]=this}));if(this.originaldata=d.localdata,this.cachedrecords=this.records,this.addForeignValues(d),e.uniqueDataFields){var r=this.getUniqueRecords(this.records,e.uniqueDataFields);this.records=r,this.cachedrecords=r}if(e.beforeLoadComplete){var s=e.beforeLoadComplete(g.records,this.originaldata);void 0!=s&&(g.records=s,g.cachedrecords=s)}a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(null!=d.localdata){if(a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata),"xml"===d.datatype?g.loadxml(d.localdata,d.localdata,d):"text"===h?g.loadtext(d.localdata,d):g.loadjson(d.localdata,d.localdata,d),g.addForeignValues(d),e.uniqueDataFields){var r=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=r,g.cachedrecords=r}return a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata),void 0}var t=void 0!=e.data?e.data:{};if(d.processdata&&d.processdata(t),a.isFunction(e.processData)&&e.processData(t),a.isFunction(e.formatData)){var u=e.formatData(t);void 0!=u&&(t=u)}var v="application/x-www-form-urlencoded";e.contentType&&(v=e.contentType);var w="GET";d.type&&(w=d.type),e.type&&(w=e.type),d.url&&d.url.length>0?a.isFunction(e.loadServerData)?g._requestData(t,d,e):this.xhr=a.ajax({dataType:h,cache:this.cache,type:w,url:d.url,async:i,contentType:v,data:t,success:function(b,c,f){if(a.isFunction(d.beforeprocessing)){var i=d.beforeprocessing(b,c,f);void 0!=i&&(b=i)}if(a.isFunction(e.downloadComplete)){var i=e.downloadComplete(b,c,f);void 0!=i&&(b=i)}if(null==b)return g.records=new Array,g.cachedrecords=new Array,g.originaldata=new Array,g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(new Array),void 0;var j=b;if(b.records&&(j=b.records),void 0!=b.totalrecords&&(d.totalrecords=b.totalrecords),"xml"===d.datatype?g.loadxml(null,j,d):"text"===h?g.loadtext(j,d):g.loadjson(null,j,d),g.addForeignValues(d),e.uniqueDataFields){var k=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=k,g.cachedrecords=k}if(e.beforeLoadComplete){var l=e.beforeLoadComplete(g.records,b);void 0!=l&&(g.records=l,g.cachedrecords=l)}g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(b)},error:function(b,c,f){a.isFunction(d.loaderror)&&d.loaderror(b,c,f),a.isFunction(e.loadError)&&e.loadError(b,c,f),b=null,g.callDownloadComplete()},beforeSend:function(b,c){a.isFunction(e.beforeSend)&&e.beforeSend(b,c),a.isFunction(d.beforesend)&&d.beforesend(b,c)}}):(g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(data))}this.callBindingUpdate(c)}}},addForeignValues:function(a){for(var b=this,c=a.datafields?a.datafields.length:0,d=0;c>d;d++){var e=a.datafields[d];if(void 0!=e)if(void 0!=e.values){void 0==e.value&&(e.value=e.name),void 0==e.values.value&&(e.values.value=e.value);for(var f=new Array,g=0;g<b.records.length;g++){var h=b.records[g],i=e.name,j=h[e.value];if(void 0!=f[j])h[i]=f[j];else for(var d=0;d<e.values.source.length;d++){var k=e.values.source[d],l=k[e.values.value];if(void 0==l&&(l=k.uid),l==j){var m=k[e.values.name];h[i]=m,f[j]=m;break}}}}else if(void 0!=e.value)for(var g=0;g<b.records.length;g++){var h=b.records[g];h[e.name]=h[e.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&this.xhr.abort()},_requestData:function(b,c,d){var e=this,f=function(b){b.totalrecords&&(c.totalrecords=b.totalrecords,e.totalrecords=b.totalrecords),b.records&&(e.records=b.records,e.cachedrecords=b.records),a.isFunction(d.loadComplete)&&d.loadComplete(data),e.callDownloadComplete()};d.loadServerData(b,c,f)},getUniqueRecords:function(a,b){if(a&&b)for(var c=a.length,d=b.length,e=new Array,f=new Array,g=0;c>g;g++){var h=a[g],i="";if(void 0!=h){for(var j=0;d>j;j++){var k=b[j];i+=h[k]+"_"}f[i]||(e[e.length]=h),f[i]=!0}}return e},getAggregatedData:function(b,c,d){var e=d;e||(e=this.records);var f={},g=e.length;if(0!=g&&void 0!=g){for(var h=0;g>h;h++)for(var i=e[h],j=0;j<b.length;j++){var k=b[j],l=i[k.name];if(k.aggregates){f[k.name]=f[k.name]||{};var m=function(b){for(obj in b){var c=f[k.name][obj];null==c&&(f[k.name][obj]=0,c=0),a.isFunction(b[obj])&&(c=b[obj](c,l,k.name,i)),f[k.name][obj]=c}},n=parseFloat(l);n=isNaN(n)?!1:!0,n&&(l=parseFloat(l)),"number"==typeof l&&isFinite(l)?a.each(k.aggregates,function(){var a=f[k.name][this];if(null==a&&(a=0,"min"==this&&(a=9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)a+=parseFloat(l);else if("product"==this)0==h?a=parseFloat(l):a*=parseFloat(l);else if("min"==this)a=Math.min(a,parseFloat(l));else if("max"==this)a=Math.max(a,parseFloat(l));else if("count"==this)a++;else if("object"==typeof this)return m(this),void 0;f[k.name][this]=a}):a.each(k.aggregates,function(){return"min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this?(f[k.name][this]=0,!0):("object"==typeof this&&m(this),void 0)})}}for(var j=0;j<b.length;j++){var k=b[j];if(void 0!=f[k.name].avg){var l=f[k.name].avg;f[k.name].avg=l/e.length}else void 0!=f[k.name].count&&(f[k.name].count=g);(f[k.name].stdev||f[k.name].stdevp||f[k.name]["var"]||f[k.name].varp)&&a.each(k.aggregates,function(){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var a=f[k.name][this],b=g,c=a/g,d=0,h=0;g>h;h++){var i=e[h],j=i[k.name];d+=(j-c)*(j-c)}var l="stdevp"==this||"varp"==this?b:b-1;0==l&&(l=1),"var"==this||"varp"==this?f[k.name][this]=d/l:("stdevp"==this||"stdev"==this)&&(f[k.name][this]=Math.sqrt(d/l))}}),k.formatStrings&&a.each(k.aggregates,function(b){var d=k.formatStrings[b];if(d)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var e=f[k.name][this];f[k.name][this]=a.jqx.dataFormat.formatnumber(e,d,c)}else if("object"==typeof this)for(obj in this){var e=f[k.name][obj];f[k.name][obj]=a.jqx.dataFormat.formatnumber(e,d,c)}})}return f}},bindDownloadComplete:function(a,b){this._downloadComplete[this._downloadComplete.length]={id:a,func:b}},unbindDownloadComplete:function(a){for(var b=0;b<this._downloadComplete.length;b++)if(this._downloadComplete[b].id==a){this._downloadComplete[b].func=null,this._downloadComplete.splice(b,1);break}},callDownloadComplete:function(){for(var a=0;a<this._downloadComplete.length;a++){var b=this._downloadComplete[a];null!=b.func&&b.func()}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getGroupedRecords:function(b,c,d,e,f,g){for(var h=this,i=new Array,j=0;j<b.length;j++)i[j]=h.generatekey();c||(c="items"),d||(d="group"),f||(f="record"),g||(g="value");var k=new Array,l=0,m=new Array,n=b.length;new Array;for(var o=this.records,p=o.length,q=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},r=0;p>r;r++){var s=q(o[r]);id=s[h.uniqueId];var t=new Array,u=0;for(j=0;n>j;j++){var v=b[j],w=s[v];null!=w&&(t[u++]={value:w,hash:i[j]})}if(t.length!=n)break;for(var x=null,y="",z=-1,A=0;A<t.length;A++){z++;var B=t[A].value,C=t[A].hash;if(y=y+"_"+C+"_"+B,void 0==m[y]||null==m[y]){if(null==x)x={level:0},x[d]=B,x[f]=s,x[g]=s[g],x[c]=new Array,k[l++]=x;else{var D={parentItem:x,level:x.level+1};D[d]=B,D[c]=new Array,D[f]=s,D[g]=s[g],x[c][x[c].length]=D,x=D}m[y]=x}else x=m[y]}null!=x&&(s.parentItem=x,s.level=x.level+1,x[c][x[c].length]=s)}return k},getRecordsHierarchy:function(b,c,d,e){var f=new Array,g=this.records;if(0==this.records.length)return null;for(var h=null!=d?d:"items",i=[],j=g,k=j.length,l=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},m=0;k>m;m++){var n=a.extend({},j[m]),o=n[c],p=n[b];i[p]={parentid:o,item:n}}for(var m=0;k>m;m++){var n=a.extend({},j[m]),o=n[c],p=n[b];if(void 0!=i[o]){var n={parentid:o,item:i[p].item},q=i[o].item;q[h]||(q[h]=[]);var r=q[h].length,s=n.item,t=l(s);q[h][r]=t,i[o].item=q,i[p]=n}else{var s=i[p].item,t=l(s);f[f.length]=t}}return f},bindBindingUpdate:function(a,b){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:b}},unbindBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++)if(this._bindingUpdate[b].id==a){this._bindingUpdate[b].func=null,this._bindingUpdate.splice(b,1);
break}},callBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++){var c=this._bindingUpdate[b];null!=c.func&&c.func(a)}},getid:function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e}return d},loadjson:function(b,c,d){"string"==typeof b&&(b=a.parseJSON(b)),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b=b||c;b||(b=[]);var e=this;if(""!=d.root){if(void 0!=b[d.root]?b=b[d.root]:a.each(b,function(){return this==d.root?(b=this,!1):(void 0!=this[d.root]&&(b=this[d.root]),void 0)}),!b){var f=d.root.split(e.mapChar);if(f.length>0){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}}}else if(!b.length)for(obj in b)if(a.isArray(b[obj])){b=b[obj];break}if(null!=b&&void 0==b.length&&(b=a.makeArray(b)),null==b||void 0==b.length)return alert("JSON Parse error."),void 0;if(0==b.length)return this.totalrecords=0,void 0;var i=b.length;this.totalrecords=this.virtualmode?d.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var j=this.records,k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(k=0,i=this.totalrecords);var l=0;this.virtualmode&&(k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,l=k,k=0,i=this.totalrecords);var m=d.datafields?d.datafields.length:0;if(0==m){var n=b[0],o=new Array;for(obj in n){var p=obj;o[o.length]={name:p}}d.datafields=o,m=o.length}for(var q=k,r=k;i>r;r++){var s=b[r];if(void 0==s)break;if(!d.record||""==d.record||(s=s[d.record],void 0!=s)){var t=this.getid(d.id,s,r);if("object"==typeof t&&(t=r),!this.recordids[t]){this.recordids[t]=s;for(var u={},v=0;m>v;v++){var w=d.datafields[v],x="";if(void 0!=w&&null!=w){if(w.map){var f=w.map.split(e.mapChar);if(f.length>0){for(var y=s,h=0;h<f.length;h++)void 0!=y&&(y=y[f[h]]);x=y}else x=s[w.map];x=void 0!=x&&null!=x?x.toString():""}if(""==x&&(x=s[w.name],(void 0==x||null==x)&&(x=""),void 0!=w.value)){var z=x[w.value];void 0!=z&&(x=z)}x=this.getvaluebytype(x,w),void 0!=w.displayname?u[w.displayname]=x:u[w.name]=x}}(d.recordendindex<=0||k<d.recordendindex)&&(j[l+q]=a.extend({},u),j[l+q].uid=t,this.originaldata[l+q]=a.extend({},j[r]),q++)}}}this.records=j,this.cachedrecords=this.records},loadxml:function(b,c,d){"string"==typeof b&&(b=c=a(a.parseXML(b))),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b;b=a.jqx.browser.msie&&c?void 0!=c.xml?a(d.root+" "+d.record,a.parseXML(c.xml)):b||a(d.root+" "+d.record,c):b||a(d.root+" "+d.record,c),b||(b=[]);var e=b.length;if(0!=b.length){this.totalrecords=this.virtualmode?d.totalrecords||e:e,this.records=new Array,this.originaldata=new Array;var f=this.records,g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(g=0,e=this.totalrecords);var h=0;this.virtualmode&&(g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,h=g,g=0,e=this.totalrecords);var i=d.datafields?d.datafields.length:0;if(0==i){var j=b[0],k=new Array;for(obj in j){var l=obj;k[k.length]={name:l}}d.datafields=k,i=k.length}for(var m=g,n=g;e>n;n++){var o=b[n];if(void 0==o)break;var p=this.getid(d.id,o,n);if(!this.recordids[p]){this.recordids[p]=o;for(var q={},r=0;i>r;r++){var s=d.datafields[r],t="";void 0!=s&&null!=s&&(s.map&&(t=a(s.map,o).text()),""==t&&(t=a(s.name,o).text()),t=this.getvaluebytype(t,s),void 0!=s.displayname?q[s.displayname]=t:q[s.name]=t)}(d.recordendindex<=0||g<d.recordendindex)&&(f[h+m]=a.extend({},q),f[h+m].uid=p,this.originaldata[h+m]=a.extend({},f[n]),m++)}}this.records=f,this.cachedrecords=this.records}},loadtext:function(b,c){if(null!=b){var d=c.rowDelimiter||this.rowDelimiter||"\n",e=b.split(d),f=e.length;this.totalrecords=this.virtualmode?c.totalrecords||f:f,this.records=new Array,this.originaldata=new Array;var g=this.records,h=this.pageable?this.pagesize*this.pagenum:c.recordstartindex;this.recordids=new Array,c.loadallrecords&&(h=0,f=this.totalrecords);var i=0;this.virtualmode&&(h=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,i=h,h=0,f=this.totalrecords);var j=c.datafields.length,k=c.columnDelimiter||this.columnDelimiter;k||(k="tab"===c.datatype?"	":",");for(var l=h;f>l;l++){var m=e[l],n=this.getid(c.id,m,l);if(!this.recordids[n]){this.recordids[n]=m;for(var o={},p=e[l].split(k),q=0;j>q;q++)if(!(q>=p.length)){var r=c.datafields[q],s=p[q];r.type&&(s=this.getvaluebytype(s,r));var t=r.map||r.name||q.toString();o[t]=s}g[i+l]=a.extend({},o),g[i+l].uid=n,this.originaldata[i+l]=a.extend({},g[l])}}this.records=g,this.cachedrecords=this.records}},getvaluebytype:function(b,c){var d=b;if("date"==c.type){var e=new Date(b);if("string"==typeof b&&c.format){var f=a.jqx.dataFormat.parsedate(b,c.format);null!=f&&(e=f)}b="NaN"==e.toString()||"Invalid Date"==e.toString()?a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):e:e,null==b&&(b=d)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else("bool"==c.type||"boolean"==c.type)&&(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b&&""!==b?!1:"");return b}},a.jqx.dataFormat={},a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return"boolean"==typeof a},isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"==typeof a},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(b){return!this.isString(b)&&this.isValue(b)?!1:this.isValue(b)?(b=a.trim(b).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===b):!0},startsWith:function(a,b){return 0===a.indexOf(b)},endsWith:function(a,b){return a.substr(a.length-b.length)===b},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return"[object Array]"===this.toString.call(a)},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},getEra:function(a,b){if(!b)return 0;if("string"==typeof a)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},toUpper:function(a){return a.split("Â ").join(" ").toUpperCase()},toUpperArray:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=this.toUpper(a[c]);return b},getEraYear:function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},getDayIndex:function(a,b,c){var d,e=a.days,f=a._upperDays;return f||(a._upperDays=f=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr),this.toUpperArray(e.namesShort)]),b=toUpper(b),c?(d=this.arrayIndexOf(f[1],b),-1===d&&(d=this.arrayIndexOf(f[2],b))):d=this.arrayIndexOf(f[0],b),d},getMonthIndex:function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,f=a._upperMonths,g=a._upperMonthsGen;f||(a._upperMonths=f=[this.toUpperArray(d.names),this.toUpperArray(d.namesAbbr)],a._upperMonthsGen=g=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)]),b=this.toUpper(b);var h=this.arrayIndexOf(c?f[1]:f[0],b);return 0>h&&(h=this.arrayIndexOf(c?g[1]:g[0],b)),h},appendPreOrPostMatch:function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(a,b){var c="";return b&&b.target&&(c="target="+b.target),""!=c?"<a "+c+' href="'+a+'">'+a+"</a>":'<a href="'+a+'">'+a+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatnumber:function(a,b,c){(void 0==c||null==c||""==c)&&(c=this.defaultcalendar()),this.isNumber(a)||(a*=1);var d;b.length>1&&(d=parseInt(b.slice(1),10));var e={},f=b.charAt(0).toUpperCase();switch(e.thousandsSeparator=c.thousandsseparator,e.decimalSeparator=c.decimalseparator,f){case"D":case"d":case"F":case"f":e.decimalPlaces=d;break;case"N":case"n":e.decimalPlaces=0;break;case"C":case"c":e.decimalPlaces=d,"before"==c.currencysymbolposition?e.prefix=c.currencysymbol:e.suffix=c.currencysymbol;break;case"P":case"p":e.suffix=c.percentsymbol,e.decimalPlaces=d;break;default:throw"Bad number format specifier: "+f}if(this.isNumber(a)){var g,h=0>a,i=a+"",j=e.decimalSeparator?e.decimalSeparator:".";if(this.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);if(i=Math.round(a*l)/l+"",g=i.lastIndexOf("."),k>0)for(0>g?(i+=j,g=i.length-1):"."!==j&&(i=i.replace(".",j));i.length-1-g<k;)i+="0"}if(e.thousandsSeparator){var m=e.thousandsSeparator;g=i.lastIndexOf(j),g=g>-1?g:i.length;for(var n=i.substring(g),o=-1,p=g;p>0;p--)o++,0===o%3&&p!==g&&(!h||p>1)&&(n=m+n),n=i.charAt(p-1)+n;i=n}return i=e.prefix?e.prefix+i:i,i=e.suffix?i+e.suffix:i}return a},tryparsedate:function(a,b){(void 0==b||null==b)&&(b=this.defaultcalendar());var c=this;if(""==a)return null;if(null==a||a.substring||(a=a.toString()),null!=a&&"/Date("==a.substring(0,6)){var d=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,e=new Date(+a.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==e){var f=a.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),e=null;f&&(e=new Date(1*f[1]+36e5*f[2]+6e4*f[3]))}if(null==e||"Invalid Date"==e||isNaN(e)){var g=d.exec(a);if(g){var h=new Date(parseInt(g[1]));if(g[2]){var i=parseInt(g[3]);"-"===g[2]&&(i=-i);var j=h.getUTCMinutes();h.setUTCMinutes(j-i)}if(!isNaN(h.valueOf()))return h}}return e}patterns=b.patterns;for(prop in patterns)if(e=c.parsedate(a,patterns[prop],b))return e;if(null!=a){for(var k=[":","/","-"],l=!0,m=0;m<k.length;m++)-1!=a.indexOf(k[m])&&(l=!1);if(l){var n=new Number(a);if(!isNaN(n))return new Date(n)}}return null},getparseregexp:function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=this.expandFormat(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=this.getTokenRegExp();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=this.appendPreOrPostMatch(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}this.appendPreOrPostMatch(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},outOfRange:function(a,b,c){return b>a||a>c},expandYear:function(a,b){var c=new Date,d=getEra(c);if(100>b){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=this.getEraYear(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},parsedate:function(a,b,c){(void 0==c||null==c)&&(c=this.defaultcalendar()),a=this.trim(a);var d=c,e=this.getparseregexp(d,b),f=new RegExp(e.regExp).exec(a);if(null===f)return null;for(var g,h=e.groups,i=null,j=null,k=null,l=null,m=null,n=0,o=0,p=0,q=0,r=null,s=!1,t=0,u=h.length;u>t;t++){var v=f[t+1];if(v){var w=h[t],x=w.length,y=parseInt(v,10);switch(w){case"dd":case"d":if(l=y,this.outOfRange(l,1,31))return null;break;case"MMM":case"MMMM":if(k=this.getMonthIndex(d,v,3===x),this.outOfRange(k,0,11))return null;break;case"M":case"MM":if(k=y-1,this.outOfRange(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(j=4>x?this.expandYear(d,y):y,this.outOfRange(j,0,9999))return null;break;case"h":case"hh":if(n=y,12===n&&(n=0),this.outOfRange(n,0,11))return null;break;case"H":case"HH":if(n=y,this.outOfRange(n,0,23))return null;break;case"m":case"mm":if(o=y,this.outOfRange(o,0,59))return null;break;case"s":case"ss":if(p=y,this.outOfRange(p,0,59))return null;break;case"tt":case"t":if(s=d.PM&&(v===d.PM[0]||v===d.PM[1]||v===d.PM[2]),!s&&(!d.AM||v!==d.AM[0]&&v!==d.AM[1]&&v!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(q=y*Math.pow(10,3-x),this.outOfRange(q,0,999))return null;break;case"ddd":case"dddd":if(m=this.getDayIndex(d,v,3===x),this.outOfRange(m,0,6))return null;break;case"zzz":var z=v.split(/:/);if(2!==z.length)return null;if(g=parseInt(z[0],10),this.outOfRange(g,-12,13))return null;var A=parseInt(z[1],10);if(this.outOfRange(A,0,59))return null;r=60*g+(startsWith(v,"-")?-A:A);break;case"z":case"zz":if(g=y,this.outOfRange(g,-12,13))return null;r=60*g;break;case"g":case"gg":var B=v;if(!B||!d.eras)return null;B=trim(B.toLowerCase());for(var C=0,D=d.eras.length;D>C;C++)if(B===d.eras[C].name.toLowerCase()){i=C;break}if(null===i)return null}}}var E,F=new Date,G=d.convert;if(E=F.getFullYear(),null===j?j=E:d.eras&&(j+=d.eras[i||0].offset),null===k&&(k=0),null===l&&(l=1),G){if(F=G.toGregorian(j,k,l),null===F)return null}else{if(F.setFullYear(j,k,l),F.getDate()!==l)return null;if(null!==m&&F.getDay()!==m)return null}if(s&&12>n&&(n+=12),F.setHours(n,o,p,q),null!==r){var H=F.getMinutes()-(r+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(H/60,10),H%60)}return F},cleardatescache:function(){this.datescache=new Array},formatdate:function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=m[b-2]+d,c.substr(c.length-b,b)):c=d}function e(a,b){if(l)return l[b];if(void 0!=a.getMonth)switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if((void 0==c||null==c)&&(c=this.defaultcalendar()),"string"==typeof a)return a;var f=a.toString()+"_"+b;if(this.datescache&&this.datescache[f])return this.datescache[f];if(!b||!b.length||"i"===b){var g;return g=this.formatDate(a,c.patterns.F,culture)}var h=c.eras,i="s"===b;b=this.expandFormat(c,b),g=[];for(var j,k,l,m=["0","00","000"],n=0,o=this.getTokenRegExp();;){var p=o.lastIndex,q=o.exec(b),r=b.slice(p,q?q.index:b.length);if(n+=this.appendPreOrPostMatch(r,g),!q)break;if(n%2)g.push(q[0]);else{var s=q[0],t=s.length;switch(s){case"ddd":case"dddd":var u=3===t?c.days.namesAbbr:c.days.names;g.push(u[a.getDay()]);break;case"d":case"dd":k=!0,g.push(d(e(a,2),t));break;case"MMM":case"MMMM":var v=e(a,1);g.push(c.months[3===t?"namesAbbr":"names"][v]);break;case"M":case"MM":g.push(d(e(a,1)+1,t));break;case"y":case"yy":case"yyyy":v=this.getEraYear(a,c,this.getEra(a,h),i),4>t&&(v%=100),g.push(d(v,t));break;case"h":case"hh":j=a.getHours()%12,0===j&&(j=12),g.push(d(j,t));break;case"H":case"HH":g.push(d(a.getHours(),t));break;case"m":case"mm":g.push(d(a.getMinutes(),t));break;case"s":case"ss":g.push(d(a.getSeconds(),t));break;case"t":case"tt":v=a.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",g.push(1===t?v.charAt(0):v);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,t));break;case"z":case"zz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),t));break;case"zzz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&g.push(c.eras[getEra(a,h)].name);break;case"/":g.push(c["/"]);break;default:throw"Invalid date format pattern '"+s+"'."}}}var w=g.join("");return this.datescache||(this.datescache=new Array),this.datescache[f]=w,w}})}(jQuery),function(a){a.jqx.jqxWidget("jqxDateTimeInput","",{}),a.extend(a.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){void 0==this.value&&(this.value=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),void 0==this.minDate&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1)),void 0==this.maxDate&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1)),void 0==this.firstDayOfWeek&&(this.firstDayOfWeek=0),void 0==this.showWeekNumbers&&(this.showWeekNumbers=!1),this.cookies=!1,this.cookieoptions=null,this.showFooter=!1,void 0==this.formatString&&(this.formatString="dd/MM/yyyy"),void 0==this.width&&(this.width=null),void 0==this.height&&(this.height=null),void 0==this.dayNameFormat&&(this.dayNameFormat="firstTwoLetters"),void 0==this.textAlign&&(this.textAlign="left"),void 0==this.readonly&&(this.readonly=!1),void 0==this.culture&&(this.culture="default"),this.activeEditor=this.activeEditor||null,void 0==this.showCalendarButton&&(this.showCalendarButton=!0),void 0==this.openDelay&&(this.openDelay=350),void 0==this.closeDelay&&(this.closeDelay=400),void 0==this.closeCalendarAfterSelection&&(this.closeCalendarAfterSelection=!0),this.isEditing=!1,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.enableAbsoluteSelection=!1,this.disabled=!1,this.buttonSize=18,this.animationType="slide",this.dropDownWidth="200px",this.dropDownHeight="200px",this.selectionMode="default",this.rtl=!1,this._editor=!1,this.todayString="Today",this.clearString="Clear",this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close"]},createInstance:function(){this.render()},render:function(){this._removeHandlers(),this.element.innerHTML="",this.host.attr({role:"dateTimeInput"}),this.id=a.jqx.utilities.createId();var b=this.createID(),c=this.createID(),d=a("<div style='overflow: hidden; border: 0px;'><div id='dateTimeWrapper' style='float: none; position: relative; width: 100%; height: 100%;'><div id='dateTimeContent"+b+"' style='position: relative; overflow: hidden; float: left;'/><div id='dateTimeButton"+c+"' style='position: relative; float: right;'/></div></div>");this._setSize(),null==this.width&&(this.width=this.host.width(),this.host.width(this.width)),this.touch=a.jqx.mobile.isTouchDevice(),this.host.append(d),this.dateTimeWrapper=this.host.find("#dateTimeWrapper"),this.inputElement=this.host.find("#dateTimeContent"+b),this.calendarElement=this.host.find("#dateTimeButton"+c),this.dateTimeInput=a("<input autocomplete='off' style='position: relative; border: none; margin: 0; padding: 0;' id='inputElement' class='jqx-input-content' type='textarea'/>").appendTo(this.inputElement),this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-content")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-content")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-widget-content"));var e=this.host.attr("name");e||(e=this.element.id),this.dateTimeInput.attr("name",e),this.rtl&&(this.dateTimeInput.css("direction","rtl"),this.dateTimeInput.addClass("jqx-rtl"),this.inputElement.css("float","right"),this.calendarElement.css("float","left")),this.inputElement.addClass(this.toThemeProperty("jqx-input")),this.inputElement.addClass(this.toThemeProperty("jqx-widget-content")),this.inputElement.addClass(this.toThemeProperty("jqx-rc-all")),this.inputElement.height(this.host.height()-2),this.calendarButton=a("<div style='padding: 0px; margin: 0px; top: 0; font-size: 3px; position: relative;' class='jqx-input-button-header'><div style='position: relative; font-size: 3px;' class='jqx-input-button-innerheader'></div></div><div style='padding: 0px; margin: 0px; top: 0; position: relative;' class='jqx-input-button-content'/>").appendTo(this.calendarElement),this.calendarButtonContent=this.host.find(".jqx-input-button-content"),this.calendarButtonHeader=this.host.find(".jqx-input-button-header"),this.calendarButtonInnerHeader=this.host.find(".jqx-input-button-innerheader"),this.calendarButtonContent.removeClass(this.toThemeProperty("jqx-input-button-content")),this.calendarButtonContent.addClass(this.toThemeProperty("jqx-input-button-content")),this.calendarButtonContent.removeClass(this.toThemeProperty("jqx-widget-content")),this.calendarButtonContent.addClass(this.toThemeProperty("jqx-widget-content")),this.calendarButtonHeader.removeClass(this.toThemeProperty("jqx-input-button-header")),this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-input-button-header")),this.calendarButtonHeader.removeClass(this.toThemeProperty("jqx-widget-header")),this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-widget-header")),this.calendarButtonInnerHeader.removeClass(this.toThemeProperty("jqx-input-button-innerHeader")),this.calendarButtonInnerHeader.addClass(this.toThemeProperty("jqx-input-button-innerHeader"));var f=this;if(this._arrange(),this.addHandler(this.host,"loadContent",function(){f._arrange()}),this.showCalendarButton?this.calendarButton.css("display","block"):this.calendarButton.css("display","none"),null!=a.jqx._jqxCalendar&&void 0!=a.jqx._jqxCalendar)try{var g="calendar"+this.id,h=a(a.find("#"+g));h.length>0&&h.remove();var i=a("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+this.id+"'><div id='innerCalendar"+this.id+"'></div></div>");"opera"==a.jqx.utilities.getBrowser().browser&&i.hide(),i.appendTo(document.body),this.container=i,this.calendarContainer=a(a.find("#innerCalendar"+this.id)).jqxCalendar({todayString:this.todayString,clearString:this.clearString,dayNameFormat:this.dayNameFormat,rtl:this.rtl,culture:this.culture,showFooter:this.showFooter,selectionMode:this.selectionMode,firstDayOfWeek:this.firstDayOfWeek,showWeekNumbers:this.showWeekNumbers,width:this.dropDownWidth,height:this.dropDownHeight,theme:this.theme}),this.calendarContainer.css({position:"absolute",zIndex:1e5,top:0,left:0}),this.calendar=a.data(this.calendarContainer[0],"jqxCalendar").instance;var f=this;this.calendar.today=function(){f.setDate(new Date),f.hideCalendar()},this.calendar.clear=function(){f.setDate(null),f.hideCalendar()},this.calendar.render(),"opera"==a.jqx.utilities.getBrowser().browser&&i.show(),i.height(parseInt(this.calendarContainer.height())+25),i.width(parseInt(this.calendarContainer.width())+25),"range"==this.selectionMode&&(this.readonly=!0),"none"==this.animationType?this.container.css("display","none"):this.container.hide()}catch(j){}if(null==a.global||void 0==a.global)throw"jquery.global.js is not loaded.";if(a.global.preferCulture(this.culture),this.selectedText="",this._addHandlers(),this.self=this,this.oldValue=this.getDate(),this.items=new Array,this.editors=new Array,this.value&&this.calendarButtonContent.html("<div style='line-height: 16px;  color: inherit; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'>"+this.value.day+"</b></div>"),this._loadItems(),this.editorText="",1==this.readonly&&this.dateTimeInput.css("readonly",this.readonly),this.dateTimeInput.css("text-align",this.textAlign),this.host.addClass(this.toThemeProperty("jqx-widget")),this.propertyChangeMap.disabled=function(a,b,c,d){d?(a.host.addClass(f.toThemeProperty("jqx-input-disabled")),a.dateTimeInput.addClass(f.toThemeProperty("jqx-input-disabled")),a.host.addClass(f.toThemeProperty("jqx-fill-state-disabled"))):(a.host.removeClass(f.toThemeProperty("jqx-fill-state-disabled")),a.host.removeClass(f.toThemeProperty("jqx-input-disabled")),a.dateTimeInput.removeClass(f.toThemeProperty("jqx-input-disabled")))},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-input-disabled")),this.host.addClass(this.toThemeProperty("jqx-input-disabled")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-disabled"))),this.host.parents("form").length>0&&this.host.parents("form").on("reset",function(){setTimeout(function(){f.setDate(new Date)},10)}),this.cookies){var k=a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id);null!=k&&this.setDate(new Date(k))}if(a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0){var l=this.host.parents(".jqx-window").css("z-index");i.css("z-index",l+10),this.calendarContainer.css("z-index",l+10)}},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height)),b){var c=this;if(this.calendarContainer){this.refresh(!1);var d=this.host.width();"auto"!=this.dropDownWidth&&(d=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:d}),this.container.width(parseInt(d)+25)}var e=function(){if(c.calendarContainer&&(c._arrange(),"auto"==c.dropDownWidth)){var a=c.host.width();c.calendarContainer.jqxCalendar({width:a}),c.container.width(parseInt(a)+25)}};a(window).off("resize."+this.id),a(window).on("resize."+this.id,function(){e()})}},_arrange:function(){var a=parseInt(this.host.width()),b=parseInt(this.host.height()),c=this.buttonSize,d=3;this.calendarButtonHeader.width(c),this.calendarButtonContent.height(c-d),this.calendarButtonContent.width(c),this.inputElement.height(b-2);var e=parseInt(this.inputElement.outerHeight())-parseInt(this.inputElement.height());e=0;var f=a-parseInt(this.calendarButton.outerWidth())-1*d;f>0&&this.inputElement.width(f+"px"),this.dateTimeInput.width(f-d+"px"),this.dateTimeInput.css("left",0),this.dateTimeInput.css("top",0),this.inputElement.css("left",0),this.inputElement.css("top",0);var g=parseInt(this.calendarButtonHeader.outerWidth())/2-parseInt(this.calendarButtonInnerHeader.outerWidth())/2;this.calendarButtonInnerHeader.css("left",g);var h=parseInt(this.calendarButtonContent.outerHeight())+parseInt(this.calendarButtonHeader.outerHeight()),i=parseInt(this.inputElement.outerHeight())/2-h/2;this.calendarElement.css("top",parseInt(i)+"px");var j=this.dateTimeInput.outerHeight();0==j&&(j=parseInt(this.dateTimeInput.css("font-size"))+3);var k=parseInt(this.inputElement.height())/2-parseInt(j)/2;this.dateTimeInput.css("margin","0px"),this.dateTimeInput.css("padding","0px"),this.dateTimeInput.css("top",parseInt(k))},_removeHandlers:function(){this.removeHandler(a(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown"))},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXCalendar"+this.id);return null!=c&&c==b.calendarContainer?!0:!1},wheel:function(a,b){var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d?!1:(a.preventDefault&&a.preventDefault(),a.returnValue=!1,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){return 0>a?this.spinDown():this.spinUp(),!1},focus:function(){try{this.dateTimeInput.focus()}catch(a){}},_addHandlers:function(){this.element.id,this.element;var b=this;this.addHandler(this.host,"mousewheel",function(a){b.wheel(a,b)}),this.addHandler(a(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(c){var d=a.data(document.body,"openedJQXCalendar"+b.id);if(null!=d&&d==b.calendarContainer){var e=b.handleCalendarKey(c,b);return e}}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(a){if(13==a.keyCode)return b.isOpened()?(b.hideCalendar("selected"),b.dateTimeInput.focus(),!1):!0;if(27==a.keyCode)return b.isOpened()?(b.hideCalendar(),b.dateTimeInput.focus(),!1):!0;if(115==a.keyCode){if(b.isOpened())return b.hideCalendar(),b.dateTimeInput.focus(),!1;if(!b.isOpened())return b.showCalendar(),b.dateTimeInput.focus(),!1}if(a.altKey)if(38==a.keyCode){if(b.isOpened())return b.hideCalendar(),b.dateTimeInput.focus(),!1}else if(40==a.keyCode&&!b.isOpened())return b.showCalendar(),b.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(c){b.closeCalendarAfterSelection&&(a.data(document.body,"openedJQXCalendarValue"),"mouse"==c.args.selectionType&&("default"==b.selectionMode?b.hideCalendar("selected"):0==b.calendar._clicks&&b.hideCalendar("selected")))}),this.addHandler(this.calendarContainer,"cellMouseDown",function(){b.closeCalendarAfterSelection&&b.calendar.value&&a.data(document.body,"openedJQXCalendarValue",new a.jqx._jqxDateTimeInput.getDateTime(b.calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(){null!=b.value&&(b.isEditing=!1,b._validateValue(),b._updateText(),b.inputElement.removeClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.dateTimeInput,"focus",function(a){if(null!=b.value){var c=b._selection();b.isEditing=!0,b._validateValue(),b._updateText(),b._setSelectionStart(c.start),b._selectGroup(-1),b.inputElement.addClass(b.toThemeProperty("jqx-fill-state-focus"))}return a.preventDefault?(a.preventDefault(),!1):void 0});var c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,c,function(a){var c=b.container,d="block"==c.css("display");b.disabled||b.isanimating||(d?b.hideCalendar():(b.showCalendar(),a.preventDefault()))}),this.addHandler(this.dateTimeInput,"mousedown",function(a){return b._raiseEvent(2,a)}),this.addHandler(this.dateTimeInput,"mouseup",function(a){return b._raiseEvent(3,a)}),this.addHandler(this.dateTimeInput,"keydown",function(a){return b._raiseEvent(4,a)}),this.addHandler(this.dateTimeInput,"keyup",function(a){return b._raiseEvent(5,a)
}),this.addHandler(this.dateTimeInput,"keypress",function(a){return b._raiseEvent(6,a)})},createID:function(){var a=Math.random()+"";return a=a.replace(".",""),a="99"+a,a/=1,"dateTimeInput"+a},setMaxDate:function(b){null!=b&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this.calendar&&this.calendar.setMaxDate(b))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(b){null!=b&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this.calendar&&this.calendar.setMinDate(b))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},propertyChangedHandler:function(a,b,c,d){void 0!=a.isInitialized&&0!=a.isInitialized&&("rtl"==b&&(a.calendarContainer.jqxCalendar({rtl:d}),d?(a.dateTimeInput.css("direction","rtl"),a.dateTimeInput.addClass("jqx-rtl"),a.inputElement.css("float","right"),a.calendarElement.css("float","left")):(a.dateTimeInput.css("direction","ltr"),a.dateTimeInput.removeClass("jqx-rtl"),a.inputElement.css("float","left"),a.calendarElement.css("float","right"))),("todayString"==b||"clearString"==b)&&a.calendarContainer.jqxCalendar({clearString:a.clearString,todayString:a.todayString}),"dayNameFormat"==b&&a.calendarContainer.jqxCalendar({dayNameFormat:d}),"firstDayOfWeek"==b&&a.calendarContainer.jqxCalendar({firstDayOfWeek:d}),"showWeekNumbers"==b&&a.calendarContainer.jqxCalendar({showWeekNumbers:d}),"culture"==b?(a._loadItems(),null!=a.calendar&&(a.calendar.culture=d,a.calendar.render())):"formatString"==b&&a._loadItems(),"theme"==b&&a.dateTimeInput&&(a.host.removeClass(),a.host.addClass(a.toThemeProperty("jqx-widget")),a.dateTimeInput.removeClass(),a.dateTimeInput.addClass(a.toThemeProperty("jqx-input-content")),a.dateTimeInput.addClass(a.toThemeProperty("jqx-widget-content")),a.inputElement.removeClass(),a.inputElement.addClass(a.toThemeProperty("jqx-input")),a.inputElement.addClass(a.toThemeProperty("jqx-widget-content")),a.inputElement.addClass(a.toThemeProperty("jqx-rc-all")),a.calendarButtonContent.removeClass(),a.calendarButtonContent.addClass(a.toThemeProperty("jqx-input-button-content")),a.calendarButtonContent.addClass(a.toThemeProperty("jqx-widget-content")),a.calendarButtonHeader.removeClass(),a.calendarButtonHeader.addClass(a.toThemeProperty("jqx-input-button-header")),a.calendarButtonHeader.addClass(a.toThemeProperty("jqx-widget-header")),a.calendarButtonInnerHeader.removeClass(),a.calendarButtonInnerHeader.addClass(a.toThemeProperty("jqx-input-button-innerHeader")),a.calendarContainer.jqxCalendar({theme:d})),("width"==b||"height"==b)&&a.refresh(),a._setOption(b,d),("dropDownWidth"==b||"dropDownHeight"==b)&&(a.calendarContainer.jqxCalendar({width:a.dropDownWidth,height:a.dropDownHeight}),a.calendar.render(),a.container.height(a.calendarContainer.height()),a.container.width(a.calendarContainer.width())))},setDate:function(b){return null==b||"null"==b||"undefined"==b?(null!=this.value&&(this.value=null,this.calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._raiseEvent("0",b)),void 0):(b<this.getMinDate()||b>this.getMaxDate()||(null==this.value&&(this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),b.getFullYear&&(this.value._setYear(b.getFullYear()),this.value._setDay(1),this.value._setMonth(b.getMonth()+1),this.value._setHours(b.getHours()),this.value._setMinutes(b.getMinutes()),this.value._setSeconds(b.getSeconds()),this.value._setMilliseconds(b.getMilliseconds()),this.value._setDay(b.getDate())),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._raiseEvent("0",b)),void 0)},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(a,b){this.calendar.setRange(a,b);var c=a;c.getFullYear&&(this.value._setYear(c.getFullYear()),this.value._setMonth(c.getMonth()+1),this.value._setHours(c.getHours()),this.value._setMinutes(c.getMinutes()),this.value._setSeconds(c.getSeconds()),this.value._setMilliseconds(c.getMilliseconds()),this.value._setDay(c.getDate())),this._raiseEvent("0",this.value.dateTime)},getRange:function(){return this.calendar.getRange()},_validateValue:function(){var a=!1;for(i=0;i<this.items.length;i++){var b=this.editors[i].value;switch(this.items[i].type){case"FORMAT_AMPM":0>b?b=0:b>1&&(b=1);break;case"Character":break;case"Day":1>b?b=1:b>31&&(b=31);break;case"FORMAT_hh":case"FORMAT_HH":0>b?b=0:b>23&&(b=23);break;case"Millisecond":0>b?b=0:b>99&&(b=99);break;case"Minute":0>b?b=0:b>59&&(b=59);break;case"Month":1>b?b=1:b>12&&(b=12);break;case"ReadOnly":break;case"Second":0>b?b=0:b>59&&(b=59);break;case"Year":b<this.minDate.year?b=this.minDate.year:b>this.maxDate.year&&(b=this.maxDate.year)}this.editors[i].value!=b&&(this.editors[i].value=b,a=!0)}this.updateValue(),null!=this.value&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()))},spinUp:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(-1==b)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},spinDown:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(-1==b)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},_passKeyToCalendar:function(a){if(13==a.keyCode)return this.hideCalendar("selected"),!0;if(27==a.keyCode){this.calendarContainer;var b=this.calendar,c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,b.setDate(this.value.dateTime),this.closeCalendarAfterSelection=c,this.hideCalendar()}var c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var d=this.calendar._handleKey(a);return this.closeCalendarAfterSelection=c,d},handleCalendarKey:function(b,c){a(b.target);var d=a.data(document.body,"openedJQXCalendar"+this.id);if(null!=d&&d.length>0){var e=c._passKeyToCalendar(b);return e}return!0},_findPos:function(b){if(null!=b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).offset();return[c.left,c.top]}},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.offset().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.offset().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+23):0),c},open:function(){this.showCalendar()},close:function(){this.hideCalendar()},hide:function(){this.close()},show:function(){this.open()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showCalendar:function(){var b=this.calendarContainer,c=this.calendar;this.container;var d=this;a(window).scrollTop(),a(window).scrollLeft();var e=parseInt(this._findPos(this.inputElement[0])[1])+parseInt(this.inputElement.outerHeight())-1+"px",f=parseInt(this.host.offset().left)+"px",g=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();"0px"!=a("body").css("border-top-width")&&(e=parseInt(e)+this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)+this._getBodyOffset().left+"px");var h=a.jqx.utilities.hasTransform(this.host);(h||null!=g&&g)&&(f=a.jqx.mobile.getLeftPos(this.element),e=a.jqx.mobile.getTopPos(this.element)+parseInt(this.inputElement.outerHeight())),this.container.css("left",f),this.container.css("top",e);var i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,this.isEditing=!1,this._validateValue(),this._updateText();var j=null!=this.value?this.value.dateTime:new Date;"default"==d.selectionMode&&c.setDate(j),this.closeCalendarAfterSelection=i;var k=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var l=this.container.outerWidth(),m=Math.abs(l-this.host.outerWidth()+2);if(this.rtl||(m-=2),l>this.host.width()){var n=this.rtl?23:2;this.container.css("left",n+parseInt(f)-m+"px")}else this.container.css("left",25+parseInt(f)+m+"px")}if(this.enableBrowserBoundsDetection){var o=this.testOffset(b,{left:parseInt(this.container.css("left")),top:parseInt(e)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=o.top?(k=!0,b.css("top",23)):b.css("top",0),this.container.css("top",o.top),parseInt(this.container.css("left"))!=o.left&&this.container.css("left",o.left)}if(this._raiseEvent(7,b),"none"!=this.animationType){this.container.css("display","block");var p=parseInt(b.outerHeight());b.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(b.css("margin-top",0),b.css("opacity",0),b.animate({opacity:1},this.openDelay,function(){d.isanimating=!1,d.opening=!1,a.data(document.body,"openedJQXCalendar"+d.id,b),d.calendarContainer.focus()})):(b.css("opacity",1),k?b.css("margin-top",p):b.css("margin-top",-p),b.animate({"margin-top":0},this.openDelay,function(){d.isanimating=!1,d.opening=!1,a.data(document.body,"openedJQXCalendar"+d.id,b),d.calendarContainer.focus()}))}else b.stop(),d.isanimating=!1,d.opening=!1,b.css("opacity",1),b.css("margin-top",0),this.container.css("display","block"),a.data(document.body,"openedJQXCalendar"+d.id,b),this.calendarContainer.focus();null==this.value&&this.calendar&&this.calendar._getSelectedCell()&&(this.calendar._getSelectedCell().isSelected=!1)},hideCalendar:function(b){var c=this.calendarContainer,d=this.container,e=this;if(a.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var f=c.outerHeight();c.css("margin-top",0),this.isanimating=!0;var g=-f;parseInt(this.container.offset().top)<parseInt(this.host.offset().top)&&(g=f),"fade"==this.animationType?c.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1}):c.animate({"margin-top":g},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1})}else d.css("display","none");void 0!=b&&this._updateSelectedDate(),this._raiseEvent(8,c)},_updateSelectedDate:function(){var b=this.value;null==b&&(b=new a.jqx._jqxDateTimeInput.getDateTime(new Date),b._setHours(0),b._setMinutes(0),b._setSeconds(0),b._setMilliseconds(0));var c=b.hour,d=b.minute,e=b.second,f=b.millisecond;if("range"==this.selectionMode&&null==this.calendar.getRange().from)return this.setDate(null),void 0;var g=new a.jqx._jqxDateTimeInput.getDateTime(this.calendar.value.dateTime);g._setHours(c),g._setMinutes(d),g._setSeconds(e),g._setMilliseconds(f),this.setDate(g.dateTime)},_closeOpenedCalendar:function(b){var c=a(b.target),d=a.data(document.body,"openedJQXCalendar"+b.data.me.id),e=!1;if(a.each(c.parents(),function(){return-1!=this.className.indexOf("jqx-calendar")?(e=!0,!1):-1!=this.className.indexOf("jqx-input")?(e=!0,!1):void 0}),a(b.target).ischildof(b.data.me.host))return!0;if(null!=b.target&&("B"==b.target.tagName||"b"==b.target.tagName)){var f=b.data.me.host.offset(),g=b.data.me.host.width(),h=b.data.me.host.height(),i=parseInt(f.top),j=parseInt(f.left);if(i<=b.pageY&&b.pageY<=i+h&&j<=b.pageX&&b.pageX<=j+g)return!0}if(null!=d&&!e&&d.length>0){var k=d[0].id.toString(),l=k.toString().substring(13);a(document).find("#"+l),b.data.me.hideCalendar(),a.data(document.body,"openedJQXCalendar"+b.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var a=this._getFormatValue(this.formatString);for(this.items=this._parseFormatValue(a),this.editors=new Array,i=0;i<this.items.length;i++){var b=this.items[i].getDateTimeEditorByItemType(this.value);this.editors[i]=b}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var b="";if(0==this.items.length&&null!=this.value&&this._loadItems(),null!=this.value){this.items.length>=1&&(b=this.format(this.value,0,this.items.length));var c=this.dateTimeInput.val();c!=b&&this._raiseEvent(1,this.value)}if("range"==this.selectionMode){var d=this.getRange();if(fromText=this.format(this.value,0,this.items.length),d.to){var e=a.jqx._jqxDateTimeInput.getDateTime(d.from);fromText=this.format(e,0,this.items.length);var f=a.jqx._jqxDateTimeInput.getDateTime(d.to);toText=this.format(f,0,this.items.length);var b=fromText+" - "+toText}}this.dateTimeInput.val(b)},format:function(a,b,c){var d="";for(i=b;c>i;++i){var e=this.items[i].dateParser(a);if(this.isEditing&&"ReadOnly"!=this.items[i].type){var f="Day"==this.items[i].type&&this.items[i].format.length>2;if("FORMAT_AMPM"==this.items[i].type&&(f=!0),!f)for(e=this.items[i].dateParserInEditMode(new Number(this.editors[i].value),"d"+this.editors[i].maxEditPositions);e.length<this.editors[i].maxEditPositions;)e="0"+e}d+=e}return d},_getFormatValueGroupLength:function(a){for(i=1;i<a.toString().length;++i)if(a.substring(i,i+1)!=a.substring(0,1))return i;return a.length},_parseFormatValue:function(b){for(var c=new Array,d=b.toString(),e=0;d.length>0;){var f=this._getFormatValueGroupLength(d),g=null;switch(d.substring(0,1)){case":":case"/":f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var h=d.indexOf(d[0],1);g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1+Math.max(1,h-1)),"ReadOnly",this.culture),f=Math.max(1,h+1);break;case"\\":d.length>=2&&(g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1),"ReadOnly",this.culture),f=2);break;case"d":case"D":g=f>2?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture);break;case"f":case"F":f>7&&(f=7),g=f>3?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Millisecond",this.culture);break;case"g":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;case"h":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_hh",this.culture);break;case"H":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_HH",this.culture);break;case"m":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Minute",this.culture);break;case"M":f>4&&(f=4),g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Month",this.culture);break;case"s":case"S":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Second",this.culture);break;case"t":case"T":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_AMPM",this.culture);break;case"y":case"Y":f>1?g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Year",this.culture):(f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;default:f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture)}c[e]=a.extend(!0,{},g),d=d.substring(f),e++}return c},_getFormatValue:function(b){if((null==b||0==b.length)&&(b="d"),1==b.length)switch(b.substring(0,1)){case"d":return a.global.culture.calendar.patterns.d;case"D":return a.global.culture.calendar.patterns.D;case"t":return a.global.culture.calendar.patterns.t;case"T":return a.global.culture.calendar.patterns.T;case"f":return a.global.culture.calendar.patterns.f;case"F":return a.global.culture.calendar.patterns.F;case"M":return a.global.culture.calendar.patterns.M;case"Y":return a.global.culture.calendar.patterns.Y;case"S":return a.global.culture.calendar.patterns.S}return 2==b.length&&"%"==b.substring(0,1)&&(b=b.substring(1)),b},_updateEditorsValue:function(){var a=this.value;if(null!=a){var b=a.year,c=a.day,d=a.hour,e=a.millisecond,f=a.second,g=a.minute,h=a.month;if(null!=this.items)for(i=0;i<this.items.length;i++)switch(this.items[i].type){case"FORMAT_AMPM":this.editors[i].value=0;break;case"Day":this.editors[i].value=c;break;case"FORMAT_hh":this.editors[i].value=d;break;case"FORMAT_HH":this.editors[i].value=d;break;case"Millisecond":this.editors[i].value=e;break;case"Minute":this.editors[i].value=g;break;case"Month":this.editors[i].value=h;break;case"Second":this.editors[i].value=f;break;case"Year":this.editors[i].value=b}}},updateValue:function(){if(!this.isEditing){for(var b=1,c=1,d=0,e=0,f=0,g=0,h=1,i=0,j=!1,k=!1,l=!1,m=new Array,n=null,o=0,p=0;p<this.items.length;p++)switch(this.items[p].type){case"FORMAT_AMPM":i=this.editors[p].value,n=this.editors[p];break;case"Character":break;case"Day":this.items[p].format.length<4&&(c=this.editors[p].value,m[o++]=this.editors[p],0==c&&(c=1),l=!0);break;case"FORMAT_hh":var q=this.editors[p];d=q.value;break;case"FORMAT_HH":d=this.editors[p].value;break;case"Millisecond":e=this.editors[p].value;break;case"Minute":g=this.editors[p].value;break;case"Month":h=this.editors[p].value,k=!0,0==h&&(h=1);break;case"ReadOnly":break;case"Second":f=this.editors[p].value;break;case"Year":j=!0,b=this.editors[p].value;var r=this.editors[p].getDateTimeItem().format;if(r.length<3){var s="1900";if(4==s.Length){var t,u=""+s[0]+s[1];t=parseInt(u),b+=100*t}}0==b&&(b=1)}var v=null!=this.value?new Date(this.value.dateTime):null;if(b>0&&h>0&&c>0&&g>=0&&d>=0&&f>=0&&e>=0){var w=this.value;null!=w&&(j||(b=w.year),k||(h=w.month),l||(c=w.day));try{if(h>12&&(h=12),1>h&&(h=1),w._daysInMonth(b,h)<=c&&(c=w._daysInMonth(b,h),null!=m&&m.length>0))for(p=0;p<m.length;p++)m[p].value=c;null!=n&&(n.value=12>d?0:1),this.value._setYear(parseInt(b)),this.value._setDay(c),this.value._setMonth(h),this.value._setHours(d),this.value._setMinutes(g),this.value._setSeconds(f),this.value._setMilliseconds(e)}catch(x){this.value=w}if(null!=v){var y=this.value.dateTime.getFullYear()==v.getFullYear()&&this.value.dateTime.getDate()==v.getDate()&&this.value.dateTime.getMonth()==v.getMonth()&&this.value.dateTime.getHours()==v.getHours()&&this.value.dateTime.getMinutes()==v.getMinutes()&&this.value.dateTime.getSeconds()==v.getSeconds();y||(this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)),this.calendarButtonContent.html("<div style='line-height: 16px; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'>"+this.value.day+"</b></div>")}else this.calendarButtonContent.html("<div style='line-height: 16px; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'></b></div>")}var z=this.editors.indexOf(this.activeEditor);this.items[z]}},_internalSetValue:function(a){this.value._setYear(parseInt(a.year)),this.value._setDay(a.day),this.value._setMonth(a.month),this.value._setHours(a.hour),this.value._setMinutes(a.minute),this.value._setSeconds(a.second),this.value._setMilliseconds(a.milisecond)},_raiseEvent:function(a,b){var c=this.events[a],d={};d.owner=this,null==b&&(b=new Date);var e=b.charCode?b.charCode:b.keyCode?b.keyCode:0,f=!0,g=this.readonly,h=new jQuery.Event(c);if(h.owner=this,h.args=d,h.args.date=this.getDate(),"range"==this.selectionMode&&(h.args.date=this.getRange()),"none"==this.host.css("display"))return!0;2!=a&&3!=a&&(f=this.host.trigger(h));var i=this;if(g||2!=a||this.disabled||setTimeout(function(){i.isEditing=!0,i._selectGroup(-1)},25),4==a){if(g||this.disabled)return(8==e||46==e)&&(this.isEditing=!1,this.setDate(null)),!1;f=this._handleKeyDown(b,e)}else if(5==a){if(g||this.disabled)return!1}else if(6==a){if(g||this.disabled)return!1;f=this._handleKeyPress(b,e)}return f},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,this._selectGroup(c),void 0;for(;c>0;)if(this.activeEditor=this.editors[--c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&a!=this.activeEditor&&"ReadOnly"!=this.items[c].type&&(this.activeEditor.positions=this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0),this.activeEditor!=a?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,this._selectGroup(c),void 0;for(;c<=this.editors.length-2;)if(this.activeEditor=this.editors[++c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){if("Day"==this.items[c].type&&this.items[c].format.length>2)break;if("FORMAT_AMPM"==this.items[c].type)break;b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&this.activeEditor!=a&&"ReadOnly"!=this.items[c].type&&(this.activeEditor.positions=0),this.activeEditor!=a?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_saveSelectedText:function(){var a=this._selection(),b="",c=this.dateTimeInput.val();if(a.start>0||a.length>0)for(i=a.start;i<a.end;i++)b+=c[i];return window.clipboardData.setData("Text",b),b},_selectWithAdvancePattern:function(){var a=this.editors.indexOf(this.activeEditor),b=!1;if("ReadOnly"!=this.items[a].type&&"Format_AMPM"!=this.items[a].type&&(b=!0),b){var c=this.activeEditor;if(null!=c){var d=c.positions==c.maxEditPositions;if(d){this.editorText="";var e=c.value,f=!1;switch(this.items[a].type){case"FORMAT_AMPM":0>e?e=0:e>1&&(e=1);break;case"Character":break;case"Day":1>e?e=1:e>31&&(e=31);break;case"FORMAT_hh":case"FORMAT_HH":0>e?e=0:e>23&&(e=23);break;case"Millisecond":0>e?e=0:e>99&&(e=99);break;case"Minute":0>e?e=0:e>59&&(e=59);break;case"Month":1>e?e=1:e>12&&(e=12);break;case"ReadOnly":break;case"Second":0>e?e=0:e>59&&(e=59);break;case"Year":e<this.minDate.year?e=this.minDate.year:e>this.maxDate.year&&(e=this.maxDate.year)}return c.value!=e&&(f=!0),f?!1:(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}}},_handleKeyPress:function(a,b){var c=this._selection(),d=this;if(a.ctrlKey&&97==b||a.ctrlKey&&65==b)return!0;if(8==b)return c.start>0&&d._setSelectionStart(c.start),!1;if(46==b)return c.start<this.items.length&&d._setSelectionStart(c.start),!1;if(c.start>=0){var e=String.fromCharCode(b),f=parseInt(e);if(!isNaN(f)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var g=!1,h=this.editors.indexOf(this.activeEditor),i=null;if(this.isEditing=!0,"ReadOnly"!=h.type&&"FORMAT_AMPM"!=h.type&&(i=this.activeEditor),null!=i&&0==i.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(e),null!=i&&this.editorText.length>=i.maxEditPositions&&(this.editorText=""),this.editorText+=e;var j=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var k=this._getLastEditableEditorIndex();this.activeEditor.positions=this.editors.indexOf(this.activeEditor)==k&&j&&this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0}return g=!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}var l=this._isSpecialKey(b);return l},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(b,c){if(115==b.keyCode){if(this.isOpened())return this.hideCalendar(),!1;if(!this.isOpened())return this.showCalendar(),!1}if(b.altKey)if(38==b.keyCode){if(this.isOpened())return this.hideCalendar(),!1}else if(40==b.keyCode&&!this.isOpened())return this.showCalendar(),!1;if(!this.isOpened()){if(this._selection(),b.ctrlKey&&99==c||b.ctrlKey&&67==c)return this._saveSelectedText(b),!1;if(b.ctrlKey&&122==c||b.ctrlKey&&90==c)return!1;if(b.ctrlKey&&118==c||b.ctrlKey&&86==c||b.shiftKey&&45==c)return!1;if(8==c||46==c){if(b.altKey||b.ctrlKey||46!=c){if(null!=this.activeEditor){var d=this.editors.indexOf(this.activeEditor);if(this.activeEditor.positions>=0){var e=a.global.format(Number(this.activeEditor.value),"d"+this.activeEditor.maxEditPositions,this.culture);if(tmp=e,tmp=tmp.substring(0,this.activeEditor.positions)+"0"+tmp.substring(this.activeEditor.positions+1),parseInt(tmp)<this.activeEditor.minValue&&(tmp=a.global.format(Number(this.activeEditor.minValue),"d"+this.activeEditor.maxEditPositions,this.culture)),this.activeEditor.value=this.enableAbsoluteSelection?tmp:this.activeEditor.minValue,this._validateValue(),this._updateText(),8==c){var f=this;this.enableAbsoluteSelection&&this.activeEditor.positions>0?setTimeout(function(){f.activeEditor.positions=f.activeEditor.positions-1,f._selectGroup(d)},10):setTimeout(function(){f._doLeftKey()},10)}else this._selectGroup(d)}else this._doLeftKey()}}else this.isEditing=!1,this.setDate(null);return!1}if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;if(37==c){if(this._editor){var g=this._doLeftKey();return g||(this.isEditing=!1,this._validateValue()),!g}return this._doLeftKey(),!1}if(39==c){if(this._editor){var g=this._doRightKey();return g||(this.isEditing=!1,this._validateValue()),!g}return this._doRightKey(),!1}var h=this._isSpecialKey(c);return a.jqx.browser.mozilla?h:!0}},_isSpecialKey:function(a){return 8!=a&&9!=a&&13!=a&&35!=a&&36!=a&&37!=a&&39!=a&&27!=a&&46!=a?!1:!0},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var a=this.dateTimeInput[0],b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:a.value.length,length:0};var d=this.dateTimeInput[0].createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d);var b=c.text.length;return{start:e.text.length,end:e.text.length+c.text.length,length:b,text:c.text}},_selectGroup:function(a){if("none"!=this.host.css("display")&&!this.readonly){var b=this._selection(),c="",d="",e=null;for(i=0;i<this.items.length;i++){if(d=this.items[i].dateParser(this.value),this.isEditing&&"ReadOnly"!=this.items[i].type){var f="Day"==this.items[i].type&&this.items[i].format.length>2;if("FORMAT_AMPM"==this.items[i].type&&(f=!0),!f)for(d=this.items[i].dateParserInEditMode(new Number(this.editors[i].value),"d"+this.editors[i].maxEditPositions);d.length<this.editors[i].maxEditPositions;)d="0"+d}if(c+=d,"ReadOnly"!=this.items[i].type&&!("Day"==this.items[i].type&&this.items[i].format.length>2)&&"FORMAT_AMPM"!=this.items[i].type)if(void 0!=a&&-1!=a){if(i>=a){var g=c.length-d.length,h=d.length;this.enableAbsoluteSelection&&!isNaN(parseInt(d))&&this.isEditing&&-1!=a&&(h=1,g+=this.editors[i].positions),g==this.dateTimeInput.val().length&&g--,this._setSelection(g,g+h),e=this.editors[i],this.activeEditor=e;break}}else if(c.length>=b.start){e=this.editors[i],this.activeEditor=e;var g=c.length-d.length,h=1;this.enableAbsoluteSelection?!isNaN(parseInt(d))&&this.isEditing&&-1!=a&&(h=1,g+=this.editors[i].positions):h=d.length,this._setSelection(g,g+h);break}}i<this.items.length&&-1==a&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0);var j=this._selection();if(0==j.length&&j.start>0){var k=this._getLastEditableEditorIndex();k>=0&&this._selectGroup(k)}}},_getLastEditableEditorIndex:function(){var a=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||"FORMAT_AMPM"!=this.items[i].type&&(a=i));return a},_setSelection:function(a,b){if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(a,b);else{var c=this.dateTimeInput[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}},_setSelectionStart:function(a){this._setSelection(a,a)},destroy:function(){this.host.removeClass("jqx-rc-all"),this.calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refresh:function(a){1!=a&&(this._setSize(),this._arrange())},_setOption:function(a,b){"value"===a&&(null==b?(this.value=b,this._refreshValue()):this.value._equalDate(b.dateTime)||(this.value=b,this._refreshValue())),"maxDate"==a&&(this.calendar.maxDate=b),"minDate"==a&&(this.calendar.minDate=b),"showCalendarButton"==a&&(b?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==a&&this.dateTimeInput.attr("disabled",b),"readonly"==a&&(this.readonly=b,this.dateTimeInput.css("readonly",b)),"textAlign"==a&&(this.dateTimeInput.css("text-align",b),this.textAlign=b),"width"==a?(this.width=b,this.width=parseInt(this.width),this._arrange()):"height"==a&&(this.height=b,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.DateTimeFormatItem={},a.extend(a.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(a,b,c){return this.format=a,this.type=b,this.culture=c,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(b){if(null==b)return"";var c=a.global.format(b.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture);return c},dateParserInEditMode:function(b,c){if(null==b)return"";var d=a.global.format(b.toString(),1==c.length?"%"+c:c,this.culture);return d},getDateTimeEditorByItemType:function(b){switch(this.type){case"FORMAT_AMPM":var c=a.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,b.hour/12,a.global.culture.calendar.AM[0],a.global.culture.calendar.PM[0],this),d=a.extend({},c);return d;case"Character":return null;case"Day":var e,f=b.year,g=b.month;e=3==this.format.length?a.global.culture.calendar.days.namesAbbr:this.format.length>3?a.global.culture.calendar.days.names:null;var h=b.day;null!=e&&(h=b.dayOfWeek+1);var i=a.jqx._jqxDateTimeInput.DateEditor._createDayEditor(b,b.day,1,b._daysInMonth(f,g),1==this.format.length?1:2,2,e,this),d=a.extend({},i);
return d;case"FORMAT_hh":var j=b.hour%12;0==j&&(j=12);var k=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(j,0,23,1==this.format.length?1:2,2,this),d=a.extend({},k);return d;case"FORMAT_HH":var l=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.hour,0,23,1==this.format.length?1:2,2,this),d=a.extend({},l);return d;case"Millisecond":var m=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this),d=a.extend({},m);return d;case"Minute":var n=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.minute,0,59,1==this.format.length?1:2,2,this),d=a.extend({},n);return d;case"Month":var o;o=3==this.format.length?a.global.culture.calendar.months.namesAbbr:this.format.length>3?a.global.culture.calendar.months.names:null;var p=a.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(b.month,2==this.format.length?2:1,o,this),d=a.extend({},p);return d;case"ReadOnly":return a.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,b.day,this);case"Second":var q=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.second,0,59,1==this.format.length?1:2,2,this),d=a.extend({},q);return d;case"Year":var r=a.jqx._jqxDateTimeInput.DateEditor._createYearEditor(b.year,this.format.length,this),d=a.extend({},r);return d}return null},getDateTimeWithOffset:function(a,b){if(null==a||null==b)throw"Invalid arguments";var c=b.hour;b.minute,b.second;var d=b.day(),e=b.month();b.year();var f=b,g=b;switch(this.type){case"FORMAT_AMPM":c=12*(a-c/12);break;case"Day":if(d=a-d,d!=a)if(29==a&&2==e){for(g=f;!DateTime._isLeapYear(g.year);)g=g._addYears(1);g=g._addDays(a-g.day)}else g=f._addMonths(1-f.month),g=g._addDays(a-f.day);break;case"FORMAT_hh":var h=12==a?0:a;f=f._addHours(h-f.hour%12);break;case"FORMAT_HH":f=f._addHours(a-f.hour);break;case"Millisecond":f=f._addMilliseconds(a*this._itemValue()-f.millisecond);break;case"Minute":f=f._addMinutes(a-f.minute);break;case"Month":if(g=f._addMonths(a-f.month),2==a&&29==f.day&&f.day!=g.day){for(g=f;!f.IsLeapYear(g.year);)g=g._addYears(1);g=g._addMonths(a-g.month)}f=g;break;case"ReadOnly":break;case"Second":f=f._addSeconds(a-f.second);break;case"Year":0==a&&(a=1),f=f._addYears(a-b.year)}return f}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.DateEditor=a.extend(a.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears?4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions:this.minEditPositions},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},_createYearEditor:function(b,c,d){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(4>=c?0:0,4>c?99:9999,2==c?2:1,c>3?4:2,d),this.initializeYearEditor(b,c,d.culture),this.handleYears=!0,this},initializeYearEditor:function(a,b,c){this.formatValueLength=b,this.dateTimeFormatInfo=c;var d=a;d=Math.min(d,9999),d=Math.max(d,1),d=this.formatValueLength<4?d%100:d,this.updateActiveEditor(d),this.value=d},updateActiveEditor:function(a){this.value=a,this.positions=0},_createDayEditor:function(b,c,d,e,f,g,h,i){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(d,e,1,g,i),this.currentValue=b,this.value=c,this.days=h,this.handleDays=!0,this},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},defaultTextValue:function(){this.value;var b=this.minEditPositions,c=b,d=a.global.format(this.value,"d"+c,"");return d},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var a=this.value%7+1;return a=this.getDayOfWeek(a),this.days[a]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(b){if(null==b)return this.deleteValue();if(0==b.length)return this.deleteValue();var c=b.substring(0,1);if(!isNaN(c)){var d,e=1,f=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);return d=f,this.positions>=this.maxEditPositions&&(this.positions=0),d=d.substring(0,this.positions)+c+d.substring(this.positions+1),d=this.setValueByString(d,e),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(a){if(this.handleDays){if(null!=this.days){var b=!1;if(b=this.insertLongString(a,b))return b;if(b=this.insertShortString(a,b))return b}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=a,this.defaultInsertString(a)}if(this.handleMonths&&null!=this.dateTimeMonths){var b=!1;if(b=this.insertLongString2(a,b))return b;if(b=this.insertShortString2(a,b))return b}return this.defaultInsertString(a)},insertShortString:function(a,b){if(1==a.length)for(i=0;6>i;++i){var c=(this.value+i)%7+1,d=this.days[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},insertLongString:function(a,b){if(a.length>0)for(i=0;6>i;++i){var c=(this.value+i)%7+1;if(this.days[c-1]==a)return this.updateActiveEditor(c),b=!0}return b},_createMonthEditor:function(b,c,d,e){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(1,12,c,2,e),this.dateTimeMonths=d,this.value=b,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this},insertLongString2:function(a,b){if(a.length>0)for(i=0;11>i;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==a)return this.updateActiveEditor(month),b=!0;return b},insertShortString2:function(a,b){if(1==a.length)for(i=0;11>i;++i){var c=(this.value+i)%12+1,d=this.dateTimeMonths[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(b){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture),d=c.toString()[this.positions];if(d=parseInt(d)+1,d>9&&(d=0),!b){var e=this.value+1;return e=this.correctMaximumValue(e),this.updateActiveEditor(e),!0}var f=c.substring(0,this.positions)+d+c.substring(this.positions+1);return f!=this.value||this.hasDigits()?(this.updateActiveEditor(f),!0):!1},decreaseValue:function(b){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture),d=c.toString()[this.positions];if(d=parseInt(d)-1,0>d&&(d=9),!b){var e=this.value-1;return e=this.correctMinimumValue(e),this.updateActiveEditor(e),!0}var f=c.substring(0,this.positions)+d+c.substring(this.positions+1);return f!=this.value||this.hasDigits()?(this.updateActiveEditor(f),!0):!1},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.NumberEditor={},a.extend(a.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears?4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions:this.minEditPositions},_createNumberEditor:function(b,c,d,e,f,g){return a.jqx._jqxDateTimeInput.NumberEditor=a.extend(!0,{},this),this.initializeFields(c,d,e,f,g),this},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},updateActiveEditor:function(a){this.value=a,this.positions=0},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},textValue:function(){this.value;var b=this.minEditPositions,c=b,d=a.global.format(this.value,"d"+c,"");return d},insert:function(b){if(null==b)return this.deleteValue();if(0==b.length)return this.deleteValue();var c=b.substring(0,1);if(!isNaN(c)){var d,e=1,f=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);return d=f,this.positions>=this.maxEditPositions&&(this.positions=0),d=d.substring(0,this.positions)+c+d.substring(this.positions+1),d=this.setValueByString(d,e),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(b){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture),d=c.toString()[this.positions];if(d=parseInt(d)+1,d>9&&(d=0),!b){var e=this.value+1;return e=this.correctMaximumValue(e),this.updateActiveEditor(e),!0}var f=c.substring(0,this.positions)+d+c.substring(this.positions+1);return f!=this.value||this.hasDigits()?(this.updateActiveEditor(f),!0):!1},decreaseValue:function(b){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture),d=c.toString()[this.positions];if(d=parseInt(d)-1,0>d&&(d=9),!b){var e=this.value-1;return e=this.correctMinimumValue(e),this.updateActiveEditor(e),!0}var f=c.substring(0,this.positions)+d+c.substring(this.positions+1);return f!=this.value||this.hasDigits()?(this.updateActiveEditor(f),!0):!1},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.DisabledEditor={},a.extend(a.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(a,b,c,d,e){return this.format=a,this.value=-1,this.item=e,this},textValue:function(){return""},insert:function(){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.AmPmEditor={},a.extend(a.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(a,b,c,d,e){return this.format=a,this.value=b,this.amString=c,this.pmString=d,this.item=e,c==d&&(this.amString="<"+c,this.pmString=">"+d),this},textValue:function(){var a=this.amString;return 0!=this.value&&(a=this.pmString),1==this.format.length&&a.length>1&&(a=a.substring(0,1)),a},insert:function(a){var b=a.toString();if(0==b.Length)return this.deleteValue();var c=!1;if(this.amString.Length>0&&this.pmString.Length>0){var d=amString[0],e=b[0],f=pmString[0];d.toString()==e.toString()?(this.value=0,c=!0):f.toString()==e.toString()&&(this.value=1,c=!0)}else this.pmString.Length>0?(this.value=1,c=!0):this.amString.Length>0&&(this.value=0,c=!0);return c},deleteValue:function(){var a=!0;if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return a},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.getDateTime=function(a){var b={dateTime:new Date(a),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:a.getHours(),minute:a.getMinutes(),day:a.getDate(),second:a.getSeconds(),month:1+a.getMonth(),year:a.getFullYear(),millisecond:a.getMilliseconds(),dayOfWeek:a.getDay(),isWeekend:function(a){(void 0==a||null==a)&&(a=this.dateTime);var b=0==a.getDay()%6;return b},dayOfYear:function(a){(void 0==a||null==a)&&(a=this.dateTime);var b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864e5)},_setDay:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setDate(a),this.day=this.dateTime.getDate()},_setMonth:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMonth(a-1),this.month=1+this.dateTime.getMonth()},_setYear:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setFullYear(a),this.year=this.dateTime.getFullYear()},_setHours:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setHours(a),this.hour=this.dateTime.getHours()},_setMinutes:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMinutes(a),this.minute=this.dateTime.getMinutes()},_setSeconds:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setSeconds(a),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMilliseconds(a),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(a){var b=this.dateTime;return b.setDate(b.getDate()+a),b},_addWeeks:function(a){var b=this.dateTime;return b.setDate(b.getDate()+7*a),b},_addMonths:function(a){var b=this.dateTime;return b.setMonth(b.getMonth()+a),b},_addYears:function(a){var b=this.dateTime;return b.setFullYear(b.getFullYear()+a),b},_addHours:function(a){var b=this.dateTime;return b.setHours(b.getHours()+a),b},_addMinutes:function(a){var b=this.dateTime;return b.setMinutes(b.getMinutes()+a),b},_addSeconds:function(a){var b=this.dateTime;return b.setSeconds(b.getSeconds()+a),b},_addMilliseconds:function(a){var b=this.dateTime;return b.setMilliseconds(b.getMilliseconds()+a),b},_isLeapYear:function(a){if(1>a||a>9999)throw"invalid year";return 0!=a%4?!1:0==a%100?0==a%400:!0},_dateToTicks:function(a,b,c){if(a>=1&&9999>=a&&b>=1&&12>=b){var d=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;if(c>=1&&c<=d[b]-d[b-1]){var a=a-1,e=365*a+a/4-a/100+a/400+d[b-1]+c-1;return 864e9*e}}},_daysInMonth:function(a,b){if(1>b||b>12)throw"Invalid month.";var c=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;return c[b]-c[b-1]},_timeToTicks:function(a,b,c){var d=3600*a+60*b+c;return 1e7*d},_equalDate:function(a){return this.year==a.getFullYear()&&this.day==a.getDate()&&this.month==a.getMonth()+1?!0:!1}};return b}}(jQuery),function(a){a.jqx.jqxWidget("jqxMenu","",{}),a.extend(a.jqx._jqxMenu.prototype,{defineInstance:function(){this.items=new Array,this.mode="horizontal",this.width=null,this.height=null,this.easing="easeInOutSine",this.animationShowDuration=200,this.animationHideDuration=200,this.autoCloseInterval=0,this.animationHideDelay=100,this.animationShowDelay=100,this.menuElements=new Array,this.autoSizeMainItems=!1,this.autoCloseOnClick=!0,this.autoCloseOnMouseLeave=!0,this.enableRoundedCorners=!0,this.disabled=!1,this.autoOpenPopup=!0,this.enableHover=!0,this.autoOpen=!0,this.autoGenerate=!0,this.clickToOpen=!1,this.showTopLevelArrows=!1,this.touchMode="auto",this.source=null,this.popupZIndex=2e4,this.events=["shown","closed","itemclick","initialized"]},createInstance:function(){var b=this;this.host.css("display","block"),this.propertyChangeMap.disabled=function(){b.disabled?(b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-menu-disabled"))):(b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.removeClass(b.toThemeProperty("jqx-menu-disabled")))},this.setSize();var c=!1,d=this;if(null!=d.width&&-1!=d.width.toString().indexOf("%")&&(c=!0),null!=d.height&&-1!=d.height.toString().indexOf("%")&&(c=!0),a(window).on("resize.menu"+this.element.id,function(){c&&(d.refreshTimer&&clearTimeout(d.refreshTimer),d.refreshTimer=setTimeout(function(){d.refresh()},1))}),c&&setInterval(function(){var a=d.host.width(),b=d.host.height();(d._lastWidth!=a||d._lastHeight!=b)&&d.refresh(),d._lastWidth=a,d._lastHeight=b},100),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),this.host.attr("tabIndex",1),this.host.css("outline","none"),this.source&&null!=this.source){var e=this.loadItems(this.source);this.element.innerHTML=e}if(this.element.innerHTML.indexOf("UL")){var f=this.host.find("ul:first");f.length>0&&this._createMenu(f[0])}this.host.data("autoclose",{}),this._render();var d=this;a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{this.host.focus()}catch(a){}},loadItems:function(b,c){if(null!=b){if(0==b.length)return"";var d=this;this.items=new Array;var e="<ul>";return c&&(e='<ul style="width:'+c+';">'),a.map(b,function(a){return void 0==a?null:(e+=d._parseItem(a),void 0)}),e+="</ul>"}},_parseItem:function(a){var b="";if(void 0==a)return null;var c=a.label;!a.label&&a.html&&(c=a.html),c||(c="Item"),"string"==typeof a&&(c=a);var d=!1;void 0!=a.selected&&a.selected&&(d=!0);var e=!1;return void 0!=a.disabled&&a.disabled&&(e=!0),b+="<li",e&&(b+=' item-disabled="true" '),a.label&&!a.html&&(b+=' item-label="'+c+'" '),null!=a.value&&(b+=' item-value="'+a.value+'" '),void 0!=a.id&&(b+=' id="'+a.id+'" '),b+=">"+c,a.items&&(b+=a.subMenuWidth?this.loadItems(a.items,a.subMenuWidth):this.loadItems(a.items)),b+="</li>"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height)},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?b=!0:0==this.touchMode&&(b=!1),b&&(this.host.addClass(this.toThemeProperty("jqx-touch")),a(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=b,b},refresh:function(a){a||this.setSize()},_closeAll:function(b){var c=null!=b?b.data:this,d=c.items;if(a.each(d,function(){var a=this;1==a.hasItems&&a.isOpen&&c._closeItem(c,a)}),"popup"==c.mode&&null!=b){var e=c._isRightClick(b);e||c.close()}},closeItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;1==a.isOpen&&a.element==d&&(e._closeItem(e,a),a.parentId&&e.closeItem(a.parentId))}),!0},openItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;0==a.isOpen&&a.element==d&&(e._openItem(e,a),a.parentId&&e.openItem(a.parentId))}),!0},_getClosedSubMenuOffset:function(b){var c=a(b.subMenuElement),d=-c.outerHeight(),e=-c.outerWidth(),f=0==b.level&&"horizontal"==this.mode;switch(f?e=0:d=0,b.openVerticalDirection){case"up":case"center":d=c.outerHeight()}switch(b.openHorizontalDirection){case this._getDir("left"):e=f?0:c.outerWidth();break;case"center":e=f?0:c.outerWidth()}return{left:e,top:d}},_closeItem:function(b,c,d,e){if(null==b||null==c)return!1;var f=a(c.subMenuElement),g=0==c.level&&"horizontal"==this.mode,h=this._getClosedSubMenuOffset(c),i=h.top,j=h.left;$menuElement=a(c.element);var k=f.closest("div.jqx-menu-popup");if(null!=k){var l=b.animationHideDelay;1==e&&(l=0),null!=f.data("timer").show&&(clearTimeout(f.data("timer").show),f.data("timer").show=null);var m=function(){c.isOpen=!1,!a.jqx.browser.msie&&"fade"==this.animationtype,g?(!a.jqx.browser.msie,f.stop().animate({top:i},b.animationHideDuration,function(){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down")):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up"))),k.css({display:"none"}),0==b.animationHideDuration&&f.css({top:i}),b._raiseEvent("1",c)})):(!a.jqx.browser.msie,f.stop().animate({left:j},b.animationHideDuration,function(){if(0==b.animationHideDuration&&f.css({left:j}),c.level>0){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right"))):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left"))))}else{a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("right"))):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("left"))))}k.css({display:"none"}),b._raiseEvent("1",c)}))};if(l>0?f.data("timer").hide=setTimeout(function(){m()},l):m(),void 0!=d&&d){var n=f.children();a.each(n,function(){b.menuElements[this.id]&&b.menuElements[this.id].isOpen&&(a(b.menuElements[this.id].subMenuElement),b._closeItem(b,b.menuElements[this.id],!0,!0))})}}},getSubItems:function(b,c){if(null==b)return!1;var d=this,e=new Array;null!=c&&a.extend(e,c);var f=b,g=this.menuElements[f],h=a(g.subMenuElement),i=h.find(".jqx-menu-item");return a.each(i,function(){e[this.id]=d.menuElements[this.id];var b=d.getSubItems(this.id,e);a.extend(e,b)}),e},disable:function(b,c){if(null!=b){var d=b,e=this;if(this.menuElements[d]){var f=this.menuElements[d];f.disabled=c;var g=a(f.element);f.element.disabled=c,a.each(g.children(),function(){this.disabled=c}),c?(g.addClass(e.toThemeProperty("jqx-menu-item-disabled")),g.addClass(e.toThemeProperty("jqx-fill-state-disabled"))):(g.removeClass(e.toThemeProperty("jqx-menu-item-disabled")),g.removeClass(e.toThemeProperty("jqx-fill-state-disabled")))}}},_setItemProperty:function(a,b,c){if(null!=a){var d=a;if(this.menuElements[d]){var e=this.menuElements[d];e[b]&&(e[b]=c)}}},setItemOpenDirection:function(b,c,d){if(null!=b){var e=b,f=this,g=a.jqx.browser.msie&&a.jqx.browser.version<8;if(this.menuElements[e]){var h=this.menuElements[e];if(null!=c&&(h.openHorizontalDirection=c,h.hasItems&&h.level>0)){var i=a(h.element);if(void 0!=i){var j=a(h.arrow);null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i)),j.removeClass(),"left"==h.openHorizontalDirection?j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("left"))):j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("right"))),j.css("visibility","visible"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right"))}}if(null!=d){h.openVerticalDirection=d;var j=a(h.arrow),i=a(h.element);void 0!=i&&(null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i)),j.removeClass(),"down"==h.openVerticalDirection?j.addClass(f.toThemeProperty("jqx-menu-item-arrow-down")):j.addClass(f.toThemeProperty("jqx-menu-item-arrow-up")),j.css("visibility","visible"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right")))}}}},_getSiblings:function(a){var b=new Array,c=0;for(i=0;i<this.items.length;i++)this.items[i]!=a&&this.items[i].parentId==a.parentId&&this.items[i].hasItems&&(b[c++]=this.items[i]);return b},_openItem:function(b,c,d){if(null==b||null==c)return!1;if(c.isOpen)return!1;if(c.disabled)return!1;if(b.disabled)return!1;var e=b.popupZIndex;void 0!=d&&(e=d);var f=b.animationHideDuration;b.animationHideDuration=0,b._closeItem(b,c,!0,!0),b.animationHideDuration=f,this.host.focus();var g=[5,5],h=a(c.subMenuElement);null!=h&&h.stop(),null!=h.data("timer").hide&&clearTimeout(h.data("timer").hide);var i=h.closest("div.jqx-menu-popup"),j=a(c.element),k=0==c.level?this._getOffset(c.element):j.position();if(c.level>0&&this.hasTransform){var l=parseInt(j.offset().top)-parseInt(this._getOffset(c.element).top);k.top+=l}0==c.level&&"popup"==this.mode&&(k=j.offset());var m=0==c.level&&"horizontal"==this.mode,n=m?k.left:null!=this.menuElements[c.parentId]&&null!=this.menuElements[c.parentId].subMenuElement?parseInt(a(a(this.menuElements[c.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-g[0]:parseInt(h.outerWidth());if(i.css({visibility:"visible",display:"block",left:n,top:m?k.top+j.outerHeight():k.top,zIndex:e}),h.css("display","block"),"horizontal"!=this.mode&&0==c.level){var o=this._getOffset(this.element);i.css("left",-1+o.left+this.host.outerWidth()),h.css("left",-h.outerWidth())}else{var p=this._getClosedSubMenuOffset(c);h.css("left",p.left),h.css("top",p.top)}i.css({height:parseInt(h.outerHeight())+parseInt(g[1])+"px"});var q=0,r=0;switch(c.openVerticalDirection){case"up":m?(h.css("top",h.outerHeight()),q=g[1],i.css({display:"block",top:k.top-i.outerHeight(),zIndex:e})):(q=g[1],h.css("top",h.outerHeight()),i.css({display:"block",top:k.top-i.outerHeight()+g[1]+j.outerHeight(),zIndex:e}));break;case"center":m?(h.css("top",0),i.css({display:"block",top:k.top-i.outerHeight()/2+g[1],zIndex:e})):(h.css("top",0),i.css({display:"block",top:k.top+j.outerHeight()/2-i.outerHeight()/2+g[1],zIndex:e}))}switch(c.openHorizontalDirection){case this._getDir("left"):m?i.css({left:k.left-(i.outerWidth()-j.outerWidth()-g[0])}):(r=0,h.css("left",i.outerWidth()),i.css({left:k.left-i.outerWidth()+2*c.level}));break;case"center":m?i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}):(i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}),h.css("left",i.outerWidth()))}if(m){if(parseInt(h.css("top"))==q)return c.isOpen=!0,void 0}else if(parseInt(h.css("left"))==r)return 1==c.isOpen,void 0;a.each(b._getSiblings(c),function(){b._closeItem(b,this,!0,!0)});var s=a.data(b.element,"animationHideDelay");b.animationHideDelay=s,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){b._closeAll()},this.autoCloseInterval))),h.data("timer").show=setTimeout(function(){if(null!=i)if(m){h.stop(),h.css("left",r),!a.jqx.browser.msie,j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down-selected")):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up-selected"))),0==b.animationShowDuration?(h.css({top:q}),c.isOpen=!0,b._raiseEvent("0",c)):h.animate({top:q},b.animationShowDuration,b.easing,function(){c.isOpen=!0,b._raiseEvent("0",c)})}else{if(h.stop(),h.css("top",q),!a.jqx.browser.msie,c.level>0){j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")))}else{j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")))}!a.jqx.browser.msie,0==b.animationShowDuration?(h.css({left:r}),b._raiseEvent("0",c),c.isOpen=!0):h.animate({left:r},b.animationShowDuration,b.easing,function(){b._raiseEvent("0",c),c.isOpen=!0})}},this.animationShowDelay)},_getDir:function(a){switch(a){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(b,c){var d=this,e=0;if(this.host.removeClass(d.toThemeProperty("jqx-menu-horizontal")),this.host.removeClass(d.toThemeProperty("jqx-menu-vertical")),this.host.removeClass(d.toThemeProperty("jqx-menu")),this.host.removeClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-menu")),void 0!=b&&void 0!=c&&"popup"==c){if(this.host.parent().length>0&&this.host.parent().parent().length>0&&this.host.parent().parent()[0]==document.body){var f=a.data(document.body,"jqxMenuOldHost"+this.element.id);if(null!=f){var g=this.host.closest("div.jqx-menu-wrapper");g.remove(),g.appendTo(f),this.host.css("display","block"),this.host.css("visibility","visible"),g.css("display","block"),g.css("visibility","visible")}}}else void 0==b&&void 0==c&&a.data(document.body,"jqxMenuOldHost"+this.element.id,this.host.parent()[0]);switch(this.autoOpenPopup?"popup"==this.mode?(a(document).on("contextmenu",function(){return!1}),a(document).on("mousedown.menu"+this.element.id,d,this._openContextMenu)):(a(document).off("contextmenu"),a(document).off("mousedown.menu"+this.element.id,this._openContextMenu)):(a(document).off("contextmenu"),a(document).off("mousedown.menu"+this.element.id,this._openContextMenu)),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.mode){case"horizontal":this.host.addClass(d.toThemeProperty("jqx-widget-header")),this.host.addClass(d.toThemeProperty("jqx-menu-horizontal")),a.each(this.items,function(){var b=this;$element=a(b.element);var c=a(b.arrow);if(c.removeClass(),b.hasItems&&b.level>0){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float",d._getDir("right")),c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),b.arrow=c[0]}if(0==b.level){if(a(b.element).css("float",d._getDir("left")),!b.ignoretheme&&b.hasItems&&d.showTopLevelArrows){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),f=a.jqx.browser.msie&&a.jqx.browser.version<8;null==b.arrow?f?c.appendTo($element):c.prependTo($element):c=a(b.arrow),"down"==b.openVerticalDirection?c.addClass(d.toThemeProperty("jqx-menu-item-arrow-down")):c.addClass(d.toThemeProperty("jqx-menu-item-arrow-up")),c.css("visibility","visible"),f?c.css("display","inline-block"):(c.css("display","block"),c.css("float","right")),b.arrow=c[0]}else if(!b.ignoretheme&&b.hasItems&&!d.showTopLevelArrows&&null!=b.arrow){var c=a(b.arrow);c.remove(),b.arrow=null}e=Math.max(e,$element.height())}});break;case"vertical":case"popup":if(this.host.addClass(d.toThemeProperty("jqx-menu-vertical")),a.each(this.items,function(){var b=this;if($element=a(b.element),b.hasItems&&!b.ignoretheme){b.arrow&&a(b.arrow).remove();var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float","right"),0==b.level?c.addClass(d.toThemeProperty("jqx-menu-item-arrow-top-"+d._getDir("right"))):c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),b.arrow=c[0]
}$element.css("float","none")}),"popup"==this.mode){this.host.addClass(d.toThemeProperty("jqx-widget-content")),this.host.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var g=this.host.closest("div.jqx-menu-wrapper");g[0].id="menuWrapper"+this.element.id,g.appendTo(a(document.body))}else this.host.addClass(d.toThemeProperty("jqx-widget-header"));if("popup"==this.mode){var h=this.host.height();this.host.css("position","absolute"),this.host.css("top","0"),this.host.css("left","0"),this.host.height(h),this.host.css("display","none")}}},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},_getOffset:function(b){var c=a.jqx.mobile.isSafariMobileBrowser(),d=a(b).offset(),e=d.top,f=d.left;"0px"!=a("body").css("border-top-width")&&(e=parseInt(e)+this._getBodyOffset().top),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)+this._getBodyOffset().left);var g=a.jqx.mobile.isWindowsPhone();if(this.hasTransform||null!=c&&c||g){var h={left:a.jqx.mobile.getLeftPos(b),top:a.jqx.mobile.getTopPos(b)};return h}return{left:f,top:e}},_isRightClick:function(a){var b;if(!a)var a=window.event;return a.which?b=3==a.which:a.button&&(b=2==a.button),b},_openContextMenu:function(a){var b=a.data,c=b._isRightClick(a);c&&b.open(parseInt(a.clientX)+5,parseInt(a.clientY)+5)},close:function(){var b=this,c=a.data(this.element,"contextMenuOpened"+this.element.id);c&&(this.host,a.each(b.items,function(){var a=this;a.hasItems&&b._closeItem(b,a)}),a.each(b.items,function(){var b=this;if(1==b.isOpen){$submenu=a(b.subMenuElement);var c=$submenu.closest("div.jqx-menu-popup");c.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),a.data(b.element,"contextMenuOpened"+this.element.id,!1),b._raiseEvent("1",b))},open:function(b,c){if("popup"==this.mode){var d=0;"block"==this.host.css("display")&&(this.close(),d=this.animationHideDuration);var e=this;(void 0==b||null==b)&&(b=0),(void 0==c||null==c)&&(c=0),setTimeout(function(){e.host.show(e.animationShowDuration),e.host.css("visibility","visible"),a.data(e.element,"contextMenuOpened"+e.element.id,!0),e._raiseEvent("0",e),e.host.css("z-index",9999),void 0!=b&&void 0!=c&&e.host.css({left:b,top:c})},d)}},_renderHover:function(a,b,c){var d=this;c||b.ignoretheme||a.hover(function(){b.disabled||b.separator||!d.enableHover||d.disabled||(b.level>0?(a.addClass(d.toThemeProperty("jqx-fill-state-hover")),a.addClass(d.toThemeProperty("jqx-menu-item-hover"))):(a.addClass(d.toThemeProperty("jqx-fill-state-hover")),a.addClass(d.toThemeProperty("jqx-menu-item-top-hover"))))},function(){b.disabled||b.separator||!d.enableHover||d.disabled||(b.level>0?(a.removeClass(d.toThemeProperty("jqx-fill-state-hover")),a.removeClass(d.toThemeProperty("jqx-menu-item-hover"))):(a.removeClass(d.toThemeProperty("jqx-fill-state-hover")),a.removeClass(d.toThemeProperty("jqx-menu-item-top-hover"))))})},_closeAfterClick:function(b){var c=null!=b?b.data:this,d=!1;c.autoCloseOnClick&&(a.each(a(b.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(d=!0,!1):void 0}),d||(b.data=c,c._closeAll(b)))},_autoSizeHorizontalMenuItems:function(){var b=this;if(b.autoSizeMainItems&&"horizontal"==this.mode){var c=this.maxHeight;parseInt(c)>parseInt(this.host.height())&&(c=parseInt(this.host.height())),c=parseInt(this.host.height()),a.each(this.items,function(){var d=this;if($element=a(d.element),0==d.level&&c>0){var e=$element.children().length>0?parseInt($element.children().height()):$element.height(),f=b.host.find("ul:first"),g=parseInt(f.css("padding-top")),h=parseInt(f.css("margin-top")),i=c-2*(h+g),j=parseInt(i)/2-e/2,k=parseInt(j),l=parseInt(j);if($element.css("padding-top",k),$element.css("padding-bottom",l),parseInt($element.outerHeight())>i){var m=1;$element.css("padding-top",k-m),k-=m}}})}},_render:function(b,c){var d=this.popupZIndex,e=[5,5],f=this;a.data(f.element,"animationHideDelay",f.animationHideDelay);var g=this.isTouchDevice();a.data(document.body,"menuel",this),this.autoCloseOnClick&&(this.removeHandler(a(document),"mousedown.menu"+this.element.id,f._closeAfterClick),this.addHandler(a(document),"mousedown.menu"+this.element.id,f._closeAfterClick,f),g&&this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,f._closeAfterClick,f)),this.hasTransform=a.jqx.utilities.hasTransform(this.host),this._applyOrientation(b,c),f.enableRoundedCorners&&this.host.addClass(f.toThemeProperty("jqx-rc-all")),a.each(this.items,function(){var b=this,c=a(b.element);if(f.enableRoundedCorners&&c.addClass(f.toThemeProperty("jqx-rc-all")),f.removeHandler(c,"click"),f.addHandler(c,"click",function(c){if(!b.disabled&&(f._raiseEvent("2",{item:b.element,event:c}),f.autoOpen?!f.autoCloseOnClick||g||f.clickToOpen||b.closeOnClick&&(c.data=f,f._closeAll(c)):b.level>0&&(!f.autoCloseOnClick||g||f.clickToOpen||(c.data=f,f._closeAll(c))),g&&f.autoCloseOnClick&&(c.data=f,b.hasItems||f._closeAll(c)),"A"!=c.target.tagName&&"a"!=c.target.tagName)){var d=null!=b.anchor?a(b.anchor):null;if(null!=d&&d.length>0){var e=d.attr("href"),h=d.attr("target");null!=e&&(null!=h?window.open(e,h):window.location=e)}}}),f.removeHandler(c,"mouseenter"),f.removeHandler(c,"mouseleave"),f._renderHover(c,b,g),null!=b.subMenuElement){var h=a(b.subMenuElement);h.wrap('<div class="jqx-menu-popup" style="border: none; background-color: transparent; z-index:'+d+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),h.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-h.outerHeight()}),h.data("timer",{}),b.level>0?h.css("left",-h.outerWidth()):"horizontal"==f.mode&&h.css("left",0),d++;var i=a(b.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(a(b.subMenuElement).outerWidth())+parseInt(e[0])+"px",height:parseInt(a(b.subMenuElement).outerHeight())+parseInt(e[1])+"px"}),j=c.closest("div.jqx-menu-popup");if(j.length>0){var k=h.css("margin-left"),l=h.css("margin-right"),m=h.css("padding-left"),n=h.css("padding-right");i.appendTo(j),h.css("margin-left",k),h.css("margin-right",l),h.css("padding-left",m),h.css("padding-right",n)}else{var k=h.css("margin-left"),l=h.css("margin-right"),m=h.css("padding-left"),n=h.css("padding-right");i.appendTo(a(document.body)),h.css("margin-left",k),h.css("margin-right",l),h.css("padding-left",m),h.css("padding-right",n)}g||f.clickToOpen?(f.removeHandler(c,"mousedown"),f.addHandler(c,"mousedown",function(a){clearTimeout(h.data("timer").hide),null!=h&&h.stop(),0!=b.level||b.isOpen||(a.data=f,f._closeAll(a)),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b)})):(f.addHandler(c,"mouseenter",function(){if((f.autoOpen||b.level>0&&!f.autoOpen)&&clearTimeout(h.data("timer").hide),b.parentId&&0!=b.parentId&&f.menuElements[b.parentId]){var a=f.menuElements[b.parentId].isOpen;if(!a)return}return(f.autoOpen||b.level>0&&!f.autoOpen)&&f._openItem(f,b),!1}),f.addHandler(c,"mousedown",function(){f.autoOpen||0!=b.level||(clearTimeout(h.data("timer").hide),null!=h&&h.stop(),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b))}),f.addHandler(c,"mouseleave",function(c){if(f.autoCloseOnMouseLeave){clearTimeout(h.data("timer").hide);var d=a(b.subMenuElement),e={left:parseInt(c.pageX),top:parseInt(c.pageY)},g={left:parseInt(d.offset().left),top:parseInt(d.offset().top),width:parseInt(d.outerWidth()),height:parseInt(d.outerHeight())},i=!0;g.left-5<=e.left&&e.left<=g.left+g.width+5&&g.top<=e.top&&e.top<=g.top+g.height&&(i=!1),i&&f._closeItem(f,b,!0)}}),f.removeHandler(i,"mouseenter"),f.addHandler(i,"mouseenter",function(){clearTimeout(h.data("timer").hide)}),f.removeHandler(i,"mouseleave"),f.addHandler(i,"mouseleave",function(){f.autoCloseOnMouseLeave&&(clearTimeout(h.data("timer").hide),clearTimeout(h.data("timer").show),null!=h&&h.stop(),f._closeItem(f,b,!0))}))}}),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},createID:function(){var a=Math.random()+"";for(a=a.replace(".",""),a="99"+a,a/=1;this.items[a];)a=Math.random()+"",a=a.replace(".",""),a/=1;return"menuItem"+a},_createMenu:function(b,c){if(null!=b){void 0==c&&(c=!0),null==c&&(c=!0);for(var d=a(b).find("li"),e=0,f=0;f<d.length;f++){var g=d[f],h=a(g);if(-1!=g.className.indexOf("jqx-menu")||0!=this.autoGenerate){var i=g.id;i||(i=this.createID()),c&&(g.id=i,this.items[e]=new a.jqx._jqxMenu.jqxMenuItem,this.menuElements[i]=this.items[e]),e+=1;var j=0,k=this;h.children().each(function(){return c||(a(this).removeClass(),k.autoGenerate&&(a(k.items[e-1].subMenuElement).removeClass(),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-widget-content")),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-menu-dropdown")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(c&&(k.items[e-1].subMenuElement=this),!1):!k.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(c&&(k.items[e-1].subMenuElement=this),a(this).removeClass(),a(this).addClass(k.toThemeProperty("jqx-widget-content")),a(this).addClass(k.toThemeProperty("jqx-menu-dropdown")),k.rtl?a(this).addClass(k.toThemeProperty("jqx-rc-l")):a(this).addClass(k.toThemeProperty("jqx-rc-r")),a(this).addClass(k.toThemeProperty("jqx-rc-b")),!1)}),h.parents().each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(j=this.id,!1):!k.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(j=this.id,!1)});var l=!1,m=g.getAttribute("type"),n=g.getAttribute("ignoretheme");if(n?("true"==n||1==n)&&(n=!0):n=!1,m){if("separator"==m)var l=!0}else m=g.type;l||(m=j?"sub":"top");var o=this.items[e-1];if(c){o.id=i,o.parentId=j,o.type=m,o.separator=l,o.element=d[f];var p=h.find("a:first");o.level=h.parents("li").length,o.anchor=p.parents("li").length==o.level+1?p:null}o.ignoretheme=n;var q=this.menuElements[j];null!=q&&q.ignoretheme&&(o.ignoretheme=q.ignoretheme,n=q.ignoretheme),this.autoGenerate&&("separator"==m?(h.removeClass(),h.addClass(this.toThemeProperty("jqx-menu-item-separator"))):n||(h.removeClass(),this.rtl&&h.addClass(this.toThemeProperty("jqx-rtl")),o.level>0?(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item"))):(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item-top"))))),c&&!n&&(o.hasItems=h.find("li").length>0)}}}},destroy:function(){var b=this.host.closest("div.jqx-menu-wrapper");b.remove();var c=this;this.removeHandler(a(document),"mousedown.menu"+this.element.id,c._closeAfterClick),this.removeHandler(a(document),"mouseup.menu"+this.element.id,c._closeAfterClick),a(window).off("resize.menu"+c.element.id),a.each(this.items,function(){var b=this,d=a(b.element);c.removeHandler(d,"click"),c.removeHandler(d,"selectstart"),c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave"),c.removeHandler(d,"mousedown"),c.removeHandler(d,"mouseleave")}),a.data(document.body,"menuel",null),this.items=new Array,this.host.removeClass(),this.host.remove()},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new jQuery.Event(d);"2"==b&&(args=c.item,args.owner=this,a.extend(e,c.event),e.type="itemclick"),e.owner=this,e.args=args;var f=this.host.trigger(e);return f},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&e!=d){if("touchMode"==c&&(this._isTouchDevice=null,b._render(e,d)),"source"==c&&null!=b.source){var f=b.loadItems(b.source);b.element.innerHTML=f;var g=b.host.find("ul:first");g.length>0&&(b.refresh(),b._createMenu(g[0]),b._render())}"autoCloseOnClick"==c?0==e?a(document).off("mousedown.menu"+this.element.id,b._closeAll):a(document).on("mousedown.menu"+this.element.id,b,b._closeAll):"mode"==c||"width"==c||"height"==c||"showTopLevelArrows"==c?(b.refresh(),"mode"==c?b._render(e,d):b._applyOrientation()):"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host)}}})}(jQuery),function(a){a.jqx._jqxMenu.jqxMenuItem=function(a,b,c){var d={id:a,parentId:b,parentItem:null,anchor:null,type:c,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return d}}(jQuery),function(a){a.jqx.jqxWidget("jqxTabs","",{}),a.extend(a.jqx._jqxTabs.prototype,{defineInstance:function(){this.scrollAnimationDuration=200,this.enabledHover=!0,this.disabled=!1,this.collapsible=!1,this.animationType="none",this.enableScrollAnimation=!0,this.contentTransitionDuration=450,this.toggleMode="click",this.selectedItem=0,this.height="auto",this.width="auto",this.position="top",this.selectionTracker=!1,this.scrollable=!0,this.scrollPosition="right",this.scrollStep=70,this.autoHeight=!0,this.headerHeight=null,this.showCloseButtons=!1,this.canCloseAllTabs=!0,this.closeButtonSize=16,this.arrowButtonSize=16,this.keyboardNavigation=!0,this.reorder=!1,this.selectionTrackerAnimationDuration=300,this._isTouchDevice=!1,this.roundedCorners=!0,this._headerExpandingBalance=0,this._dragStarted=!1,this._tabCaptured=!1,this._lastUnorderedListPosition=0,this._selectedItem=0,this._titleList=[],this._contentList=[],this._contentWrapper=null,this._unorderedList=null,this._scrollTimeout=null,this.isCollapsed=!1,this._currentEvent=null,this._needScroll=!0,this._isAnimated={},this._events=["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],this._initTabContentList=[],this._invalidArgumentExceptions={invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},this.rtl=!1},createInstance:function(){this.host.addClass(this.toThemeProperty("jqx-tabs")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._unorderedList=this.host.children("ul"),this._titleList=this.host.children("ul").children("li"),this._contentList=this.host.children("div"),this._selectedItem=this.selectedItem,this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1);for(var b=this.length();b;)b--,this._titleList[b]=a(this._titleList[b]),this._contentList[b]=a(this._contentList[b]);this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0);var c=this;c._enableWindowResize(),c._hiddenParent()&&(c._intervalTimer=setInterval(function(){c._hiddenParent()||(c._refresh(),clearInterval(c._intervalTimer),c.initTabContent&&(c._initTabContentList[c.selectedItem]||(c.initTabContent(c.selectedItem),c._initTabContentList[c.selectedItem]=!0)))},100))},_hiddenParent:function(){var b=this;if("none"==b.host.css("display"))return!0;var c=!1;return a.each(b.host.parents(),function(){return"none"==a(this).css("display")?(c=!0,!1):void 0}),c},_enableWindowResize:function(b){if(0==b)return a(window).off("resize.tabs"+this.element.id),void 0;var c=!1,d=this;null!=d.width&&-1!=d.width.toString().indexOf("%")&&(c=!0),null!=d.height&&-1!=d.height.toString().indexOf("%")&&(c=!0),("auto"==d.width||"auto"==d.height)&&(c=!0),a(window).on("resize.tabs"+this.element.id,function(){if(c){var a=d.host.width(),b=d.host.height();(d._lastWidth!=a||d._lastHeight!=b)&&(d.refreshTimer&&clearTimeout(d.refreshTimer),d.refreshTimer=setTimeout(function(){d.refresh()},10)),d._lastWidth=a,d._lastHeight=b}})},refresh:function(a){(1!=a||void 0==a)&&this._performResize()},_seletionTrackerBrowserCheck:function(){var b="Browser CodeName: "+navigator.appCodeName;return b+="Browser Name: "+navigator.appName,b+="Browser Version: "+navigator.appVersion,b+="Platform: "+navigator.platform,b+="User-agent header: "+navigator.userAgent,-1!=b.indexOf("IEMobile")?!1:-1!=b.indexOf("Windows Phone OS")?!1:a.jqx.browser.msie&&a.jqx.browser.version<=7?!1:!0},render:function(){this._refresh()},_uiRefresh:function(a){if(this._unorderedListLeftBackup=this._unorderedList.css("left"),a&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.css("left",this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!=this._rightArrow.css("visibility")){var b=2*this.arrowButtonSize,c=this.host.width()-parseInt(this._unorderedList.width()+b+ +parseInt(this._unorderedList.css("margin-left")),10);this._unorderedList.css("left",c+"px")}},_refresh:function(){this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container")),this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});for(var a=this.length();a;)switch(a--,this._titleList[a].removeClass(),this._titleList[a].css("padding",""),this._titleList[a].addClass("jqx-reset"),this._titleList[a].addClass("jqx-disableselect"),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title")),this._titleList[a].addClass(this.toThemeProperty("jqx-item")),"bottom"==this.position&&this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-bottom")),this._titleList[a].disabled&&(this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-t")),this._contentList[a].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].addClass(this.toThemeProperty("jqx-rc-t"))}if(this.selectionTracker)switch(this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b")),this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"))}},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);d.owner=this,d.args=c,(6===b||7===b)&&(d.cancel=!1,this._currentEvent=d);var e="";try{if(e=this.host.trigger(d),1==b){var f=this;if(this.selectionTracker||"none"!=this.animationType)setTimeout(function(){f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0);var b=new a.Event("loadContent");b.owner=this,f._contentList.length>0&&f._contentList[f.selectedItem]&&f._contentList[f.selectedItem].find("div").trigger(b)},50+f.selectionTrackerAnimationDuration);else{var d=new a.Event("loadContent");f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0),d.owner=this,this._contentList.length>0&&this._contentList[this.selectedItem]&&this._contentList[this.selectedItem].find("div").trigger(d)}}}catch(g){}return e},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var a,b=this.arrowButtonSize,c=this.arrowButtonSize;return a="left"===this.scrollPosition?b+c:"both"===this.scrollPosition?b:0},_scrollRight:function(a){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var b,c,d=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),e=parseInt(this.host.width(),10),f=parseInt(this._unorderedList.css("left"),10),g=this._getArrowsDisplacement(),h=0,i=void 0;this.scrollable?(b=parseInt(this._leftArrow.outerWidth(),10),c=parseInt(this._rightArrow.outerWidth(),10)):(b=0,c=0),a=this.enableScrollAnimation?a:0,parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)?h=g:Math.abs(f)+this.scrollStep<Math.abs(e-d)+b+c+g?(h=f-this.scrollStep,i=f-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(h=e-d-(2*this.arrowButtonSize-g),h<parseInt(this._unorderedList.css("left"),10)-4&&h>parseInt(this._unorderedList.css("left"),10)+4&&(i=e-d-b-c+parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(h,i,a)},_scrollLeft:function(a){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var b=parseInt(this._unorderedList.css("left")),c=this._getArrowsDisplacement(),d=0,e=void 0;a=this.enableScrollAnimation?a:0,parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())?d=c:b+this.scrollStep<c?(d=b+this.scrollStep,e=b+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(d=c,d<parseInt(this._unorderedList.css("left"))-4&&d>parseInt(this._unorderedList.css("left"))+4&&(e=parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(d,e,a)},_performScrollAnimation:function(a,b,c){var d=this;void 0!==b&&this._moveSelectionTrack(this._selectedItem,0,b),this._lockAnimation("unorderedList"),this._unorderedList.animate({left:a},c,function(){d._moveSelectionTrack(d.selectedItem,0),d._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var a=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(b){if(!a._activeAnimation()){a._selectedItem;var c=a.selectionTracker;switch(b.keyCode){case 37:return a.rtl?a.next():a.previous(),!1;case 39:return a.rtl?a.previous():a.next(),!1;case 36:return a.first(),!1;case 35:return a.last(),!1;case 27:a._tabCaptured&&(a._cancelClick=!0,a._uncapture(null,a.selectedItem),a._tabCaptured=!1)}a.selectionTracker=c}return!0})},_addScrollHandlers:function(){var b=this;this.addHandler(this._leftArrow,"mousedown",function(){b._startScrollRepeat(!0,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){b._startScrollRepeat(!1,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(a(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(a){var b=a.data;clearTimeout(b._scrollTimeout)},_mouseUpScrollDocumentHandler:function(a){var b=a.data;clearTimeout(b._scrollTimeout)},_mouseUpDragDocumentHandler:function(a){var b=a.data;b._tabCaptured&&b._dragStarted&&b._uncapture(a),b._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var a=this.length();a;)a--,this._addEventListenerAt(a);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var b=this;if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var c=function(){b._tabCaptured&&(b._cancelClick=!0,b._uncapture(null,b.selectedItem),b._tabCaptured=!1)},d=null;window.parent&&document.referrer&&(d=document.referrer),d&&-1!=d.indexOf(document.location.host)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c))}},focus:function(){try{this.host.focus()}catch(a){}},_getFocusedItem:function(a){for(var b=this.length();b;){b--;var c=this._titleList[b],d=parseInt(c.outerWidth(!0)),e=parseInt(c.offset().left),f=(parseInt(this._unorderedList.offset().left),parseInt(this.host.offset().left),e);if(a>=f&&f+d>=a&&c!==this._capturedElement&&!this._titleList[b].locked&&this._titleList[b].disabled!==!0)return b}return-1},_uncapture:function(b){var c=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var d=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0)}if(b)var e=this._getFocusedItem(b.clientX,b.clientY);-1!==e&&b?(this._raiseEvent(10,{item:d,dropIndex:e}),this._reorderItems(e,d)):this._capturedElement.css("left",0),a.each(this._titleList,function(){this.css("position","static")}),this._reorderHeaderElements(),this._unorderedList.css({position:"relative",top:"0px"}),this._prepareTabs(),-1!==e&&b?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=d,this._moveSelectionTrack(d,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.css("left",this._unorderedListLeftBackup),this.selectionTracker=c}},_reorderItems:function(a,b){var c=this._titleList[this.selectedItem];this._contentList[b],"undefined"==typeof this._capturedElement&&(this._capturedElement=this._titleList[b]),this._titleList[b].remove(),a>b?this._titleList[b].insertAfter(this._titleList[a]):this._titleList[b].insertBefore(this._titleList[a]),this._reorderElementArrays(a,b),this._getSelectedItem(c),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(a,b){this._titleList[this.selectedItem];var c=this._contentList[b];if(a>b){for(var d=b;a>=d;d++)this._titleList[d]=this._titleList[d+1],this._contentList[d]=this._contentList[d+1];this._contentList[a]=c,this._titleList[a]=this._capturedElement}else{for(var d=b;d>=a;d--)this._titleList[d]=this._titleList[d-1],this._contentList[d]=this._contentList[d-1];this._contentList[a]=c,this._titleList[a]=this._capturedElement}},_getSelectedItem:function(a){for(var b=this.length();b;)if(b--,this._titleList[b]===a){this._selectedItem=this.selectedItem=b;break}},_moveElement:function(a,b){var b=a.data;b._tabCaptured&&(document.selection&&document.selection.clear(),b._dragStarted?(b._performDrag(a),clearTimeout(b._scrollTimeout),b._dragScroll(a)):(unorderedListLeft=-parseInt(b._unorderedList.css("left"),10),(a.clientX+unorderedListLeft>b._startX+3||a.clientX+unorderedListLeft<b._startX-3)&&(b._prepareTabForDragging(),b._dragStarted=!0)))},_performDrag:function(a){var b=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._capturedElement.css("left",unorderedListLeft+a.clientX/b-this._startX/b),this._lastX=a.clientX/b,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var a=1;if(document.body.getBoundingClientRect){var b=document.body.getBoundingClientRect(),c=b.right-b.left,d=document.body.offsetWidth;a=Math.round(100*(c/d))/100}return a},_prepareTabForDragging:function(){switch(this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"}),this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(a){var b=parseInt(this._unorderedList.css("left")),c=this;parseInt(this._capturedElement.css("left")),a.clientX<=this._headerWrapper.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):a.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):(this._unorderedList.stop(),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout));var c=this;this._scrollTimeout=setTimeout(function(){c._dragScroll(a)},this.scrollAnimationDuration),this._lastUnorderedListPosition=b},_captureElement:function(a,b){this._tabCaptured||this._titleList[b].locked||this._titleList[b].disabled===!0||this._activeAnimation()||(unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._startX=unorderedListLeft+a.clientX,this._startY=a.clientY,this._lastX=a.clientX,this._lastY=a.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[b])},_titleInteractionTrigger:function(a){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==a?(this.select(this._titleList[a],"toggle"),this._titleList[a].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.css("display","block"))):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var a=this._selectedItem,b=this;this.isCollapsed=!0,"auto"!==b.height?b._contentWrapper.css("visibility","hidden"):b._contentWrapper.hide(),b._raiseEvent(13,{item:a}),"top"==this.position?(b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed")),b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))):(b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},expand:function(){var a=this._selectedItem,b=this;this.isCollapsed=!1,this._select(a,b.contentTransitionDuration,null,!1,!0),"auto"!==b.height?b._contentWrapper.css("visibility","visible"):b._contentWrapper.show(),b._raiseEvent(14,{item:a}),"top"==this.position?(b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed")),b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))):(b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(a){var b=this;this.addHandler(this._titleList[a],"selectstart",function(){return!1}),this.addHandler(this._titleList[a],this.toggleMode,function(a){return function(){return b._raiseEvent("15",{item:a}),b._tabCaptured||b._cancelClick||b._titleInteractionTrigger(a),!0}}(a))},_addDragDropHandlers:function(a){var b=this;this.addHandler(this._titleList[a],"mousedown",function(c){return b._captureElement(c,a),!1}),this.addHandler(this._titleList[a],"mouseup",function(c){return b._tabCaptured&&b._dragStarted?(b._cancelClick=!0,b._uncapture(c,a)):b._cancelClick=!1,b._tabCaptured=!1,!1
})},_removeHoverStates:function(){var b=this;a.each(this._titleList,function(){this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top")),this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(a){var b=this,c=this._titleList[a];this.addHandler(c,"mouseenter",function(){if(a!=b._selectedItem&&("top"==b.position?c.addClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.addClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.addClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons)){var d=c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0));d.addClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0))}}),this.addHandler(c,"mouseleave",function(){if(a!=b._selectedItem&&("top"==b.position?c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons)){var d=c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0));d.removeClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0))}})},_addEventListenerAt:function(a){var b=this;if(!this._titleList[a].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(a),this._addSelectHandler(a),this.enabledHover&&this._addHoverHandlers(a);var c=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(c,"click"),this.addHandler(c,"click",function(){return b.removeAt(a),!1})}},_removeEventHandlers:function(){for(var b=this.length();b;)b--,this._removeEventListenerAt(b);this.scrollable&&(this.removeHandler(this._leftArrow,"mousedown"),this.removeHandler(this._rightArrow,"mousedown")),this.removeHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement),this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler),this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler),this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(a){this.removeHandler(this._titleList[a],this.toggleMode),this.removeHandler(this._titleList[a],"mouseenter"),this.removeHandler(this._titleList[a],"mouseleave"),this.removeHandler(this._titleList[a],"mousedown"),this.removeHandler(this._titleList[a],"mouseup");var b=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(b,"click")},_moveSelectionTrack:function(a,b,c){var d=this;if(-1!=a&&0!=this._titleList.length&&!(a>=this._titleList.length)&&this.selectionTracker){if(this._selectionTracker.stop(),this._unlockAnimation("selectionTracker"),void 0===c){var e=parseInt(this._titleList[a].position().left);isNaN(parseInt(this._unorderedList.css("left")))||(e+=parseInt(this._unorderedList.css("left"))),isNaN(parseInt(this._unorderedList.css("margin-left")))||(e+=parseInt(this._unorderedList.css("margin-left"))),isNaN(parseInt(this._titleList[a].css("margin-left")))||(e+=parseInt(this._titleList[a].css("margin-left"))),!isNaN(parseInt(this._titleList[a].css("margin-right")))}else var e=c;var f=0,g=0;"top"===this.position&&(f=parseInt(this._headerWrapper.height())-parseInt(this._titleList[a].outerHeight()),this.autoHeight||(g+=parseInt(this._titleList[a].css("margin-top")))),this._lockAnimation("selectionTracker");var h=parseInt(this._titleList[a].css("padding-left"))+parseInt(this._titleList[a].css("padding-right")),i="top"==this.position?0:1,j=parseInt(this._headerWrapper.css("padding-top")),k=parseInt(this._titleList[a].css("padding-top"))+parseInt(this._titleList[a].css("padding-bottom"));this._selectionTracker.css("visibility","visible"),this._moveSelectionTrackerContainer.css("visibility","visible");var l=parseInt(this._titleList[a].css("margin-top"));isNaN(l)&&(l=0),this._selectionTracker.animate({top:j+l-i,left:e+"px",height:parseInt(this._titleList[a].height()+k),width:this._titleList[a].width()+h},b,function(){d._unlockAnimation("selectionTracker"),d._selectionTracker.css("visibility","hidden"),d._addSelectStyle(a,!0),d._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){this.host.remove()},_switchTabs:function(a,b){if(a!==b&&!this._activeAnimation()&&!this._tabCaptured){var c=this;return this._raiseEvent(7,{item:b}),this._raiseEvent(6,{item:a}),this._currentEvent&&this._currentEvent.cancel?(this._currentEvent=null,void 0):(this._unselect(b,null,!0),this._select(a,c.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(child in this._isAnimated)if(this._isAnimated.hasOwnProperty(child)&&this._isAnimated[child])return!0;return!1},_indexOf:function(a){for(var b=this.length();b;)if(b--,this._titleList[b][0]===a[0]||this._contentList[b][0]===a[0])return b;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0==this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(a){alert(a)}},_startScrollRepeat:function(a,b){var c=this;a?this._scrollLeft(b):this._scrollRight(b),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){c._startScrollRepeat(a,c.scrollAnimationDuration)},b)},_performLayout:function(){for(var a=this.length();a;)a--,("top"===this.position||"bottom"===this.position)&&(this.rtl?this._titleList[a].css("float","right"):this._titleList[a].css("float","left"));this._enableWindowResize(!1),this._fitToSize(),this._performHeaderLayout(),this._fitToSize(),this._enableWindowResize(!0)},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){this._fitToSize(),this._positionArrows(this._totalItemsWidth),this._totalItemsWidth>this.host.width()?this._unorderedList.width(this._totalItemsWidth):this._unorderedList.width(this.host.width()-2),this._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(this._leftArrow.remove(),this._rightArrow.remove()),this._leftArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>'),this._rightArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>'),this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._headerWrapper.append(this._leftArrow),this._headerWrapper.append(this._rightArrow),this._leftArrow.width(this.arrowButtonSize),this._leftArrow.height("100%"),this._rightArrow.width(this.arrowButtonSize),this._rightArrow.height("100%"),this._leftArrow.css({"z-index":"30"}),this._rightArrow.css({"z-index":"30"}),this._leftArrow.css("display","none"),this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var b=this.length();return a.each(this._titleList,function(){var a=this.attr("hasclosebutton");void 0!=a&&null!=a&&("false"==a||0==a)&&b--}),b},_calculateTitlesSize:function(){var b=0,c=0,d=this.length();for(this.rtl&&a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._measureItem=a("<span style='position: relative; visibility: hidden;'></span>"),a(document.body).append(this._measureItem));d;){if(d--,this._measureItem&&(this._measureItem.html(this._titleList[d].html()),this._titleList[d].width(this._measureItem.width())),this._titleList[d].css("position","static"),this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),c+=parseInt(this._titleList[d].outerWidth(!0)),b<this._titleList[d].outerHeight(!0)&&(b=Math.round(parseInt(this._titleList[d].outerHeight(!0)))),0==this._titleList[d].height()){var e=this._titleList[d].clone();a(document.body).append(e),b=Math.round(parseInt(e.outerHeight(!0))),e.remove()}var f=this._titleList[d].attr("hasCloseButton");if(void 0!=f&&null!=f){var g=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[d]&&(this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),g=!0),g||("true"==f||1==f?(c+=this.closeButtonSize,this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")):("false"==f||0==f)&&this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"))}else if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var g=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[d]&&(this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),g=!0),g||(c+=this.closeButtonSize,this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block"))}this._titleList[d].height(this._titleList[d].height())}return this._measureItem&&this._measureItem.remove(),{height:b,width:10+c}},_reorderHeaderElements:function(){if(this.selectionTracker&&this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"}),this._headerWrapper.css({position:"relative",left:"0px",top:"0px"}),this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"}),this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var a=this.theme&&-1!=this.theme.indexOf("ui-")?3:0;a>0&&(this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l")));var b=this.scrollPosition;switch(this.rtl&&("left"==b&&(b="right"),"right"==b&&(b="left")),b){case"both":this._rightArrow.css("right","0px"),this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px"),this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-a+"px"),this._leftArrow.css("right",this.arrowButtonSize-a+"px")}}},_positionArrows:function(a){a>=parseInt(this._headerWrapper.width())&&this.scrollable?(this._needScroll=!0,0===this._unorderedList.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.css("display","block"),this._rightArrow.css("display","block")):(this._needScroll=!1,this._leftArrow.css("display","none"),this._rightArrow.css("display","none"),this._unorderedList.css("left",0))},_performHeaderLayout:function(){this._removeSelectStyle();var b=this._calculateTitlesSize(),c=b.height,d=b.width;this._headerWrapper.height(c),this._unorderedList.height(c),null!=this.headerHeight&&"auto"!=this.headerHeight&&(this._headerWrapper.height(this.headerHeight),this._unorderedList.height(this.headerHeight)),d>this.host.width()?this._unorderedList.width(d):this._unorderedList.width(this.host.width()),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._unorderedList.css("position","relative"),this._headerWrapper.css("overflow","hidden")),this._reorderHeaderElements(),d+=parseInt(this._unorderedList.css("margin-left")),this._totalItemsWidth=d,this._positionArrows(d),this._unorderedList.css({position:"relative",top:"0px"}),this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var a=this.length();for(this._maxHeightTab();a;){a--;var b=this._titleList[a].find(".jqx-tabs-titleContentWrapper"),c=(b.height(),this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0))),d=parseInt(this._titleList[a].css("padding-top"));if(d||(d=0),this.autoHeight){var e=this._titleList[a].outerHeight(!0)-this._titleList[a].height(),f=parseInt(this._titleList[a].css("padding-top")),g=parseInt(this._titleList[a].css("padding-bottom")),h=parseInt(this._titleList[a].css("border-top-width")),i=parseInt(this._titleList[a].css("border-bottom-width"));this._titleList[a].height(this._unorderedList.outerHeight()-f-g-h-i)}else if("top"===this.position){var j=parseInt(this._unorderedList.height())-parseInt(this._titleList[a].outerHeight(!0));parseInt(this._titleList[a].css("margin-top"))!==j&&0!==j&&this._titleList[a].css("margin-top",j)}else this._titleList[a].height(this._titleList[a].height());this._titleList[a].children(0).height("100%");var k=parseInt(this._titleList[a].height()),l=parseInt(k)/2-parseInt(c.height())/2;c.css("margin-top",1+l);var m=parseInt(k)/2-parseInt(b.height())/2;b.css("margin-top",m)}if(this.scrollable){var e=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize,n=e/2;this._rightArrow.children(0).css("margin-top",n),this._rightArrow.height("100%"),this._leftArrow.height("100%"),this._leftArrow.children(0).css("margin-top",n)}},_getImageUrl:function(a){var b=a.css("background-image");return b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")","")},_fitToSize:function(){if(this.host.width(this.width),"auto"!=this.width&&(this._contentWrapper.css("width","100%"),this._contentWrapper.width(this.host.width()-2)),"auto"!==this.height){this.host.height(this.height);var a=this.host.height()-this._headerWrapper.outerHeight()-2;this._contentWrapper.height(a)}else this._contentWrapper.css("height","auto")},_maxHeightTab:function(){for(var a=this.length(),b=-1,c=-1;a;)a--,b<parseInt(this._titleList[a].outerHeight(!0))&&(c=a);return c},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&this._moveSelectionTrackerContainer.remove(),this._moveSelectionTrackerContainer=a('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var b=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=a('<div class="'+b+'">'),this._selectionTracker.css("color","inherit"),this._moveSelectionTrackerContainer.append(this._selectionTracker),this._headerWrapper.append(this._moveSelectionTrackerContainer),this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var b="none",c=void 0==this._contentWrapper;this._contentWrapper=this._contentWrapper||a('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+b+';">'),this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));for(var d=this.length();d;)d--,this._contentList[d].addClass(this.toThemeProperty("jqx-tabs-content-element"));c&&(this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper),this._contentWrapper=this.host.find(".jqx-tabs-content")),this.roundedCorners&&("top"==this.position?this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b")):this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))},_addHeaderWrappers:function(){var b=this.length();for(this._unorderedList.remove(),this._headerWrapper=this._headerWrapper||a('<div class="jqx-tabs-headerWrapper" style="outline: none;">'),this._headerWrapper.remove(),"top"==this.position?this._headerWrapper.prependTo(this.host):this._headerWrapper.appendTo(this.host),this._unorderedList.appendTo(this._headerWrapper),this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header")),this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header")),"bottom"==this.position?this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom")):this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom")),this.roundedCorners&&("top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))));b;){if(b--,this._titleList[b].children(".jqx-tabs-titleWrapper").length<=0){var c=a('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');c.append(this._titleList[b].html()),this._titleList[b].empty(),c.appendTo(this._titleList[b])}this._titleList[b].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(b){var c=b;if(this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).length<=0&&this._titleList[c].find(".jqx-tabs-titleContentWrapper").length<=0){var d=a('<div class="jqx-tabs-titleContentWrapper"></div>'),e="left";this.rtl&&(e="right"),d.css("float",e),d.addClass("jqx-disableselect"),d.append(this._titleList[c].html()),this._titleList[c].html("");var f=a('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');f.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":e,"font-size":"1px"}),this._titleList[c].append(d),this._titleList[c].append(f),this.showCloseButtons?this.hiddenCloseButtons&&1==this.hiddenCloseButtons[b]&&f.css("display","none"):f.css("display","none")}},_addCloseButtons:function(){for(var a=this.length();a;)a--,this._addCloseButton(a)},_prepareTabs:function(){var a=this.length(),b=this.selectionTracker;for(this.selectionTracker=!1;a;)a--,this._selectedItem!==a&&this._unselect(a,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=b,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(a){return a>=0&&a<this.length()},_removeSelectStyle:function(){for(var a=this.length();a;){a--;var b=null;if(this.showCloseButtons){var b=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));b.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}"top"==this.position?this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top")):this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(a,b){if(this.length(),this._removeSelectStyle(),(!this.selectionTracker||void 0!=b&&b)&&a>=0&&void 0!=this._titleList[a]){var c=null;if(this.showCloseButtons){var c=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.hiddenCloseButtons&&1==this.hiddenCloseButtons[a]&&(c=null)}this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-hover")),"top"==this.position?(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))):(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-pressed")),null!=c&&c.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}},_addItemTo:function(a,b,c){if(b<a.length){for(var d=void 0,e=void 0,f=b;f+1<a.length;f++)void 0===d?(d=a[f+1],a[f+1]=a[f]):(e=a[f+1],a[f+1]=d,d=e);void 0===d&&(d=a[b]),a[b]=c,a.push(d)}else a.push(c)},_select:function(a,b,c,d,e){if(!this._tabCaptured){this.host.attr("hideFocus","true");var f=this;if(void 0==e?this._addSelectStyle(a):this._addSelectStyle(a,e),this.isCollapsed&&this.collapsible)return this._contentList[a].css("display","none"),this._selectCallback(a,c,d),void 0;switch(this.animationType){case"none":if(f.selectionTracker)setTimeout(function(){f._contentList[a].css("display","block")},this.selectionTrackerAnimationDuration);else{for(var g=0;g<this._contentList.length;g++)a!=g&&"block"==this._contentList[g].css("display")&&this._contentList[g].css("display","none");this._contentList[a].css("display","block")}this._selectCallback(a,c,d);break;case"fade":this._lockAnimation("contentListSelect"),f._selectCallback(a,c,d),this._contentList[a].fadeIn(b,function(){f._unlockAnimation("contentListSelect")})}}},_selectCallback:function(a,b,c){this._selectedItem=a,this.selectedItem=this._selectedItem,b&&b(),c&&this._raiseEvent(1,{item:a})},_unselect:function(a,b,c){if(a>=0&&!this._tabCaptured){var d=this;this._contentList[a].stop(),"fade"==this.animationType?this._contentList[a].css("display","none"):this.selectionTracker?setTimeout(function(){d._contentList[a].css("display","none")},this.selectionTrackerAnimationDuration):this._contentList[a].css("display","none"),this._unselectCallback(a,b,c),this.selectionTracker||(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed")))}},_unselectCallback:function(a,b,c){c&&this._raiseEvent(8,{item:a}),b&&b()},disable:function(){for(var a=this.length();a;)a--,this.disableAt(a)},enable:function(){for(var a=this.length();a;)a--,this.enableAt(a)},getEnabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled||b++}),b},getDisabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled&&b++}),b},removeAt:function(a){if(this._isValidIndex(a)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var b=this,c=(this._titleList[this._selectedItem],parseInt(this._titleList[a].outerWidth(!0))),d=this.getTitleAt(a);if(this._unorderedList.width(parseInt(this._unorderedList.width())-c),this._titleList[a].remove(),this._contentList[a].remove(),this._titleList.splice(a,1),this._contentList.splice(a,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:a,title:d}),this._isAnimated={},this.selectedItem>0){this._selectedItem=-1;var e=this._getPreviousIndex(this.selectedItem);this.select(e)}else{this._selectedItem=-1;var e=this._getNextIndex(this.selectedItem);this.select(e)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()&&this._unorderedList.css("left",this._getArrowsDisplacement()),parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var f=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedList.animate({left:0},f,function(){b._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(a){if(!this._titleList[a].disabled||void 0===this._titleList[a].disabled){if(this.selectedItem==a){var b=this.next();b||(b=this.previous())}this._titleList[a].disabled=!0,this.removeHandler(this._titleList[a],this.toggleMode),this.enabledHover&&this._titleList[a].off("mouseenter").off("mouseleave"),this._removeEventListenerAt(a),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(5,{item:a})}},enableAt:function(a){this._titleList[a].disabled&&(this._titleList[a].disabled=!1,this._addEventListenerAt(a),this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(4,{item:a}))},addAt:function(b,c,d){if(b>=0||b<=this.length()){this._removeHoverStates();var e=a("<li>"+c+"</li>"),f=a("<div>"+d+"</div>");e.addClass(this.toThemeProperty("jqx-tabs-title")),e.addClass(this.toThemeProperty("jqx-item")),f.addClass(this.toThemeProperty("jqx-tabs-content-element")),"bottom"==this.position&&e.addClass(this.toThemeProperty("jqx-tabs-title-bottom"));var g=!1;0==this._titleList.length?this._unorderedList.append(e):b<this.length()&&b>=0?this._titleList[b].before(e):this._titleList[this.length()-1].after(e),f.appendTo(this._contentWrapper),this._addItemTo(this._titleList,b,e),this._addItemTo(this._contentList,b,f),this._selectedItem>b&&this._selectedItem++,this._switchTabs(b,this._selectedItem),this._selectedItem=b,this.showCloseButtons&&this._titleList.length>0&&this._addCloseButton(b),this._uiRefresh(g),this._raiseEvent(2,{item:b}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(a,b){this.addAt(0,a,b)},addLast:function(a,b){this.addAt(this.length(),a,b)},select:function(a){"object"==typeof a&&(a=this._indexOf(a));var b=a>=0&&a<this._titleList.length?this._titleList[a].attr("canselect"):!0;if((void 0==b||"true"==b||1==b)&&a!==this._selectedItem&&this._isValidIndex(a)&&!this._activeAnimation()&&!this._titleList[a].disabled){var c=this._switchTabs(a,this._selectedItem);c&&this.ensureVisible(a)}},previous:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);b>0&&b<this._titleList.length;)if(b--,!this._titleList[b].disabled)return this.select(b),!0;return!1},_getPreviousIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;a>0&&a<=this._titleList.length;)if(a--,!this._titleList[a].disabled)return a;return b},_getNextIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;a>=0&&a<this._titleList.length;){if(!this._titleList[a].disabled)return a;a++}return b},next:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);b>=0&&b<this._titleList.length-1;)if(b++,!this._titleList[b].disabled)return this.select(b),!0;return!1},first:function(){var a=0;this._titleList[a].disabled?this.next(a):this.select(a)},last:function(){var a=this._titleList.length-1;this._titleList[a].disabled?this.previous(a):this.select(a)},length:function(){return this._titleList.length},lockAt:function(a){!this._isValidIndex(a)||this._titleList[a].locked&&void 0!==this._titleList[a].locked||(this._titleList[a].locked=!0,this._raiseEvent(11,{item:a}))},unlockAt:function(a){this._isValidIndex(a)&&this._titleList[a].locked&&(this._titleList[a].locked=!1,this._raiseEvent(12,{item:a}))},lockAll:function(){for(var a=this.length();a;)a--,this.lockAt(a)},unlockAll:function(){for(var a=this.length();a;)a--,this.unlockAt(a)},showCloseButtonAt:function(a){if(this._isValidIndex(a)){this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader());var b=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));b.css("display","block"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[a]=0}},hideCloseButtonAt:function(a){if(this._isValidIndex(a)){var b=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));b.css("display","none"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[a]=1}},hideAllCloseButtons:function(){for(var a=this.length();a;)a--,this.hideCloseButtonAt(a)},showAllCloseButtons:function(){for(var a=this.length();a;)a--,this.showCloseButtonAt(a)},getTitleAt:function(a){return this._titleList[a]?this._titleList[a].text():null},getContentAt:function(a){return this._contentList[a]?this._contentList[a]:null},setTitleAt:function(a,b){this._titleList[a]&&(this._titleList[a].text(b),this.showCloseButtons&&(this._addCloseButton(a),this._removeEventHandlers(),this._addEventHandlers()))},setContentAt:function(a,b){this._contentList[a]&&this._contentList[a].html(b)},ensureVisible:function(a){var b=this;if((void 0==a||-1==a||null==a)&&(a=this.selectedItem),!this._isValidIndex(a))return!1;var c,d,e=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),f=parseInt(this._unorderedList.css("left")),g=parseInt(this._headerWrapper.outerWidth(!0)),h=parseInt(this._titleList[a].outerWidth(!0)),i=f-this._getArrowsDisplacement(),j=g-this._getArrowsDisplacement()-i;if(-i>e)c=-e+this._getArrowsDisplacement(),d=this._getArrowsDisplacement();else{if(!(e+h>j-this._getArrowsDisplacement()))return this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration),!0;c=-e+g-h-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),d=g-h-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedList.animate({left:c},this.scrollAnimationDuration,function(){return b._unlockAnimation("unorderedList"),b._moveSelectionTrack(b._selectedItem,0),!0}),this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration,d),!0},isVisibleAt:function(a){if((void 0==a||-1==a||null==a)&&(a=this.selectedItem),!this._isValidIndex(a))return!1;var b=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),c=parseInt(this._unorderedList.css("left")),d=parseInt(this._headerWrapper.outerWidth(!0)),e=parseInt(this._titleList[a].outerWidth(!0)),f=c-this._getArrowsDisplacement(),g=d-this._getArrowsDisplacement()-f;return-f>b?!1:b+e>g?!1:!0},isDisabled:function(a){return this._titleList[a].disabled},_lockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!0)},_unlockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!1)},propertyChangedHandler:function(b,c,d,e){switch(this._validateProperties(),c){case"touchMode":e&&(b.enabledHover=!1,b.keyboardNavigation=!1);break;case"width":case"height":return b._performResize(),void 0;case"disabled":return e?this.disable():this.enable(),void 0;case"showCloseButtons":return e?this.showAllCloseButtons():this.hideAllCloseButtons(),this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration),void 0;case"selectedItem":return this._isValidIndex(e)&&this.select(e),void 0;case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return e?(this._refresh(),this.select(this._selectedItem)):null!=this._selectionTracker&&this._selectionTracker.remove(),void 0;case"scrollable":return e?(this._refresh(),this.select(this._selectedItem)):(this._leftArrow.remove(),this._rightArrow.remove(),this._performHeaderLayout()),void 0;case"autoHeight":return this._performHeaderLayout(),void 0;case"theme":return a.jqx.utilities.setTheme(d,e,this.host),void 0}this._unorderedList.css("left","0px"),this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}})}(jQuery),function(a){function b(a,b){return this.owner=a,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.draggable=!0,this.getcolumnproperties=function(){return{sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}
},this.setproperty=function(a,b){if(this[a]){var c=this[a];this[a]=b,this.owner._columnPropertyChanged(this,a,b,c)}},this._initfields=function(a){null!=a&&(void 0!=a.datafield&&(this.datafield=a.datafield),void 0!=a.dataField&&(this.datafield=a.dataField),this.displayfield=void 0!=a.displayfield?a.displayfield:this.datafield,void 0!=a.text&&(this.text=a.text),void 0!=a.sortable&&(this.sortable=a.sortable),void 0!=a.hideable&&(this.hideable=a.hideable),void 0!=a.hidden&&(this.hidden=a.hidden),void 0!=a.groupable&&(this.groupable=a.groupable),void 0!=a.renderer&&(this.renderer=a.renderer),void 0!=a.align&&(this.align=a.align),void 0!=a.cellsalign&&(this.cellsalign=a.cellsalign),void 0!=a.cellsformat&&(this.cellsformat=a.cellsformat),void 0!=a.width&&(this.width=a.width),void 0!=a.minwidth&&(this.minwidth=a.minwidth),void 0!=a.maxwidth&&(this.maxwidth=a.maxwidth),void 0!=a.cellsrenderer&&(this.cellsrenderer=a.cellsrenderer),void 0!=a.columntype&&(this.columntype=a.columntype),void 0!=a.checkchange&&(this.checkchange=a.checkchange),void 0!=a.buttonclick&&(this.buttonclick=a.buttonclick),void 0!=a.pinned&&(this.pinned=a.pinned),void 0!=a.visibleindex&&(this.visibleindex=a.visibleindex),void 0!=a.filterable&&(this.filterable=a.filterable),void 0!=a.filter&&(this.filter=a.filter),void 0!=a.resizable&&(this.resizable=a.resizable),void 0!=a.editable&&(this.editable=a.editable),void 0!=a.initeditor&&(this.initeditor=a.initeditor),void 0!=a.createeditor&&(this.createeditor=a.createeditor),void 0!=a.validation&&(this.validation=a.validation),void 0!=a.cellbeginedit&&(this.cellbeginedit=a.cellbeginedit),void 0!=a.cellendedit&&(this.cellendedit=a.cellendedit),void 0!=a.classname&&(this.classname=a.classname),void 0!=a.cellclassname&&(this.cellclassname=a.cellclassname),void 0!=a.menu&&(this.menu=a.menu),void 0!=a.aggregates&&(this.aggregates=a.aggregates),void 0!=a.aggregatesrenderer&&(this.aggregatesrenderer=a.aggregatesrenderer),void 0!=a.createfilterwidget&&(this.createfilterwidget=a.createfilterwidget),void 0!=a.filtertype&&(this.filtertype=a.filtertype),void 0!=a.rendered&&(this.rendered=a.rendered),void 0!=a.exportable&&(this.exportable=a.exportable),void 0!=a.filteritems&&(this.filteritems=a.filteritems),void 0!=a.cellvaluechanging&&(this.cellvaluechanging=a.cellvaluechanging),void 0!=a.draggable&&(this.draggable=a.draggable),void 0!=a.filtercondition&&(this.filtercondition=a.filtercondition),void 0!=a.threestatecheckbox&&(this.threestatecheckbox=a.threestatecheckbox))},this._initfields(b),this}function c(a,b){return this.setdata=function(a){null!=a&&(this.bounddata=a,this.boundindex=a.boundindex,this.visibleindex=a.visibleindex,this.group=a.group,this.parentbounddata=a.parentItem,this.uniqueid=a.uniqueid,this.level=a.level)},this.setdata(b),this.parentrow=null,this.subrows=new Array,this.owner=a,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(a){this.hidden=a.hidden,this.rowdetails=a.rowdetails,this.rowdetailsheight=a.rowdetailsheight,this.rowdetailshidden=!a.showdetails,this.height=a.height},this}a.jqx.jqxWidget("jqxGrid","",{}),a.extend(a.jqx._jqxGrid.prototype,{defineInstance:function(){this.disabled=!1,this.width=600,this.height=400,this.pagerheight=28,this.groupsheaderheight=34,this.pagesize=10,this.pagesizeoptions=["5","10","20"],this.rowsheight=25,this.columnsheight=25,this.filterrowheight=30,this.groupindentwidth=30,this.rowdetails=!1,this.enablerowdetailsindent=!0,this.enablemousewheel=!0,this.initrowdetails=null,this.editable=!1,this.editmode="selectedcell",this.pageable=!1,this.groupable=!1,this.sortable=!1,this.filterable=!1,this.autoshowfiltericon=!0,this.showfiltercolumnbackground=!0,this.showpinnedcolumnbackground=!0,this.showsortcolumnbackground=!0,this.altrows=!1,this.altstart=1,this.altstep=1,this.showrowdetailscolumn=!0,this.showtoolbar=!1,this.toolbarheight=34,this.showstatusbar=!1,this.statusbarheight=34,this.enableellipsis=!0,this.groups=[],this.groupsrenderer=null,this.groupcolumnrenderer=null,this.groupsexpandedbydefault=!1,this.pagerrenderer=null,this.touchmode="auto",this.columns=[],this.selectedrowindex=-1,this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,this.tableZIndex=799,this.headerZIndex=499,this.updatefilterconditions=null,this.showaggregates=!1,this.showfilterrow=!1,this.autorowheight=!1,this.autokoupdates=!0,this.handlekeyboardnavigation=null,this.showsortmenuitems=!0,this.showfiltermenuitems=!0,this.showgroupmenuitems=!0,this.enablebrowserselection=!1,this.clipboard=!0,this.ready=null,this.updatefilterpanel=null,this.autogeneratecolumns=!1,this.source={beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},this.dataview=null,this.updatedelay=0,this.autoheight=!1,this.showheader=!0,this.showgroupsheader=!0,this.closeablegroups=!0,this.scrollbarsize=15,this.virtualmode=!1,this.sort=null,this.columnsmenu=!0,this.columnsresize=!1,this.columnsreorder=!1,this.columnsmenuwidth=15,this.autoshowcolumnsmenubutton=!0,this.popupwidth="auto",this.sorttogglestates=2,this.rendergridrows=null,this.enableanimations=!0,this.enabletooltips=!1,this.selectionmode="singlerow",this.enablehover=!0,this.loadingerrormessage="The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",this.verticalscrollbarstep=25,this.verticalscrollbarlargestep=400,this.horizontalscrollbarstep=5,this.horizontalscrollbarlargestep=50,this.keyboardnavigation=!0,this.touchModeStyle="auto",this.autoshowloadelement=!0,this.showdefaultloadelement=!0,this.showemptyrow=!0,this.autosavestate=!1,this.autoloadstate=!1,this._updating=!1,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this._requiresupdate=!1,this._hasOpenedMenu=!1,this.scrollmode="physical",this.rtl=!1,this.events=["initialized","rowclick","rowselect","rowunselect","groupexpand","groupcollapse","sort","columnclick","cellclick","pagechanged","pagesizechanged","bindingcomplete","groupschanged","filter","columnresized","cellselect","cellunselect","cellbeginedit","cellendedit","cellvaluechanged","rowexpand","rowcollapse","rowdoubleclick","celldoubleclick","columnreordered"]},createInstance:function(){var b=a("<div tabIndex=0 style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' tabIndex=1 style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='groupsheader' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' tabIndex=2 style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='pager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div></div>");this._fieldsmapping(),this.element.innerText="",this.element.innerHTML="",this.host.attr("align","left"),this.host.append(b),this.host.addClass(this.toTP("jqx-grid")),this.host.addClass(this.toTP("jqx-reset")),this.host.addClass(this.toTP("jqx-rc-all")),this.host.addClass(this.toTP("jqx-widget")),this.host.addClass(this.toTP("jqx-widget-content")),this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var c=this.host.find("#verticalScrollBar"+this.element.id),d=this.host.find("#horizontalScrollBar"+this.element.id);if(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")),!c.jqxScrollBar)return alert("jqxscrollbar is not loaded."),void 0;if(this.editors=new Array,this.vScrollBar=c.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=d.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.pager=this.host.find("#pager"),this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.groupsheader=this.host.find("#groupsheader"),this.groupsheader.addClass(this.toTP("jqx-grid-groups-header")),this.groupsheader.addClass(this.toTP("jqx-widget-header")),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.gridtable=null,this.isNestedGrid=this.host.parent()?2e3==this.host.parent().css("z-index"):!1,this.localizestrings&&this.localizestrings(),this._builddataloadelement(),this.rowdetailstemplate&&(void 0==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="<div></div>"),void 0==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),void 0==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0)),this.autorowheight&&!this.autoheight&&alert('"autorowheight" requires setting the "autoheight" property to true.'),!this._testmodules()){this._cachedcolumns=this.columns,25!=this.rowsheight&&this._measureElement("cell"),25!=this.columnsheight&&this._measureElement("column"),this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","visible"),this.showstatusbar&&this.statusbar.css("visibility","visible"),this.pageable&&this._initpager&&this._initpager(),this._arrange(),this.tableheight=null;var e=this,f=function(){e.content&&(e.content[0].scrollTop=0,e.content[0].scrollLeft=0),e.gridcontent&&(e.gridcontent[0].scrollLeft=0,e.gridcontent[0].scrollTop=0)};this.content.on("mousedown",function(){f()}),this.content.on("scroll",function(){return f(),!1}),this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect")),this.addHandler(this.host,"loadContent",function(){return e.gridmenu&&e.gridmenu.width()<120&&(e._initmenu(),e.prerenderrequired=!0,e._rendercolumnheaders()),!1}),(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&(this._updatesizeonwindowresize=!0,a(window).on("resize."+this.element.id,function(){var a=e.host.width(),b=e.host.height();e.autoheight&&(e._lastHeight=b),(e._lastWidth!=a||e._lastHeight!=b)&&e._updatesize(e._lastWidth!=a,e._lastHeight!=b),e._lastWidth=a,e._lastHeight=b})),this.renderstatusbar&&this.renderstatusbar(this.statusbar),this.rendertoolbar&&this.rendertoolbar(this.toolbar),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.hasTransform=a.jqx.utilities.hasTransform(this.host),"logical"==this.scrollmode&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight)}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=a('<div style="position: absolute;"></div>'),this.showdefaultloadelement){var b=a('<table cellspacing="0" cellpadding="0" style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 112px; height: 48px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><tbody><tr><td><div style="width: 32px; height: 32px;" class="jqx-grid-load"/></td><td><span style="margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></td></tr></tbody></table>");b.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.append(b)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement)},_measureElement:function(b){var c=a("<span>measure Text</span>");c.addClass(this.toTP("jqx-widget")),c.addClass(this.toTP("jqx-grid-"+b)),a(document.body).append(c),"cell"==b?this._cellheight=c.height():this._columnheight=c.height(),c.remove()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},_testmodules:function(){var b="",c=this,d=function(){""!=b.length&&(b+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(d(),b+=" jqxmenu.js"),this.host.jqxScrollBar||(d(),b+=" jqxscrollbar.js"),this.host.jqxButton||(d(),b+=" jqxbuttons.js"),a.jqx.dataAdapter||(d(),b+=" jqxdata.js"),this.pageable&&!this.gotopage&&(d(),b+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(d(),b+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(d(),b+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(d(),b+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(d(),b+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(d(),b+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(d(),b+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(d(),b+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(d(),b+=" jqxgrid.selection.js"),""!=b||this.editable||this.filterable||this.pageable){var e=[],f=function(f){switch(f){case"checkbox":c.host.jqxCheckBox||e.checkbox||(e.checkbox=!0,d(),b+=" jqxcheckbox.js");break;case"numberinput":c.host.jqxNumberInput||e.numberinput||(e.numberinput=!0,d(),b+=" jqxnumberinput.js");break;case"datetimeinput":c.host.jqxDateTimeInput||e.datetimeinput?a.global||e.global?c.host.jqxCalendar||e.calendar||(d(),b+=" jqxcalendar.js"):(d(),b+=" jquery.global.js"):(d(),e.datetimeinput=!0,b+=" jqxdatetimeinput.js(requires: jqxcalendar.js, jquery.global.js)");break;case"combobox":c.host.jqxComboBox||e.combobox?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.combobox=!0,b+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":c.host.jqxDropDownList||e.dropdownlist?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.dropdownlist=!0,b+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&f("dropdownlist");for(var g=0;g<this.columns.length;g++)if(void 0!=this.columns[g]){var h=this.columns[g].columntype;if(f(h),this.filterable&&this.showfilterrow){var h=this.columns[g].filtertype;("checkedlist"==h||"bool"==h)&&f("checkbox"),"date"==h&&f("datetimeinput")}}if(""!=b)return alert("Please, add references to the following module(s): "+b),this.host.remove(),!0}return!1},focus:function(){try{this.wrapper.focus();var a=this;setTimeout(function(){a.wrapper.focus()},10),this.focused=!0}catch(b){}},hiddenParent:function(){var b=this;if("block"!=b.host.css("display"))return!0;var c=!1;return a.each(b.host.parents(),function(){return"none"==a(this).css("display")?(c=!0,!1):void 0}),c},_updatesize:function(b,c){if(!this._loading){var d=this;if(!this.hiddenParent()){var e=d.host.width(),f=d.host.height();d._oldWidth||(d._oldWidth=e),d._oldHeight||(d._oldHeight=f),d._resizeTimer&&clearTimeout(d._resizeTimer);var g=a.jqx.browser.msie?10:10;d._resizeTimer=setTimeout(function(){if((e!=d._oldWidth||1==b)&&(d._arrange(),d._updatecolumnwidths(),d._updatecellwidths(),0==b&&d._oldWidth>e||d._renderrows(d.virtualsizeinfo)),f!=d._oldHeight||1==c){var a=d.groupable&&d.groups.length>0,g="visible"!=d.vScrollBar.css("visibility");d.autoheight||(a?f>=d._oldHeight?d._render(!0,!1,!1):d.rendergridcontent(!0,!1):(d._arrange(),d.virtualsizeinfo=d._calculatevirtualheight(),parseInt(f)>=parseInt(d._oldHeight)&&(d.prerenderrequired=!0),d._renderrows(d.virtualsizeinfo)),g&&"visible"==d.vScrollBar.css("visibility")&&(d._arrange(),d._updatecolumnwidths(),d._updatecellwidths()))}d._oldWidth=e,d._oldHeight=f},g)}}},_fieldsmapping:function(){this.showToolbar&&this._mapField("showtoolbar",this.showToolbar),this.toolbarHeight&&this._mapField("toolbarheight",this.toolbarHeight),this.pagerHeight&&this._mapField("pagerHeight",this.pagerHeight),this.groupsHeaderHeight&&this._mapField("groupsHeaderHeight",this.groupsHeaderHeight),this.pageSize&&this._mapField("pageSize",this.pageSize),this.pagerHeight&&this._mapField("pagerHeight",this.pagerHeight),this.pageSizeOptions&&this._mapField("pageSizeOptions",this.pageSizeOptions),this.rowsHeight&&this._mapField("rowsHeight",this.rowsHeight),this.columnsHeight&&this._mapField("columnsHeight",this.columnsHeight),this.groupIndentWidth&&this._mapField("groupIndentWidth",this.groupIndentWidth),this.rowDetails&&this._mapField("rowDetails",this.rowDetails),this.enableRowDetailsIndent&&this._mapField("enableRowDetailsIndent",this.enableRowDetailsIndent),this.enableMouseWheel&&this._mapField("enableMouseWheel",this.enableMouseWheel),this.initRowDetails&&this._mapField("initRowDetails",this.initRowDetails),this.editMode&&this._mapField("editMode",this.editMode),this.autoShowFilterIcon&&this._mapField("autoShowFilterIcon",this.autoShowFilterIcon),this.showFilterColumnBackground&&this._mapField("showFilterColumnBackground",this.showFilterColumnBackground),this.showPinnedColumnBackground&&this._mapField("showPinnedColumnBackground",this.showPinnedColumnBackground),this.showSortColumnBackground&&this._mapField("showSortColumnBackground",this.showSortColumnBackground),this.altRows&&this._mapField("altRows",this.altRows),this.altStart&&this._mapField("altStart",this.altStart),this.altStep&&this._mapField("altStep",this.altStep),this.showRowDetailsColumn&&this._mapField("showRowDetailsColumn",this.showRowDetailsColumn),this.groupsRenderer&&this._mapField("groupsRenderer",this.groupsRenderer),this.groupColumnRenderer&&this._mapField("groupColumnRenderer",this.groupColumnRenderer),this.groupsExpandedByDefault&&this._mapField("groupsExpandedByDefault",this.groupsExpandedByDefault),this.pagerRenderer&&this._mapField("pagerRenderer",this.pagerRenderer),this.updateDelay&&this._mapField("updateDelay",this.updateDelay),this.autoHeight&&this._mapField("autoHeight",this.autoHeight),this.showHeader&&this._mapField("showHeader",this.showHeader),this.showGroupsHeader&&this._mapField("showGroupsHeader",this.showGroupsHeader),this.closeableGroups&&this._mapField("closeableGroups",this.closeableGroups),this.scrollbarSize&&this._mapField("scrollbarSize",this.scrollbarSize),this.virtualMode&&this._mapField("virtualMode",this.virtualMode),this.columnsMenu&&this._mapField("columnsMenu",this.columnsMenu),this.columnsResize&&this._mapField("columnsResize",this.columnsResize),this.columnsMenuWidth&&this._mapField("columnsMenuWidth",this.columnsMenuWidth),this.sortToggleStates&&this._mapField("sortToggleStates",this.sortToggleStates),this.renderGridRows&&this._mapField("renderGridRows",this.renderGridRows),this.enableAnimations&&this._mapField("enableAnimations",this.enableAnimations),this.enableTooltips&&this._mapField("enableTooltips",this.enableTooltips),this.selectionMode&&this._mapField("selectionMode",this.selectionMode),this.enableHover&&this._mapField("enableHover",this.enableHover),this.loadingErrorMessage&&this._mapField("loadingErrorMessage",this.loadingErrorMessage),this.verticalScrollBarStep&&this._mapField("verticalScrollBarStep",this.verticalScrollBarStep),this.verticalScrollBarLargeStep&&this._mapField("verticalScrollBarLargeStep",this.verticalScrollBarLargeStep),this.horizontalScrollBarStep&&this._mapField("horizontalScrollBarStep",this.horizontalScrollBarStep),this.horizontalScrollbarLargeStep&&this._mapField("horizontalScrollbarLargeStep",this.horizontalScrollbarLargeStep),this.keyboardNavigation&&this._mapField("keyboardNavigation",this.keyboardNavigation)},_mapField:function(a,b){return null==a?!1:(this[a.toLowerCase()]=b,void 0)},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches;if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches}return a.touches||(a.touches=new Array,a.touches[0]=void 0!=a.originalEvent?a.originalEvent:a),a.touches},_updateTouchScrolling:function(){var b=this;if(b.isTouchDevice()){if(b.autoheight)return;b.scrollmode="logical",b.vScrollInstance.thumbStep=b.rowsheight;var c=a.jqx.mobile.getTouchEventName("touchstart"),d=a.jqx.mobile.getTouchEventName("touchend"),e=a.jqx.mobile.getTouchEventName("touchmove");b.enablehover=!1,b.gridcontent&&(b.gridcontent.off(c+".touchScroll"),b.gridcontent.off(e+".touchScroll"),b.gridcontent.off(d+".touchScroll"),b.gridcontent.off("touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b.gridcontent[0],b.vScrollInstance.max,function(a,c){if("visible"==b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c)}if("visible"==b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a)}b.vScrollInstance.thumbCapture=!0,b._lastScroll=new Date},this.element.id),b._overlayElement&&(b._overlayElement.off(c+".touchScroll"),b._overlayElement.off(e+".touchScroll"),b._overlayElement.off(d+".touchScroll"),b._overlayElement.off("touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b._overlayElement[0],b.vScrollInstance.max,function(a,c){if("visible"==b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c)}if("visible"==b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a)}b.vScrollInstance.thumbCapture=!0,b._lastScroll=new Date},this.element.id),this.host.on(c,function(){b.editcell?b._overlayElement.css("visibility","hidden"):b._overlayElement.css("visibility","visible")}),this.host.on(d,function(){b.editcell?b._overlayElement.css("visibility","hidden"):b._overlayElement.css("visibility","visible")})))}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var b=a.jqx.mobile.isTouchDevice();return this.touchDevice=b,1==this.touchmode?(b=!0,a.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=b):0==this.touchmode&&(b=!1),b&&0!=this.touchModeStyle&&(this.scrollbarsize=10,this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch"))),b},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(b){if(this._cellscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this._loading)return alert(this.loadingerrormessage),!1;if(null!=b){if(b.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=b.pagergotopagestring),b.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=b.pagershowrowsstring),b.pagerrangestring&&(this.gridlocalization.pagerrangestring=b.pagerrangestring),b.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=b.pagernextbuttonstring),b.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=b.pagerpreviousbuttonstring),b.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=b.groupsheaderstring),b.sortascendingstring&&(this.gridlocalization.sortascendingstring=b.sortascendingstring),b.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=b.sortdescendingstring),b.sortremovestring&&(this.gridlocalization.sortremovestring=b.sortremovestring),b.groupbystring&&(this.gridlocalization.groupbystring=b.groupbystring),b.groupremovestring&&(this.gridlocalization.groupremovestring=b.groupremovestring),b.firstDay&&(this.gridlocalization.firstDay=b.firstDay),b.days&&(this.gridlocalization.days=b.days),b.months&&(this.gridlocalization.months=b.months),b.AM&&(this.gridlocalization.AM=b.AM),b.PM&&(this.gridlocalization.PM=b.PM),b.patterns&&(this.gridlocalization.patterns=b.patterns),b.percentsymbol&&(this.gridlocalization.percentsymbol=b.percentsymbol),b.currencysymbol&&(this.gridlocalization.currencysymbol=b.currencysymbol),b.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=b.currencysymbolposition),b.decimalseparator&&(this.gridlocalization.decimalseparator=b.decimalseparator),b.thousandsseparator&&(this.gridlocalization.thousandsseparator=b.thousandsseparator),b.filterclearstring&&(this.gridlocalization.filterclearstring=b.filterclearstring),b.filterstring&&(this.gridlocalization.filterstring=b.filterstring),b.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=b.filtershowrowstring),b.filterselectallstring&&(this.gridlocalization.filterselectallstring=b.filterselectallstring),b.filterchoosestring&&(this.gridlocalization.filterchoosestring=b.filterchoosestring),b.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=b.filterorconditionstring),b.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=b.filterandconditionstring),b.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=b.filterstringcomparisonoperators),b.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=b.filternumericcomparisonoperators),b.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=b.filterdatecomparisonoperators),b.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=b.filterbooleancomparisonoperators),b.emptydatastring&&(this.gridlocalization.emptydatastring=b.emptydatastring),b.filterselectstring&&(this.gridlocalization.filterselectstring=b.filterselectstring),b.loadtext&&(this.gridlocalization.loadtext=b.loadtext),this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"),b.validationstring&&(this.gridlocalization.validationstring=b.validationstring),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var c in this._filterrowcache)a(this._filterrowcache[c]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading..."}},_initmenu:function(){var b=this;if(this.host.jqxMenu){this.gridmenu&&(this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.gridmenu.jqxMenu("destroy"),this.gridmenu.remove()),this.menuitemsarray=new Array,this.gridmenu=a('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var c=a("<ul></ul>"),d='<div class="jqx-grid-sortasc-icon"></div>',e=a("<li>"+d+this.gridlocalization.sortascendingstring+"</li>"),f='<div class="jqx-grid-sortdesc-icon"></div>',g=a("<li>"+f+this.gridlocalization.sortdescendingstring+"</li>"),h='<div class="jqx-grid-sortremove-icon"></div>',i=a("<li>"+h+this.gridlocalization.sortremovestring+"</li>"),j='<div class="jqx-grid-groupby-icon"></div>',k=a("<li>"+j+this.gridlocalization.groupbystring+"</li>"),l=a("<li>"+j+this.gridlocalization.groupremovestring+"</li>"),m=a('<li type="separator"></li>'),n=a('<li class="filter" style="height: 170px;" ignoretheme="true"><div class="filter"></div></li>'),o=this.gridlocalization.sortascendingstring.length,p=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>o&&(o=this.gridlocalization.sortdescendingstring.length,p=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>o&&(o=this.gridlocalization.sortremovestring.length,p=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>o&&(o=this.gridlocalization.groupbystring.length,p=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>o&&(o=this.gridlocalization.groupremovestring.length,p=this.gridlocalization.groupremovestring));
var q=200;p=a.trim(p).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var r=a("<span>"+p+"</span>");r.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(r),q=r.outerWidth()+60,r.remove();var s=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(c.append(e),this.menuitemsarray[0]=e[0],c.append(g),this.menuitemsarray[1]=g[0],c.append(i),this.menuitemsarray[2]=i[0],s=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(c.append(k),this.menuitemsarray[3]=k[0],c.append(l),this.menuitemsarray[4]=l[0],s+=2);var t=27*s+3,u=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems)if(this._initfilterpanel){this.menuitemsarray[5]=n[0],this.menuitemsarray[6]=n[0],c.append(m),c.append(n),t+=176,a.jqx.browser.msie&&a.jqx.browser.version<8&&(t+=20);var v=a(n).find("div:first");q+=20,this._initfilterpanel(this,v,"",q),u=!1,this.removeHandler(a(document),"click.menu"+b.element.id,b._closemenuafterclick,b),this.addHandler(a(document),"click.menu"+b.element.id,b._closemenuafterclick,b)}else alert("jqxgrid.filter.js is not loaded.");if(this.gridmenu.append(c),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.filterable&&(a("#listBoxfilter1"+this.element.id).css("z-index",4990),a("#listBoxfilter2"+this.element.id).css("z-index",4990),a("#listBoxfilter3"+this.element.id).css("z-index",4990),a("#gridmenu"+this.element.id).css("z-index",5e3),a("#gridmenu"+this.element.id).on("initialized",function(){a("#menuWrappergridmenu"+b.element.id).css("z-index",4980)})),void 0==this.menuitemsarray[0]&&(t=65),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(c){if(27==c.keyCode)b.gridmenu.jqxMenu("close");else if(13==c.keyCode&&b.filterable&&b._buildfilter){var d="block"==a(a.find("#filter1"+b.element.id)).jqxDropDownList("container").css("display"),e="block"==a(a.find("#filter2"+b.element.id)).jqxDropDownList("container").css("display"),f="block"==a(a.find("#filter3"+b.element.id)).jqxDropDownList("container").css("display"),g=a(a.find("#filterclearbutton"+b.element.id)).hasClass("jqx-fill-state-focus");if(g){var h=a.data(document.body,"contextmenu"+b.element.id).column;b._clearfilter(b,b.element,h),b.gridmenu.jqxMenu("close")}else if(!d&&!e&&!f){var h=a.data(document.body,"contextmenu"+b.element.id).column;b.gridmenu.jqxMenu("close"),b._buildfilter(b,n,h)}}}),"auto"!=this.popupwidth&&(q=this.popupwidth),this.gridmenu.jqxMenu({width:q,height:t,autoCloseOnClick:u,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",n[0].id,"closeOnClick",!1),this.rtl){var w=this;a.each(c.find("li"),function(){a(this).addClass(w.toTP("jqx-rtl"))});var x=function(a){var b=a.find("div");b.css("float","right"),b.css("margin-left","4px"),b.css("margin-right","-4px")};x(i),x(g),x(e),x(k),x(l)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){var b=this.gridlocalization.sortascendingstring.length,c=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>b&&(b=this.gridlocalization.sortdescendingstring.length,c=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>b&&(b=this.gridlocalization.sortremovestring.length,c=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>b&&(b=this.gridlocalization.groupbystring.length,c=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>b&&(b=this.gridlocalization.groupremovestring.length,c=this.gridlocalization.groupremovestring));var d=200;c=a.trim(c).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var e=a("<span>"+c+"</span>");e.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(e),d=e.outerWidth()+60,e.remove();var f=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(f=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(f+=2);var g=27*f+3;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(g+=176,d+=20,a.jqx.browser.msie&&a.jqx.browser.version<8&&(g+=20)),void 0==this.menuitemsarray[0]&&(g=65),"auto"!=this.popupwidth&&(d=this.popupwidth),this.gridmenu.jqxMenu({width:d,height:g})},_closemenuafterclick:function(b){var c=null!=b?b.data:this,d=!1;if(-1==b.target.className.indexOf("filter")){if(-1!=b.target.className.indexOf("jqx-grid-cell"))return c.gridmenu.jqxMenu("close"),void 0;if(c.host.offset(),b.pageX,b.pageY,a.each(a(b.target).parents(),function(){return null!=this.id&&-1!=this.id.indexOf("filter")?(d=!0,!1):-1!=this.className.indexOf("filter")?(d=!0,!1):-1!=this.className.indexOf("jqx-grid-cell")?(c.gridmenu.jqxMenu("close"),!1):-1!=this.className.indexOf("jqx-grid-column")?(c.gridmenu.jqxMenu("close"),!1):void 0}),!d){try{var e=a(a.find("#filter1"+c.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(new Date-e<100)return;var f=a(a.find("#filter3"+c.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(new Date-f<100)return}catch(g){}c.gridmenu.jqxMenu("close")}}},_handlemenueevents:function(){var b=this;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(){b._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(c){for(var d=c.args,e=0;e<b.menuitemsarray.length;e++){var f=b.menuitemsarray[e];if(d==f){if(void 0!=a(d).attr("ignoretheme"))return;var g=a.data(document.body,"contextmenu"+b.element.id),h=g.column;b.filterable&&b.gridmenu.jqxMenu("close");var i=h.displayfield;if(null==i&&(i=h.datafield),null!=g)switch(e){case 0:b.sortby(i,"ascending",null);break;case 1:b.sortby(i,"descending",null);break;case 2:b.sortby(i,null,null);break;case 3:b.addgroup(h.datafield);break;case 4:b.removegroup(h.datafield);break;case 5:var j=a(b.menuitemsarray[6]);a(j).css("display","block");break;case 7:}break}}})},getdatainformation:function(){var a=this.dataview.totalrecords;return this.summaryrows&&(a+=this.summaryrows.length),{rowscount:a,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var b=this;this.hiddens=new Array;var c=this.hiddenboundrows;a.each(c,function(a){if(void 0!=this.index){this.index;var c=b.getrowvisibleindex(a);b.hiddens[c]=this.hidden}})},_updaterowheights:function(){var b=this;this.heights=new Array;var c=this.heightboundrows;a.each(c,function(a){if(void 0!=this.index){this.index;var c=b.getrowvisibleindex(a);b.heights[c]=this.height}})},_updaterowdetails:function(){var b=this;this.details=new Array;var c=this.detailboundrows;a.each(c,function(a){if(void 0!=this.index){this.index;var c=b.getrowvisibleindex(a);b.details[c]=this.details}})},_getmenuitembyindex:function(a){return void 0==a?null:this.menuitemsarray[a]},_closemenu:function(){if(this._hasOpenedMenu){null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var b=a.data(document.body,"contextmenu"+this.element.id);if(null!=b&&this.autoshowcolumnsmenubutton){if(this.enableanimations){a(b.columnsmenu).animate({"margin-left":0},"fast",function(){a(b.columnsmenu).css("display","none")});var c=this.rtl?0:-32;b.column.iconscontainer.animate({"margin-left":c},"fast")}else{a(b.columnsmenu).css("display","none");var c=this.rtl?0:-32;b.column.iconscontainer.css("margin-left",c)}a.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1;var d=this._getmenuitembyindex(5);if(d){var e=a(d).find("#filter1"+this.element.id),f=a(d).find("#filter2"+this.element.id),g=a(d).find("#filter3"+this.element.id);e.jqxDropDownList("hideListBox"),f.jqxDropDownList("hideListBox"),g.jqxDropDownList("hideListBox")}}},scrolloffset:function(a,b){null!=a&&null!=b&&void 0!=a&&void 0!=b&&(this.vScrollBar.jqxScrollBar("setPosition",a),this.hScrollBar.jqxScrollBar("setPosition",b))},scrollleft:function(a){null!=a&&void 0!=a&&this.hScrollBar.jqxScrollBar("setPosition",a)},scrolltop:function(a){null!=a&&void 0!=a&&this.vScrollBar.jqxScrollBar("setPosition",a)},beginupdate:function(){this._updating=!0,this._datachanged=!1},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,1==this._datachanged){var a=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=a&&a<this.vScrollInstance.max&&this.scrolltop(a)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block")},hideloadelement:function(){a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var a=this;a.focusedfilter&&(a.focusedfilter.focus(),setTimeout(function(){if(a.focusedfilter.focus(),"input"==a.focusedfilter[0].nodeName.toLowerCase()){var b=a.focusedfilter.val().length;try{if("selectionStart"in a.focusedfilter[0])a.focusedfilter[0].setSelectionRange(b,b);else{var c=a.focusedfilter[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}catch(d){}}},10))},databind:function(b,c){"block"==this.host.css("display")&&(this.autoshowloadelement?(a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var d=this;null==b&&(b={}),b.recordstartindex||(b.recordstartindex=0),b.recordendindex||(b.recordendindex=0),(void 0==b.loadallrecords||null==b.loadallrecords)&&(b.loadallrecords=!0),(void 0==b.sortcomparer||null==b.sortcomparer)&&(b.sortcomparer=null),(void 0==b.filter||null==b.filter)&&(b.filter=null),(void 0==b.sort||null==b.sort)&&(b.sort=null),(void 0==b.data||null==b.data)&&(b.data=null);var e=null;if(null!=b&&(e=void 0!=b._source?b._source.url:b.url),this.dataview=this.dataview||new a.jqx.dataview,a.jqx.dataview.sort&&a.extend(this.dataview,new a.jqx.dataview.sort),a.jqx.dataview.grouping&&a.extend(this.dataview,new a.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!d.initializedcall){if(this.pageable&&b._source){if(this.sortable&&(void 0!=b._source.sortcolumn&&(this.sortcolumn=b._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=b._source.sortcolumn,b._source.sortcolumn=null),void 0!=b._source.sortdirection)){this.dataview.sortfielddirection=b._source.sortdirection;var f=b._source.sortdirection;if("a"==f||"asc"==f||"ascending"==f||1==f)var g=!0;else var g=!1;this.sortdirection=null!=f?{ascending:g,descending:!g}:{ascending:!1,descending:!1}}void 0!=b._source.pagenum&&(this.dataview.pagenum=b._source.pagenum),void 0!=b._source.pagesize?(this.pagesize=b._source.pagesize,this.dataview.pagesize=b._source.pagesize):(this.dataview.pagesize=b._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))}this.sortable&&(b.sortcolumn&&(this.dataview.sortfield=b.sortcolumn),b.sortdirection&&(this.dataview.sortfielddirection=b.sortdirection)),this.autoloadstate&&this.loadstate&&this.loadstate()}this._loading=!0,this.dataview.update=function(b){if(d._loading=!1,d.dataview.isupdating()&&d.dataview.resumeupdate(!1),d.pageable&&d.pagerrenderer&&(d._initpager?d._initpager():alert("jqxgrid.pager.js is not loaded.")),d.source.sortcolumn&&d.sortby&&!d.virtualmode)d.render(),d.sortby(d.source.sortcolumn,d.source.sortdirection,d.source.sortcomparer),d.source.sortcolumn=null;else{var e=d.vScrollInstance.value,f=d.hScrollInstance.value,g=d.source.datatype;if("local"!=g||"array"!=g){var h=null==d.virtualsizeinfo||null!=d.virtualsizeinfo&&0==d.virtualsizeinfo.virtualheight;if("cells"==c){var i=!1;if(d.filterable&&d._initfilterpanel&&d.dataview.filters.length&&(i=!0),0==b)return d.vScrollInstance.isScrolling()||d.hScrollInstance.isScrolling()||(d._cellscache=new Array,d._pagescache=new Array,d._renderrows(d.virtualsizeinfo),d.showfilterrow&&d.filterable&&d.filterrow&&d._updatelistfilters(),d.showaggregates&&d._updateaggregates&&d._updateaggregates()),d.autoshowloadelement&&(a(d.dataloadelement).css("visibility","hidden"),a(d.dataloadelement).css("display","none")),void 0;i?c="filter":void 0!=d.sortcolumn&&(c="sort")}!d.virtualmode||h||d.virtualmode&&d.pageable?1==d.initializedcall&&"pagechanged"==c?(d.rendergridcontent(!0),d.pageable&&d.updatepagerdetails&&(d.updatepagerdetails(),d.autoheight&&(d._updatepageviews(),d.autorowheight&&d._renderrows(this.virtualsizeinfo))),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):"filter"==c?(d._render(!0,!0,!1,!1,!1),d._updatefocusedfilter(),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):"sort"==c?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):"data"==c?d._render(!0,!0,!1,!1,!1):d._render(!0,!0,!0,d.menuitemsarray&&!d.virtualmode):d.virtualmode&&0==d.dataview.totalrecords&&d.dataview.filters.length>0?d._render(!0,!0,!0,d.menuitemsarray&&!d.virtualmode):(d._pagescache=new Array,d._renderrows(d.virtualsizeinfo)),d.vScrollInstance.value!=e&&e<=d.vScrollInstance.max&&d.vScrollInstance.setPosition(e),d.hScrollInstance.value!=f&&f<=d.hScrollInstance.max&&d.hScrollInstance.setPosition(f)}}d.autoshowloadelement&&(a(d.dataloadelement).css("visibility","hidden"),a(d.dataloadelement).css("display","none")),d.pageable&&d.pagerrightbutton&&(d.pagerrightbutton.jqxButton({disabled:!1}),d.pagerleftbutton.jqxButton({disabled:!1}),d.pagershowrowscombo.jqxDropDownList({disabled:!1})),d._raiseEvent(11),d.initializedcall?d._updateTouchScrolling():(d._raiseEvent(0),d.initializedcall=!0,d.ready&&d.ready(),d.autoloadstate&&d.loadstate&&d._loadselectionandcolumnwidths(),(null!=d.width&&-1!=d.width.toString().indexOf("%")||null!=d.height&&-1!=d.height.toString().indexOf("%"))&&d._updatesize(!0),"hidden"==d.host.css("visibility")&&(a.jqx.browser.msie&&a.jqx.browser.version<8,"visible"==d.vScrollBar.css("visibility")&&d.vScrollBar.css("visibility","inherit"),"visible"==d.hScrollBar.css("visibility")&&d.hScrollBar.css("visibility","inherit"),d._intervalTimer=setInterval(function(){"visible"==d.host.css("visibility")&&(d._updatesize(!0),clearInterval(d._intervalTimer))},100)))},this.dataview.databind(b),this.dataview.isupdating()&&(void 0!=e?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()},scrollto:function(a,b){void 0!=a&&this.hScrollInstance.setPosition(a),void 0!=b&&this.vScrollInstance.setPosition(b)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(a){var b=this._getpagesize(),c=Math.floor(a/b);this._pageviews[c]||this.pageable||this._updatepageviews();var d=!1;this.pageable&&this.gotopage&&!this.virtualmode&&this.dataview.pagenum!=c&&(this.gotopage(c),d=!0);var e=this.vScrollInstance.value,f=this._gettableheight()-this.rowsheight,g=b*(a/b-c);if(g=Math.round(g),this._pageviews[c]){var h=this._pageviews[c].top,i=h+g*this.rowsheight;if(this.rowdetails)for(var j=b*c;a>j;j++)this.details[j]&&0==this.details[j].rowdetailshidden&&(i+=this.details[j].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=i+this.rowsheight&&(i=this.vScrollInstance.max),e>i?(this.scrolltop(i),d=!0):i>e+f+2&&(this.scrolltop(i-f),d=!0)}else if(this.pageable){var i=g*this.rowsheight;if(this.rowdetails)for(var j=b*c;b*c+g>j;j++)0==this.details[j].rowdetailshidden&&(i+=this.details[j].rowdetailsheight);(e>i||i>e+f)&&(this.scrollto(0,i),d=!0)}return d},ensurecellvisible:function(b,c){var d=this,e=this.hScrollBar.jqxScrollBar("value"),f=d.hScrollInstance.max;d.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(f=0);var g=this.ensurerowvisible(b),h=0;if(this.columns.records){var i=e,j=this.host.width(),k=0,l="visible"==this.vScrollBar.css("visibility")?20:0,m=!1;a.each(this.columns.records,function(){if(this.datafield==c){var a=0,b=d.rtl?f-e:i;return h+this.width>b+j-l?(a=h+this.width-j+l,d.rtl&&(a=f-a),d.scrollleft(a),m=!0):b>=h&&(a=h-this.width,d.rtl&&(a=f-a),d.scrollleft(a),m=!0),0==k?(d.rtl?d.scrollleft(f):d.scrollleft(0),m=!0):k==d.columns.records.length-1&&"visible"==d.hScrollBar.css("visibility")&&(d.rtl?d.scrollleft(d.hScrollBar.jqxScrollBar("min")):d.scrollleft(d.hScrollBar.jqxScrollBar("max")),m=!0),!1}k++,h+=this.width}),m||d.scrollleft(i)}return g},setrowheight:function(a,b){return this._loading?(alert(this.loadingerrormessage),!1):null==a||null==b?!1:(this.heightboundrows[a]={index:a,height:b},a=this.getrowvisibleindex(a),0>a?!1:(this.rows.records[a]?this.rows.records[a].height=b:(row=new c(this,null),row.height=b,this.rows.replace(a,row)),this.heights[a]=b,this.rendergridcontent(!0),!0))},getrowheight:function(a){return null==a?null:(a=this.getrowvisibleindex(a),0>a?!1:this.rows.records[a]?this.rows.records[a].height:void 0)},setrowdetails:function(a,b,c,d){if(!(void 0==a||null==a||0>a)){var e=this.dataview.generatekey();return this.detailboundrows[a]={index:a,details:{rowdetails:b,rowdetailsheight:c,rowdetailshidden:d,key:e}},a=this.getrowvisibleindex(a),0>a?!1:this._setrowdetails(a,b,c,d,e)}},getcolumn:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){return this.datafield==b||this.displayfield==b?(c=this,!1):void 0}),c},_getcolumnindex:function(b){var c=-1;return this.columns.records&&a.each(this.columns.records,function(){return c++,this.datafield==b?!1:void 0}),c},_getcolumnat:function(a){var b=this.columns.records[a];return b},_getprevvisiblecolumn:function(a){for(var b=this;a>0;){a--;var c=b.getcolumnat(a);if(!c)return null;if(!c.hidden)return c}return null},_getnextvisiblecolumn:function(a){for(var b=this;a<this.columns.records.length;){a++;var c=b.getcolumnat(a);if(!c)return null;if(!c.hidden)return c}return null},getcolumnat:function(a){if(!isNaN(a)){var b=this.columns.records[a];return b}return null},_getcolumn:function(b){var c=null;return a.each(this._columns,function(){return this.datafield==b||this.displayfield==b?(c=this,!1):void 0}),c},_setcolumnproperty:function(a,b,c){if(null==a||null==b||null==c)return null;var d=this.getcolumn(a);if(null!=d){var e=d[b];d[b]=c;var f=this._getcolumn(a);switch(null!=f&&(f[b]=c),this._cellscache=new Array,b){case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader();break;case"editable":case"resizable":case"draggable":if("editable"==b&&c!=e){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==d.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"class":if(this.prerenderrequired=!0,this.rendergridcontent(!0),this.updating())return!1;this._renderrows(this.virtualsizeinfo);break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(a,b){if(null==a||null==b)return null;var c=this.getcolumn(a);return c[b]},setcolumnproperty:function(a,b,c){this._setcolumnproperty(a,b,c)},getcolumnproperty:function(a,b){return this._getcolumnproperty(a,b)},hidecolumn:function(a){this._setcolumnproperty(a,"hidden",!0)},showcolumn:function(a){this._setcolumnproperty(a,"hidden",!1)},iscolumnvisible:function(a){return!this._getcolumnproperty(a,"hidden")},pincolumn:function(a){this._setcolumnproperty(a,"pinned",!0)},unpincolumn:function(a){this._setcolumnproperty(a,"pinned",!1)},iscolumnpinned:function(a){return this._getcolumnproperty(a,"pinned")},_setrowdetails:function(a,b,c,d,e){if(0==c&&(c=100),null==a||null==c)return!1;if(null!=e)this.details[a]={rowdetails:b,rowdetailsheight:c,rowdetailshidden:d,detailskey:e};else{for(var f=null!=this.details[a]?this.details[a].detailskey:null,g={rowdetails:b,rowdetailsheight:c,rowdetailshidden:d,detailskey:f},h=0;h<this.detailboundrows.length;h++)if(void 0!=this.detailboundrows[h]){var i=this.detailboundrows[h];if(i.details.detailskey==f){i.details.rowdetailsheight=g.rowdetailsheight,i.details.rowdetailshidden=g.rowdetailshidden,i.details.rowdetails=g.rowdetails;break}}this.details[a]=g}return this.rendergridcontent(!0),!0},getrowdetails:function(a){return null==a?!1:(a=this.getrowvisibleindex(a),this._getrowdetails(a))},_getrowdetails:function(a){return null==a?!1:0>a?!1:this.details[a]?this.details[a]:this.rowdetailstemplate?this.rowdetailstemplate:void 0},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(a){if(this._loading)return alert(this.loadingerrormessage),!1;if(null==a)return!1;if(a=this.getrowvisibleindex(a),0>a)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!1)},hiderowdetails:function(a){if(this._loading)return alert(this.loadingerrormessage),!1;if(a=this.getrowvisibleindex(a),0>a)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!0)},_togglerowdetails:function(a){var b=a.visibleindex,c=this._getrowdetails(b);if(null!=c){var d=!c.rowdetailshidden;return this._setrowdetailsvisibility(b,c,d)}return!1},_setrowdetailsvisibility:function(a,b,c){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[a])){this.details[a]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var d=this.dataview.generatekey();this.details[a].detailskey=d,this.detailboundrows[a]={index:a,details:this.details[a]}}if(null==b)return!1;this.details[a].rowdetailshidden=c;var e=this.details[a];return c?this._raiseEvent(21,{rowindex:a,details:e.rowdetails,height:e.rowdetailsheight}):this._raiseEvent(20,{rowindex:a,details:e.rowdetails,height:e.rowdetailsheight}),this._setrowdetails(a,e.rowdetails,e.rowdetailsheight,e.rowdetailshidden)},getrowvisibleindex:function(a){if(void 0==a||null==a||0>a)return!1;if(this.virtualmode){var b=this.dataview.loadedrecords[a];return void 0==b?-1:b.visibleindex}var b=this.dataview.bounditems[a];return void 0==b?-1:b.visibleindex},hiderow:function(a){return this._loading?(alert(this.loadingerrormessage),!1):void 0==a||null==a||0>a?!1:null==a?!1:(this.hiddenboundrows[a]={index:a,hidden:!0},a=this.getrowvisibleindex(a),this._setrowvisibility(a,!0))},showrow:function(a){return this._loading?(alert(this.loadingerrormessage),!1):void 0==a||null==a||0>a?!1:null==a?!1:(this.hiddenboundrows[a]={index:a,hidden:!1},a=this.getrowvisibleindex(a),this._setrowvisibility(a,!1))},isrowhiddenat:function(a){return null==a?null:(a=this.getrowvisibleindex(a),this.rows.records[a]?this.rows.records[a].hidden:void 0)},_setrowvisibility:function(a,b,c){return null==a?!1:(this.hiddens[a]=b,void 0==c||c?(this.rendergridcontent(!0),!0):!1)},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var a=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var b=this,d=new Array,e=new Array,f=b.groupable&&b.groups.length>0;this.dataview.totalrecords,this.virtualsizeinfo.virtualheight;var g=0;this.rows.beginupdate();var h=this.dataview.pagesize;this.pageable&&f&&(h=this.dataview.rows.length);for(var i=0;h>i&&!(i>=this.dataview.rows.length);i++){var j=this.dataview.rows[i],k=null;b.rows.records[j.visibleindex]?(k=b.rows.records[j.visibleindex],k.setdata(j)):k=new c(b,j),k.hidden=this.hiddens[k.visibleindex],this.rowdetailstemplate&&(k.rowdetails=this.rowdetailstemplate.rowdetails,k.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,k.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var l=this.details[k.visibleindex];if(l?(k.rowdetails=l.rowdetails,k.rowdetailsheight=l.rowdetailsheight,k.rowdetailshidden=l.rowdetailshidden):this.rowdetailstemplate||(k.rowdetails=null),f&&this.pageable&&null!=k.parentbounddata){var m=d[k.parentbounddata.uniqueid];if(null!=m){var n=this._findgroupstate(m.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,k.parentbounddata,!n,!1),k.hidden=this.hiddens[k.visibleindex]}null!=m&&void 0!=m&&(k.parentrow=m,m.subrows[m.subrows.length++]=k)}if(!k.hidden){var o=j.visibleindex;this.heights[o]||(this.heights[o]=this.rowsheight),k.height=this.heights[o],this.rowdetails&&k.rowdetails&&!k.rowdetailshidden&&(k.height+=k.rowdetailsheight),d[k.uniqueid]=k,e[g++]=k,k.top=a,a+=k.height;var p=o;b.rows.replace(p,k)}}this.autoheight&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=a),this.rows.resumeupdate(),e.length>0&&(this._pagescache[this.dataview.pagenum]=e)}}},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var a=this.host.height();if(this.columnsheader){var b=this.columnsheader.outerHeight();this.showheader||(b=0)}return a-=b,"visible"==this.hScrollBar[0].style.visibility&&(a-=this.hScrollBar.outerHeight()),this.pageable&&(a-=this.pager.outerHeight()),this._groupsheader()&&(a-=this.groupsheader.outerHeight()),this.showtoolbar&&(a-=this.toolbarheight),this.showstatusbar&&(a-=this.statusbarheight),a>0?(this.tableheight=a,a):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var a=Math.round(this.host.height())+2*this.rowsheight,b=Math.round(a/this.rowsheight);return b}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var a=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();var b=Math.round(a/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var c=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(c=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight&&(c=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var d=c*this.rowsheight,e=0,f=0,g=0,h=this._getpagesize(),i=h*this.rowsheight,j=0;if(!this.pageable&&this.autoheight&&(b=c),c+h>0)for(;c+h>=j;){if(e+=i,c>j-h&&j>=c){var k=j-c;k>0&&(g-=i,this._pageviews[f-1]={top:g,height:i-k*this.rowsheight});break}this._pageviews[f++]={top:g,height:i},g=e,j+=h}return this.vScrollBar.jqxScrollBar({value:0}),d>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:d}):this.vScrollBar.jqxScrollBar({max:d-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=h,this.dataview.updateview(),{visiblerecords:b,virtualheight:d}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var a=this,b=Math.round(this.host.height())+2*this.rowsheight,c=Math.round(b/this.rowsheight),d=Math.max(this.dataview.totalrows,this.dataview.totalrecords),e=d*this.rowsheight,f=0,g=0,h=0,i=0,j=0,k=this._getpagesize();if(this.pageable)this._updatepagedview&&(e=this._updatepagedview(d,e,0)),this.autoheight&&this._arrange();else for(var l=0;d>l;l++){var m={index:l,height:this.heights[l],hidden:this.hiddens[l],details:this.details[l]};if(void 0==this.heights[l]&&(this.heights[l]=this.rowsheight,m.height=this.rowsheight),void 0==this.hiddens[l]&&(this.hiddens[l]=!1,m.hidden=!1),void 0==this.details[l]&&(this.details[l]=null),m.height!=a.rowsheight&&(e-=a.rowsheight,e+=m.height),m.hidden)e-=m.height;else{g+=m.height;var n=0;this.rowdetails&&(this.rowdetailstemplate&&(m.details||(m.details=this.rowdetailstemplate)),m.details&&m.details.rowdetails&&!m.details.rowdetailshidden&&(n=m.details.rowdetailsheight,g+=n,e+=n)),f+=m.height+n}j++,(j>=k||l==d-1)&&(this._pageviews[h++]={top:i,height:g},g=0,i=f,j=0)}var o=this._gettableheight();if(e>o)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,0>e&&(e=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(o>=e||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-o>0){if("deferred"!=this.scrollmode){var p=e-o;this.vScrollBar.jqxScrollBar({max:p})}}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(c=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:c,virtualheight:e}}},updatebounddata:function(a){this.databind(this.source,a)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var a=this._pageviews[0].height,b=this._gettableheight();if(a>b)if(this.pageable&&this.gotopage&&(a=this._pageviews[0].height,0>a&&(a=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(b>=a||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),a-b>0){var c=a-b;this.vScrollBar.jqxScrollBar({max:c})}else this.vScrollBar.jqxScrollBar({value:0,max:a});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(a){1!=a&&null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_render:function(b,c,d,e,f){null!=this.dataview&&(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0!=c?c:!0,d&&(this._requiresupdate||0!=e&&this._initmenu(),null==this.columns?this.columns=new a.jqx.collection(this.element):this._initializeColumns()),this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),0!=e&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,a.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),d?(this.filterrow&&this.filterrow.detach(),a.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||a('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&a.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||a('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove(),this.showfilterrow&&this.filterable?this.columnsheader.height(this.columnsheight+this.filterrowheight):this.columnsheader.height(this.columnsheight),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||a("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,d),this.groups.length>0&&this.groupable&&(this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.suspendgroupevents=!1),this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&(this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==f||1==f)&&this._updatelistfilters(),this.rendered&&this.rendered("full"))
},_addoverlayelement:function(){var b=a.jqx.utilities.getBrowser();("msie"==b.browser&&parseInt(b.version)<9||this.isTouchDevice())&&(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=a("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice()?(this.table.prepend(this._overlayElement),this._overlayElement.css("visibility","visible"),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0))),this.autoheight&&this._overlayElement.remove()):this.content.prepend(this._overlayElement)),this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=a("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=a("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},rendergridcontent:function(a,b){if(this.updating())return!1;(void 0==a||null==a)&&(a=!1),this._requiresupdate=a;var c=this.prerenderrequired;this.prerenderrequired&&this._arrange();var d=this,b=b;if((null==b||void 0==b)&&(b=!0),this.tableheight=null,d.virtualsizeinfo=d.virtualsizeinfo||d._calculatevirtualheight(),d.pageable&&!d.autoheight&&d.dataview.totalrows<d.pagesize&&(d._requiresupdate=!0),b?d._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),d._renderrows(d.virtualsizeinfo),0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0),c){var e=this.tableheight;this._arrange(),e!=this.tableheight&&this.autoheight&&d._renderrows(d.virtualsizeinfo)}return this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var b=this.host.width(),c=b,d="";if(void 0!=this.columns&&void 0!=this.columns.records){var e=this;a.each(this.columns.records,function(a,f){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var f=0,g="hidden"==e.vScrollBar[0].style.visibility?0:e.scrollbarsize+5;f=parseInt(this.width)*c/100,void 0!=this._percentagewidth&&(f=parseInt(this._percentagewidth)*(c-g)/100),f<this.minwidth&&"auto"!=this.minwidth&&(f=this.minwidth),f>this.maxwidth&&"auto"!=this.maxwidth&&(f=this.maxwidth),b-=Math.round(f)}else"auto"==this.width||this._width?d+=this.text:b-=this.width});var f=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>f)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var g=this.dataview.loadedrootgroups.length*this.rowsheight;g>f?(b-=this.scrollbarsize+5,c-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(b-=this.scrollbarsize+5,c-=this.scrollbarsize+5)}else b-=this.scrollbarsize+5,c-=this.scrollbarsize+5;else b-=this.scrollbarsize+5,c-=this.scrollbarsize+5;var h=this.columnsheader.find("#columntable"+this.element.id);if(0!=h.length){var i=h.find(".jqx-grid-column-header"),j=0;a.each(this.columns.records,function(e){var f=a(i[e]),g=!1,h=this.width;if((-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(h=void 0!=this._percentagewidth?parseInt(this._percentagewidth)*c/100:parseInt(this.width)*c/100,g=!0),"auto"==this.width||this._width||g)if(g)h<this.minwidth&&"auto"!=this.minwidth&&(h=this.minwidth,this.width=h),h>this.maxwidth&&"auto"!=this.maxwidth&&(h=this.maxwidth,this.width=h),parseInt(f[0].style.width)!=h&&(f.width(h),this.width=h);else{var k=Math.round(b*(this.text.length/d.length));isNaN(k)&&(k=this.minwidth),0>k&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),k=10+$element.width(),$element.remove()),k<this.minwidth&&(k=this.minwidth),k>this.maxwidth&&(k=this.maxwidth),this._width="auto",this.width=k,f.width(this.width)}else parseInt(f[0].style.width)!=this.width&&f.width(this.width);parseInt(f[0].style.left)!=j&&f.css("left",j),this.hidden&&this.hideable||(j+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+j),h.width(this.columnsheader.width()),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui())}}},_rendercolumnheaders:function(){var b=this;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void 0;this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var c=a('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');c[0].cells=new Array;var d=0,e=0,f="",g=this.host.width(),h=g,i=new Array,j=new Array;if(a.each(this.columns.records,function(a,b){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)f+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)g-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)g-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var b=0;b=parseInt(this.width)*h/100,b<this.minwidth&&"auto"!=this.minwidth&&(b=this.minwidth),b>this.maxwidth&&"auto"!=this.maxwidth&&(b=this.maxwidth),g-=b}else"string"==typeof this.width&&(this.width=parseInt(this.width)),g-=this.width;this.pinned?i[i.length]=this:j[j.length]=this}),this.rtl){var k=0;i.reverse();for(var l=this.columns.records.length-1;l>=this.columns.records.length-i.length;l--)this.columns.replace(l,i[k++]);for(var m=0;m<j.length;m++)this.columns.replace(m,j[m])}else{for(var l=0;l<i.length;l++)this.columns.replace(l,i[l]);for(var m=0;m<j.length;m++)this.columns.replace(i.length+m,j[m])}var n=this.headerZIndex,o=b.groupable?b.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&o++;var p=b.columnsheader.height();this.showfilterrow&&(p=this.columnsheight);var q=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>q)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var r=this.dataview.loadedrootgroups.length*this.rowsheight;r>q&&(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5)}else g-=this.scrollbarsize+5,h-=this.scrollbarsize+5;else this.autoheight||(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5);if(a.each(this.columns.records,function(i){var j=b.toTP("jqx-grid-column-header")+" "+b.toTP("jqx-widget-header");b.rtl&&(j+=" "+b.toTP("jqx-grid-column-header-rtl"));var k=a('<div style="position: absolute; height: 100%;" class="'+j+'"></div>');this.uielement=k,""!=this.classname&&this.classname&&k.addClass(this.classname),b.rtl?k.css("z-index",n++):k.css("z-index",n--);var l=this.width,m=!1;if((-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(l=void 0!=this._percentagewidth?parseInt(this._percentagewidth)*h/100:parseInt(this.width)*h/100,m=!0),"auto"==this.width||this._width||m)if(m)l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth),(void 0==this._percentagewidth||-1!=this.width.toString().indexOf("%"))&&(this._percentagewidth=this.width),k.width(l),this.width=l;else{var q=Math.round(g*(this.text.length/f.length));isNaN(q)&&(q=this.minwidth),0>q&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),q=10+$element.width(),$element.remove()),q<this.minwidth&&(q=this.minwidth),q>this.maxwidth&&(q=this.maxwidth),this._width="auto",this.width=q,l=this.width,k.width(this.width)}else l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth),k.width(l);this.hidden&&this.hideable&&k.css("display","none");var r=a('<div style="height: 100%; width: 100%;"></div>'),s=a('<div style="display: none; left: 100%; top: 0%; position: absolute;"></div>'),t=a('<div style="width: 100%; height:100%;"></div>');t.addClass(b.toTP("jqx-grid-column-menubutton")),b.rtl&&t.addClass(b.toTP("jqx-grid-column-menubutton-rtl")),t.appendTo(s),s.height(p),b.enableanimations||s.css("margin-left",-16),b.rtl&&s.css("left","0px");var u=a('<div class="sortasc" style="float: right; display: none; width: 16px;"><div style="width: 100%; height:100%;"></div></div>'),v=a('<div class="sortdesc" style="float: right; display: none; width: 16px;"><div style="width: 100%; height:100%;"></div></div>'),w=a('<div class="filtericon" style="float: right; display: none; width: 16px;"><div style="width: 100%; height:100%;"></div></div>');!b.autoshowfiltericon&&this.filterable&&w.css("display","block"),u.height(p),v.height(p),w.height(p),u.find("div").addClass(b.toTP("jqx-grid-column-sortascbutton")),v.find("div").addClass(b.toTP("jqx-grid-column-sortdescbutton")),w.find("div").addClass(b.toTP("jqx-grid-column-filterbutton")),this.sortasc=u[0],this.sortdesc=v[0],this.filtericon=w[0],this.columnsmenu=s[0],c[0].cells[i]=k[0],s.width(b.columnsmenuwidth);var x=b.columnsmenu,y=!1,z=!1,A=b.groupable&&o>0&&o>d||b.rowdetails&&o>d;if(b.rtl&&(A=b.groupable&&o>0&&o>d||b.rowdetails&&o>d,A&=i>b.columns.records.length-1-o),A)d++,x&=!1,this.sortable=!1,this.editable=!1,z=!0;else{var B=null!=this.renderer?this.renderer(this.text,this.align):b._rendercolumnheader(this.text,this.align);null==B&&(B=b._rendercolumnheader(this.text,this.align)),null!=this.renderer&&(B=a(B)),x&=!0,y=!0}if(r.append(B),null!=B){var C=a('<div class="iconscontainer" style="margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"></div>');s.addClass(b.toTP("jqx-widget-header")),C.height(p),r.append(C),C.append(w),C.append(u),C.append(v),v.addClass(b.toTP("jqx-widget-header")),u.addClass(b.toTP("jqx-widget-header")),w.addClass(b.toTP("jqx-widget-header")),this.iconscontainer=C,b.rtl&&(C.css("margin-left","0px"),C.css("left","0px"),u.css("float","left"),w.css("float","left"),v.css("float","left"))}x&&(b._handlecolumnsmenu(b,r,k,s,this),this.menu||s.hide()),k.append(r),c.append(k),b.groupable&&y&&(k[0].id=b.dataview.generatekey(),b._handlecolumnstogroupsdragdrop?b._handlecolumnstogroupsdragdrop(this,k):alert("jqxgrid.grouping.js is not loaded")),b.columnsreorder&&this.draggable&&b._handlecolumnsdragreorder&&b._handlecolumnsdragreorder(this,k);var D=this;if(b.addHandler(k,"click",function(a){b.sorttogglestates>0&&b._togglesort&&(b._loading||b._togglesort(D)),a.preventDefault(),b._raiseEvent(7,{column:D.getcolumnproperties(),datafield:D.datafield,originalEvent:a})}),D.resizable&&b.columnsresize&&!z){var E=!1,F="mousemove";b.isTouchDevice()&&(E=!0,F=a.jqx.mobile.getTouchEventName("touchstart")),b.addHandler(k,F,function(c){var d=parseInt(c.pageX),e=5,f=parseInt(k.offset().left);if(b.hasTransform&&(f=a.jqx.utilities.getOffset(k).left),b._handlecolumnsresize){if(E){var g=b.getTouches(c),h=g[0];return d=h.pageX,e=40,d>=f+D.width-e?(b.resizablecolumn={columnelement:k,column:D},k.css("cursor","col-resize")):(k.css("cursor",""),b.resizablecolumn=null),!0}var i=D.width;if(b.rtl&&(i=0),d>=f+i-e){if(f+i+e>=d)return b.resizablecolumn={columnelement:k,column:D},k.css("cursor","col-resize"),!1;k.css("cursor",""),b.resizablecolumn=null}else k.css("cursor",""),b.resizablecolumn=null}})}k.css("left",e),this.hidden&&this.hideable||(e+=l),D.rendered&&(D.rendered(B),null!=C&&C.hide())}),e>0?this.columnsheader.width(2+e):this.columnsheader.width(e),this.columnsrow=c,b.columnsheader.append(c),this.showfilterrow&&this._updatefilterrow){if(c.height(this.columnsheight),!this.filterrow){var s=a("<div></div>");s[0].id="filterrow."+this.element.id,s.height(this.filterrowheight),this.filterrow=s}this.columnsheader.append(this.filterrow),this._updatefilterrow()}c.width(e),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize()},_handlecolumnsmenu:function(b,c,d,e,f){b.dragmousedown=null,e[0].id=b.dataview.generatekey(),c.append(e),d[0].columnsmenu=e[0],f.element=d[0];var g=16,h=function(){if(!f.menu)return!1;if(!b.resizing&&b.menuitemsarray.length>0)if(b.enableanimations){e.css("display","block"),e.stop(),f.iconscontainer.stop(),b.rtl?(e.css("margin-left",-g),e.animate({"margin-left":"0px"},"fast",function(){e.css("display","block")})):(e.css("margin-left","0px"),e.animate({"margin-left":-g},"fast",function(){e.css("display","block")}));var a=b.rtl?16:-48;f.iconscontainer.animate({"margin-left":a},"fast")}else{e.css("display","block");var a=b.rtl?16:-48;f.iconscontainer.css("margin-left",a+"px")}};if(b.addHandler(d,"mouseenter",function(){f.menu&&b.autoshowcolumnsmenubutton&&h()}),!b.autoshowcolumnsmenubutton){e.css("display","block");var i=b.rtl?16:-48;f.iconscontainer.css("margin-left",i+"px"),b.rtl?e.css({"margin-left":"0px"}):e.css({"margin-left":-g})}b.addHandler(d,"mouseleave",function(){if(b.menuitemsarray.length>0&&f.menu){var c=a.data(document.body,"contextmenu"+b.element.id);if(void 0!=c&&e[0].id==c.columnsmenu.id)return;if(b.autoshowcolumnsmenubutton)if(b.enableanimations){b.rtl?e.css("margin-left","0px"):e.css("margin-left",-g),e.stop(),f.iconscontainer.stop(),b.rtl?e.animate({"margin-left":-g},"fast",function(){e.css("display","none")}):e.animate({"margin-left":0},"fast",function(){e.css("display","none")});var d=b.rtl?0:-32;f.iconscontainer.animate({"margin-left":d},"fast")}else{e.css("display","none");var d=b.rtl?0:-32;f.iconscontainer.css("margin-left",d+"px")}}});var j=!0,k="",l=a(f.filtericon);b.addHandler(e,"mousedown",function(){j=!a.data(b.gridmenu[0],"contextMenuOpened"+b.gridmenu[0].id),k=a.data(document.body,"contextmenu"+b.element.id),null!=k&&(k=k.column.datafield)}),b.addHandler(l,"mousedown",function(){j=!a.data(b.gridmenu[0],"contextMenuOpened"+b.gridmenu[0].id),k=a.data(document.body,"contextmenu"+b.element.id),null!=k&&(k=k.column.datafield)});var m=function(){if(!f.menu)return!1;var c=e.offset(),d=e.height();if(!j&&(j=!0,k==f.datafield))return b._closemenu(),!1;var g=b.host.offset();b.hasTransform&&(g=a.jqx.utilities.getOffset(b.host),c=a.jqx.utilities.getOffset(e)),g.left+b.host.width()>parseInt(c.left)+b.gridmenu.width()?b.gridmenu.jqxMenu("open",c.left,c.top+d):b.gridmenu.jqxMenu("open",e.width()+c.left-b.gridmenu.width(),c.top+d),b.gridmenu.width()<100&&b._arrangemenu(),b._hasOpenedMenu=!0;var h=b._getmenuitembyindex(0),i=b._getmenuitembyindex(1),l=b._getmenuitembyindex(2),m=b._getmenuitembyindex(3),n=b._getmenuitembyindex(4),o=b._getmenuitembyindex(5);if(null!=h&&null!=i&&null!=l){var p=f.sortable&&b.sortable;if(b.gridmenu.jqxMenu("disable",h.id,!p),b.gridmenu.jqxMenu("disable",i.id,!p),b.gridmenu.jqxMenu("disable",l.id,!p),f.datafield)if(b.sortcolumn==f.datafield){var q=b.getsortinformation();p&&(q.sortdirection.ascending?b.gridmenu.jqxMenu("disable",h.id,!0):b.gridmenu.jqxMenu("disable",i.id,!0))}else b.gridmenu.jqxMenu("disable",l.id,!0)}if(null!=m&&null!=n&&(b.groupable&&f.groupable?b.groups&&-1!=b.groups.indexOf(f.datafield)?(b.gridmenu.jqxMenu("disable",m.id,!0),b.gridmenu.jqxMenu("disable",n.id,!1)):(b.gridmenu.jqxMenu("disable",m.id,!1),b.gridmenu.jqxMenu("disable",n.id,!0)):(b.gridmenu.jqxMenu("disable",n.id,!0),b.gridmenu.jqxMenu("disable",m.id,!0))),null!=o){b._updatefilterpanel(b,o,f);var r=0;b.sortable&&b._togglesort&&b.showsortmenuitems&&(r+=3),b.groupable&&b.addgroup&&b.showgroupmenuitems&&(r+=2);var s=27*r+3;a.jqx.browser.msie&&a.jqx.browser.version<8&&(s+=20,a(o).height(190)),b.filterable&&b.showfiltermenuitems&&(f.filterable?(b.gridmenu.height(s+176),a(o).css("display","block")):(b.gridmenu.height(s),a(o).css("display","none")))}a.data(document.body,"contextmenu"+b.element.id,{column:f,columnsmenu:e[0]})};b.addHandler(l,"click",function(){return f.menu?(b.showfilterrow||(h(),m()),!1):!1}),b.addHandler(e,"click",function(){return f.menu?(m(),!1):!1})},_removecolumnhandlers:function(b){var c=this,d=a(b.element);if(d.length>0){c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave");var e=a(b.filtericon);if(c.removeHandler(e,"mousedown"),c.removeHandler(e,"click"),c.removeHandler(d,"click"),d[0].columnsmenu){var f=a(d[0].columnsmenu);c.removeHandler(f,"click"),c.removeHandler(f,"mousedown")}}},_rendercolumnheader:function(b,c){var d="4px";if(25!=this.columnsheight&&(d=this.columnsheight/2-this._columnheight/2+"px"),this.enableellipsis)return a('<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+c+"; margin-left: 4px; margin-right: 2px; margin-top: "+d+';"><span style="text-overflow: ellipsis; cursor: default;">'+b+"</span></div>");if("center"==c)return a('<div style="text-align: center; margin-top: '+d+';"><a href="#">'+b+"</a></div>");var e=a('<a style="margin-top: '+d+"; float: "+c+';" href="#">'+b+"</a>");return e},_renderrows:function(b){var c=this;if((this.pageable||this.groupable)&&this.autoheight&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(c.prerenderrequired=!0),!this.pageable&&this.autoheight&&(this.virtualmode||this.unboundmode)){var d=this.source.totalrecords;isNaN(d)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=d&&(c.prerenderrequired=!0)}this.autoheight&&!c.prerenderrequired&&this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?c.prerenderrequired=!0:this.pageable||(c.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?c.prerenderrequired=!0:this.pageable||(c.prerenderrequired=!0))),c._prerenderrows(b),c._requiresupdate&&(c._requiresupdate=!1,c._updatepageviews());var e=function(){c._loading||(c.WinJS?MSApp.execUnsafeLocalFunction(function(){c._rendervisualrows()}):c._rendervisualrows(),c.virtualmode&&c.showaggregates&&c._updateaggregates&&c.refreshaggregates())};if(this.virtualmode){var f=function(){if(c.rendergridrows){var a=c._startboundindex;void 0==a&&(a=0);var b=a+1+c.dataview.pagesize;if(null!=a&&null!=b){var d=c.source._source?!0:!1,e=d?c.source._source.recordstartindex:c.source.recordstartindex;e!=a&&(d?(c.source._source.recordstartindex=a,c.source._source.recordendindex=b):(c.source.recordstartindex=a,c.source.recordendindex=b),c.updatebounddata())}}};this.loadondemand&&(f(),this.loadondemand=!1);var g=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?e():this.autoheight?e():g||a.jqx.browser.mozilla||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){e()},5)):e()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var h=this._getfirstvisualrow();if(null!=h){var i=function(){if(null==h)return"";var b="<table>",d=c.deferreddatafields;null==d&&c.columns.records.length>0&&(d=new Array,d.push(c.columns.records[0].displayfield));for(var e=0;e<d.length;e++){var f=d[e],g=c._getcolumnbydatafield(f);if(g){var i=c._getcellvalue(g,h);""!=g.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(i)?i=a.jqx.dataFormat.formatdate(i,g.cellsformat,c.gridlocalization):a.jqx.dataFormat.isNumber(i)&&(i=a.jqx.dataFormat.formatnumber(i,g.cellsformat,c.gridlocalization))),b+="<tr><td>"+i+"</td></tr>"}}return b+="</table>"},j=this.scrollfeedback?this.scrollfeedback(h.bounddata):i(h.bounddata);j!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=j,this._scrollelementcontent=j)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),this._scrolltimer=setInterval(function(){c.hScrollInstance.isScrolling()||c.vScrollInstance.isScrolling()||(e(),c._scrollelement.css("visibility","hidden"),c._scrollelementoverlay.css("visibility","hidden"),clearInterval(c._scrolltimer),h&&c.ensurerowvisible(h.visibleindex))},100),void 0}navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this.updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this.updatedelay=5);var g=void 0==this._browser?this._isIE10():this._browser;if(g&&(this.updatedelay=5),(g||a.jqx.browser.mozilla)&&this.hScrollInstance.isScrolling())return e(),void 0;if(a.jqx.browser.mozilla&&0==this.updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()))return k=setTimeout(function(){e()},.01),void 0;if(0==this.updatedelay)e();else{var k=a.data(document.body,"Grid"+this.element.id);null!=k&&clearTimeout(k),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(k=setTimeout(function(){e()},this.updatedelay),a.data(document.body,"Grid"+this.element.id,k)):(a.data(document.body,"Grid"+this.element.id,null),e())}}},scrolling:function(){var a=this.vScrollInstance.isScrolling(),b=this.hScrollInstance.isScrolling();return{vertical:a,horizontal:b}},_renderhorizontalscroll:function(){var a=this.hScrollInstance,b=a.value,c=parseInt(b);if(null!=this.table){var d=this.table[0].rows.length,e=this.columnsrow,f=this.groupable&&this.groups.length>0?this.groups.length:0,g=this.columns.records.length-f,h=this.columns.records,i=0==this.dataview.rows.length;if(this.rtl&&(c=a.max-c),i){for(var j=0;d>j;j++)for(var k=this.table[0].rows[j],l=0;f+g>l;l++){var m=k.cells[l];if(void 0!=m){var n=h[l];if(n.pinned&&(m.style.marginLeft=c+"px",0==j)){var o=e[0].cells[l];o.style.marginLeft=c+"px"}}}this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px"}else if(this._haspinned||void 0==this._haspinned){for(var j=0;d>j;j++)for(var k=this.table[0].rows[j],l=0;f+g>l;l++){var m=k.cells[l];if(void 0!=m){var n=h[l];if(n.pinned){if(0==c&&""==m.style.marginLeft)continue;var p=null,q=null;if(this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(q=this.filterrow[0].cells[l]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[l]),this.rtl){if(m.style.marginLeft=-parseInt(b)+"px",0==j){var o=e[0].cells[l];o.style.marginLeft=-parseInt(b)+"px",p&&(p.style.marginLeft=-parseInt(b)+"px"),q&&(q.style.marginLeft=-parseInt(b)+"px")}}else if(m.style.marginLeft=c+"px",0==j){var o=e[0].cells[l];o.style.marginLeft=c+"px",p&&(p.style.marginLeft=c+"px"),q&&(q.style.marginLeft=c+"px")}}}}this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px");if(this.showaggregates&&this.statusbar[0].cells){var r=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(r=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-c+r+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-c+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var b=0;b<this._rowdetailselementscache.length;b++)a(this._rowdetailselementscache[b]).css("display","none")},_getvisualcolumnsindexes:function(a,b,c,d,e){if(this.rowdetails||this.rtl)return{start:0,end:c+d};var f=0,g=-1,h=c+d,i=!1;if(this.autorowheight)return{start:0,end:d};if(!e)for(var j=0;c+d>j;j++)if(i||this.columns.records[j].pinned&&(i=!0),this.columns.records[j].hidden||(f+=this.columns.records[j].width),f>=a&&-1==g&&(g=j),f>b+a){h=j;break}return h++,h>c+d&&(h=c+d),(-1==g||i)&&(g=0),{start:g,end:h}},_getfirstvisualrow:function(){var a=this.vScrollInstance,b=a.value,c=parseInt(b);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(c=0),!this.pageable){var d=this._findvisiblerow(c,this._pageviews);if(-1==d)return null;d!=this.dataview.pagenum?(this.dataview.pagenum=d,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var e=this._findvisiblerow(c,this._pagescache[this.dataview.pagenum]),f=this._pagescache[this.dataview.pagenum];return f&&f[0]?f[e]:void 0},_rendervisualrows:function(){if(this.virtualsizeinfo){var b=this.vScrollInstance,c=this.hScrollInstance,d=b.value,e=c.value,f=parseInt(d),g=parseInt(e),h=this._gettableheight(),i=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(h+=this.rowsheight),"deferred"==this.scrollmode&&0!=this._newmax&&f>this._newmax&&(f=this._newmax);var j=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(f=0),!this.pageable){var k=this._findvisiblerow(f,this._pageviews);if(-1==k)return this._clearvisualrows(),this._renderemptyrow(),this._updaterowdetailsvisibility(),void 0;k!=this.dataview.pagenum?(this.dataview.pagenum=k,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var l=this.groupable&&this.groups.length>0?this.groups.length:0,m=this.columns.records.length-l,n=this._findvisiblerow(f,this._pagescache[this.dataview.pagenum]),o=this._pagescache[this.dataview.pagenum],p=n;0>p&&(p=0);var q=0,r=0,s=0,t=0,u=this.virtualsizeinfo.visiblerecords,v=this.groupable?this.groups.length:0,w=this.toTP("jqx-grid-cell");this.rtl&&(w+=" "+this.toTP("jqx-grid-cell-rtl")),this.autoheight&&this.pageable&&(this.groupable||(u=this.dataview.pagesize)),j&&(w=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(w+=" "+this.toTP("jqx-touch")),this.autorowheight&&(w+=" jqx-grid-cell-wrap");var x=this.rowsheight,y=this._rendercell,z=!0,A=this._getvisualcolumnsindexes(g,i,l,m,j),B=A.start,C=A.end;if(this.autoheight&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),p>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=o?o[p].bounddata.boundindex:0,this._startvisibleindex=null!=o?o[p].bounddata.visibleindex:0;for(var D=0;u>D&&u>r;D++){var E=void 0!=o?o[p+D]:null;if(null==E){if(p=-D,this._pagescache[this.dataview.pagenum+1])o=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var F=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){o=void 0;break}this.dataview.pagenum++,o=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),o=this._pagescache[this.dataview.pagenum])}while(void 0==o&&this.dataview.pagenum<F)}void 0!=o&&(E=o[p+D])}if(null!=E){if(E.hidden)continue;if(this._endboundindex=this._startboundindex+D,this._endvisibleindex=this._startvisibleindex+D,0==D){var G=Math.abs(f-E.top);this.table[0].style.top=-G+"px",t=-G}var H=this.table[0].rows[r];if(!H)continue;parseInt(H.style.height)!=E.height&&(H.style.height=parseInt(E.height)+"px"),s+=E.height;var I=this.rowdetails&&E.rowdetails,J=!E.rowdetailshidden;I&&J&&(H.style.height=parseInt(E.height-E.rowdetailsheight)+"px",u++);for(var K=this._isrowselected(z,E),L=B;C>L;L++){var M=L;this._rendervisualcell(y,w,K,I,J,j,v,H,E,M,r)}if(void 0!=E.group&&this._rendergroup&&this._rendergroup(v,H,E,l,m,r,i),this.autorowheight&&this.autoheight){for(var x=this.rowsheight,L=B;C>L;L++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[L].datafield&&this.editcell.row==E.boundindex||(x=Math.max(x,8+a(H.cells[L].firstChild).height()));H.style.height=parseInt(x)+"px",this.heights[this._startboundindex+D]=x,I&&J&&(x+=E.rowdetailsheight),E.height=x}if(this.visiblerows[this.visiblerows.length]=E,this.hittestinfo[this.hittestinfo.length]={row:E,visualrow:H,details:!1},I&&J){r++;var H=this.table[0].rows[r];this._renderrowdetails(w,H,E,l,m,r),this.visiblerows[this.visiblerows.length]=E,this.hittestinfo[this.hittestinfo.length]={row:E,visualrow:H,details:!0}}if(s+t>=h)break}else cansetheight=!0,this._clearvisualrow(g,j,r,l,m),h>=s+q+t&&(q+=x);r++}if(this._horizontalvalue=g,q>0&&"visible"==this.vScrollBar[0].style.visibility){parseInt(this.table.css("top"));var N=this._pageviews[this._pageviews.length-1],O=b.max,P=N.top+N.height-h;"visible"==this.hScrollBar.css("visibility")&&(P+=this.scrollbarsize+20),O!=P&&P>=0&&("deferred"!=this.scrollmode?(b.max=P,b.setPosition(b.max)):this._newmax!=P&&(this._newmax=P,this._rendervisualrows()))}}if(this.autoheight&&this.autorowheight){this._pagescache=new Array;for(var Q=0,R=0,S=0;S<this.visiblerows.length;S++){var T=this.visiblerows[S];T.top=Q,Q+=T.height,R+=T.height;for(var I=this.rowdetails&&T.rowdetails,J=!T.rowdetailshidden,H=this.table[0].rows[S],L=B;C>L;L++){var U=this.columns.records[L];if(!U.hidden&&!U.cellsrenderer){var V=H.cells[L],W=(T.height-a(V.firstChild).height()-8)/2;if(W>0&&(W=parseInt(W)+4,V.firstChild&&-1==V.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=U.columntype&&"button"!=U.columntype)){if(this.editable&&this.editcell&&this.editcell.column==U.datafield&&this.editcell.row==T.boundindex)continue;V.firstChild.style.marginTop=W+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=R),this._arrange()}this._renderemptyrow()}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var b=!1;if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0)for(var c=this.table[0].rows[0],d=0;d<c.cells.length;d++){var e=a(c.cells[d]);if("none"!=e.css("display")&&!b){e[0].checkbox=null,e[0].button=null,b=!0,e[0].innerHTML="";var f=a("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");f.text(this.gridlocalization.emptydatastring),e.append(f);var g=0;this.oldhscroll||(g=parseInt(this.table[0].style.marginLeft),this.rtl&&(e.css("z-index",999),e.css("overflow","visible"))),f.css("left",-g-f.width()/2),f.css("top",this._gettableheight()/2-f.height()/2),a.jqx.browser.msie&&a.jqx.browser.version<8&&(f.css("margin-left","0px"),f.css("left",this.host.width()/2-f.width()/2));var h=Math.abs(parseInt(this.table[0].style.top));isNaN(h)&&(h=0),a(c).height(this._gettableheight()+h),e.css("margin-left","0px"),e.width(this.host.width())}e.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}},_clearvisualrows:function(){for(var a=this.virtualsizeinfo.visiblerecords,b=this.hScrollInstance,c=b.value,d=parseInt(c),e=this.groupable&&this.groups.length>0,f=0;a>f;f++)this._clearvisualrow(d,e,f,0,this.columns.records.length)},_isrowselected:function(a,b){var c=!1;return a&&null!=b.bounddata&&("singlerow"!=this.selectionmode?-1!=this.selectedrowindexes.indexOf(b.bounddata.boundindex)&&(c=!0):b.bounddata.boundindex==this.selectedrowindex&&(c=!0)),c},_rendervisualcell:function(b,c,d,e,f,g,h,i,j,k){var l=this.columns.records[k];if(l.hidden){var m=i.cells[k];return m.innerHTML="",void 0}cellvalue=this._getcellvalue(l,j);var m=i.cells[k],n=c;""!=l.cellclassname&&l.cellclassname&&(n+=" "+l.cellclassname),-1!=this.selectionmode.indexOf("cell")&&(d=this.selectedcells[j.boundindex+"_"+l.datafield]?!0:!1);
var o=this.showsortcolumnbackground&&this.sortcolumn&&l.displayfield==this.sortcolumn;if(o&&(n+=" "+this.toTP("jqx-grid-cell-sort")),l.filter&&this.showfiltercolumnbackground&&(n+=" "+this.toTP("jqx-grid-cell-filter")),l.pinned&&this.showpinnedcolumnbackground&&(n+=g?" "+this.toTP("jqx-grid-cell-pinned"):" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==j.group){var p=j.visibleindex;p>=this.altstart&&0==(this.altstart+p)%(1+this.altstep)&&(n+=o?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),l.filter&&this.showfiltercolumnbackground&&(n+=" "+this.toTP("jqx-grid-cell-filter-alt")),l.pinned&&this.showpinnedcolumnbackground&&(n+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(h>=k&&(g||this.rowdetails)){var q=a(m),r=this.columns.records[k].width;parseInt(m.style.width)!=r&&q.width(r)}var s=!0;return this.rowdetails&&e&&(f&&!g?n+=" "+this.toTP("jqx-grid-details-cell"):g&&(n+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn&&void 0==j.group&&k==h&&(n+=f?" "+this.toTP("jqx-grid-group-expand"):" "+this.toTP("jqx-grid-group-collapse"),s=!1)),d&&s&&(n+=" "+this.toTP("jqx-grid-cell-selected"),n+=" "+this.toTP("jqx-fill-state-pressed")),m.className!=n&&(m.className=n),void 0!=j.group?(cellvalue="",m.title="",m.innerHTML="",void 0):(b(this,l,j,cellvalue,m),void 0)},_rendercell:function(b,c,d,e,f){var g=e+"_"+c.visibleindex;if("number"==c.columntype||null!=c.cellsrenderer)var g=d.uniqueid+"_"+c.visibleindex;if(b.editcell&&void 0==b.editrow){if(b.editcell.row==d.boundindex&&b.editcell.column==c.datafield&&(b.editcell.element=f,b.editcell.editing&&b._showcelleditor))return b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling()?b._showcelleditor(b.editcell.row,c,b.editcell.element,b.editcell.init,!1):b._showcelleditor(b.editcell.row,c,b.editcell.element,b.editcell.init),void 0}else if(void 0!=b.editrow&&b.editrow==d.boundindex&&(b.editcells[c.datafield].element=f,b.editcells[c.datafield].editing&&b._showcelleditor))return b._showcelleditor(b.editcells[c.datafield].row,c,f,b.editcells[c.datafield].init),void 0;var h=b._cellscache[g];if(h){if("checkbox"==c.columntype){if(b.host.jqxCheckBox){""===e&&(e=null);var i=0==f.innerHTML.toString().length;if(!f.checkbox||b.groupable||i?b._rendercheckboxcell(b,f,c,d,e):(f.checkboxrow=d.boundindex,""==e&&(e=!1),"1"==e&&(e=!0),"0"==e&&(e=!1),1==e&&(e=!0),0==e&&(e=!1),"true"==e&&(e=!0),"false"==e&&(e=!1),null!=e||c.threestatecheckbox||(e=!1),f.checkbox.jqxCheckBox("_setState",e)),null!=c.cellsrenderer){var j=c.cellsrenderer(d.boundindex,c.datafield,e,l,c.getcolumnproperties());void 0!=j&&(f.innerHTML=j)}return}}else if("button"==c.columntype&&b.host.jqxButton)return""==e&&(e=!1),null!=c.cellsrenderer&&(e=c.cellsrenderer(d.boundindex,c.datafield,e,l,c.getcolumnproperties())),""==f.innerHTML&&(f.buttonrow=d.boundindex,f.button=null,b._renderbuttoncell(b,f,c,d,e)),f.button&&!b.groupable?(f.buttonrow=d.boundindex,f.button.val(e)):b._renderbuttoncell(b,f,c,d,e),void 0;var k=h.element;return f.innerHTML!=k&&(f.innerHTML=k,b.enabletooltips&&(f.title=h.title)),void 0}if(b.enabletooltips&&(""!=c.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isNumber(e)?e=a.jqx.dataFormat.formatnumber(e,c.cellsformat,b.gridlocalization):a.jqx.dataFormat.isDate(e)&&(e=a.jqx.dataFormat.formatdate(e,c.cellsformat,b.gridlocalization))),f.title=e),"checkbox"==c.columntype)return b._rendercheckboxcell(b,f,c,d,e),b._cellscache[g]={element:"",title:e},void 0;if("button"==c.columntype)return null!=c.cellsrenderer&&(e=c.cellsrenderer(d.boundindex,c.datafield,e,l,c.getcolumnproperties())),b._renderbuttoncell(b,f,c,d,e),b._cellscache[g]={element:"",title:e},void 0;"number"==c.columntype&&(e=d.visibleindex);var l=b._defaultcellsrenderer(e,c),k=null;return k=null!=c.cellsrenderer?c.cellsrenderer(d.boundindex,c.datafield,e,l,c.getcolumnproperties()):l,null==k&&(k=l),b.WinJS?WinJS.Utilities.setInnerHTMLUnsafe(f,k):f.innerHTML=k,b._cellscache[g]={element:f.innerHTML,title:e},!0},_isIE10:function(){if(void 0==this._browser){var b=a.jqx.utilities.getBrowser();if("msie"==b.browser&&parseInt(b.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==b.browser){var c="Browser CodeName: "+navigator.appCodeName;c+="Browser Name: "+navigator.appName,c+="Browser Version: "+navigator.appVersion,c+="Platform: "+navigator.platform,c+="User-agent header: "+navigator.userAgent,-1!=c.indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_rendercheckboxcell:function(b,c,d,e,f){if(b.host.jqxCheckBox){var g=a(c);if(""===f&&(f=d.threestatecheckbox?null:!1),"1"==f&&(f=!0),"0"==f&&(f=!1),1==f&&(f=!0),0==f&&(f=!1),"true"==f&&(f=!0),"false"==f&&(f=!1),0==g.find(".jqx-checkbox").length){c.innerHTML='<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',a(c.firstChild).jqxCheckBox({hasInput:!1,hasThreeStates:d.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:b.theme,checked:f}),this.editable&&d.editable&&a(c.firstChild).jqxCheckBox({locked:!1}),c.checkbox=a(c.firstChild),c.checkboxrow=e.boundindex;var h=a.data(c.firstChild,"jqxCheckBox").instance;h.updated=function(f,g,h){if(d.editable){var i=b.table[0].rows.length,j=b._getcolumnindex(d.datafield);if(void 0==b.editrow){if(d.cellbeginedit){var k=d.cellbeginedit(e.boundindex,d.datafield,d.columntype,!g);if(0==k)return b.setcellvalue(c.checkboxrow,d.datafield,!g,!0),void 0}for(var l=0;i>l;l++){var m=b.table[0].rows[l].cells[j].firstChild;a(m).jqxCheckBox("destroy")}b.editcell&&0==b.editcell.validated?b.setcellvalue(c.checkboxrow,d.datafield,!g,!0):(b._raiseEvent(17,{rowindex:c.checkboxrow,datafield:d.datafield,value:h,columntype:d.columntype}),b.setcellvalue(c.checkboxrow,d.datafield,g,!0),b._raiseEvent(18,{rowindex:c.checkboxrow,datafield:d.datafield,oldvalue:h,value:g,columntype:d.columntype}))}}}}else c.checkboxrow=e.boundindex,a(c.firstChild).jqxCheckBox("_setState",f)}},_renderbuttoncell:function(b,c,d,e,f){if(b.host.jqxButton){var g=a(c);if(""==f&&(f=!1),0==g.find(".jqx-button").length){c.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',a(c.firstChild).val(f),a(c.firstChild).attr("hideFocus","true"),a(c.firstChild).jqxButton({theme:b.theme,height:b.rowsheight-4,width:d.width-4}),c.button=a(c.firstChild),c.buttonrow=e.boundindex;var h=this.isTouchDevice();if(h){var i=a.jqx.mobile.getTouchEventName("touchend");a(c.firstChild).on(i,function(a){d.buttonclick&&d.buttonclick(c.buttonrow,a)})}else a(c.firstChild).on("click",function(a){d.buttonclick&&d.buttonclick(c.buttonrow,a)})}else c.buttonrow=e.boundindex,a(c.firstChild).val(f)}},_clearvisualrow:function(b,c,d,e,f){var g=this.toTP("jqx-grid-cell");c&&(g=" "+this.toTP("jqx-grid-group-cell"));for(var h=this.table[0].rows,i=0;e+f>i;i++)if(h[d]){var j=h[d].cells[i];j.className!=g&&(j.className=g);var k=this.columns.records[i];this._horizontalvalue==b||k.pinned||1==this.oldhscroll&&(j.style.marginLeft=-b+"px");var l=k.width;l<k.minwidth&&(l=k.minwidth),l>k.maxwidth&&(l=k.maxwidth),parseInt(j.style.width)!=l&&a(j).width(l),""!=j.title&&(j.title=""),""!=j.innerHTML&&(j.innerHTML="")}h[d]&&parseInt(h[d].style.height)!=this.rowsheight&&a(h[d]).height(this.rowsheight)},_findgroupstate:function(a){var b=this._findgroup(a);return null==b?!1:b.expanded},_findgroup:function(a){var b=null;return this.expandedgroups[a]?this.expandedgroups[a]:b},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(b){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[b])return this._columnsbydatafield[b];var c=b,d=null;return a.each(this.columns.records,function(){return this.datafield==b?(c=this.text,d=this,!1):void 0}),this._columnsbydatafield[b]={label:c,column:d},this._columnsbydatafield[b]},_getcolumnbydatafield:function(b){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[b])return this.__columnsbydatafield[b];var c=b,d=null;return a.each(this.columns.records,function(){return this.datafield==b||this.displayfield==b?(c=this.text,d=this,!1):void 0}),this.__columnsbydatafield[b]=d,this.__columnsbydatafield[b]},isscrollingvertically:function(){var a=this.vScrollBar.jqxScrollBar("isScrolling");return a},_renderrowdetails:function(b,c,d,e,f){var g=a(c),h=0,i=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var j=0;f>=j;j++){var k=a(c.cells[j]);k[0].innerHTML="",k[0].className="jqx-grid-details-cell"}var k=a(c.cells[h]);k.css("width","100%"),g.height(d.rowdetailsheight),k[0].className=b;var l=d.bounddata.boundindex,m=l+"_";if(this._rowdetailscache[m]){var n=this._rowdetailscache[m],o=n.html;if(this.initrowdetails){if(this._rowdetailscache[m].element){var p=this._rowdetailscache[m].element,q=k.offset(),r=this.gridcontent.offset(),s=parseInt(q.top)-parseInt(r.top),t=parseInt(q.left)-parseInt(r.left);a(p).css("top",s),a(p).css("left",t),a(p).css("display","block")}}else k[0].innerHTML=o}else{k[0].innerHTML="",this.enablerowdetailsindent||(i=0);var u='<div style="overflow: hidden; width: 100%; height: 100%; margin-left: '+i+'px;">'+d.rowdetails+"</div>";if(this._rowdetailscache[m]={id:c.id,html:u},this.initrowdetails){var p=a(u)[0];a(this.gridcontent).prepend(a(p)),a(p).css("position","absolute"),a(p).width(this.host.width()-i),a(p).height(k.height());var q=k.offset();a(p).css("z-index",2e3),this.isTouchDevice()&&a(p).css("z-index",99999);var q=k.offset(),r=this.gridcontent.offset(),s=parseInt(q.top)-parseInt(r.top),t=parseInt(q.left)-parseInt(r.left);a(p).css("top",s),a(p).css("left",t),this.content[0].scrollTop=0,this.content[0].scrollLeft=0,this.initrowdetails(l,p,this.element,this.getrowdata(l)),this._rowdetailscache[m].element=p,this._rowdetailselementscache[l]=p}else k[0].innerHTML=u}},_defaultcellsrenderer:function(b,c){""!=c.cellsformat&&(this.enabletooltips||a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(b)?b=a.jqx.dataFormat.formatdate(b,c.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(b)&&(b=a.jqx.dataFormat.formatnumber(b,c.cellsformat,this.gridlocalization))));var d="4px";if(25!=this.rowsheight&&(d=this.rowsheight/2-this._cellheight/2+"px"),this.enableellipsis){if("center"==c.cellsalign)return d="5px",'<div style="text-overflow: ellipsis; overflow: hidden; padding-bottom: 2px; text-align: center; margin-top: '+d+';">'+b+"</div>";if("left"==c.cellsalign)return'<div style="overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin-right: 2px; margin-left: 4px; margin-top: '+d+';">'+b+"</div>";if("right"==c.cellsalign)return'<div style="overflow: hidden;  text-overflow: ellipsis; padding-bottom: 2px; text-align: right; margin-right: 2px; margin-left: 4px; margin-top: '+d+';">'+b+"</div>"}return"center"==c.cellsalign?(d="5px",'<div style="text-align: center; margin-top: '+d+';">'+b+"</div>"):'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+d+"; float: "+c.cellsalign+';">'+b+"</span>"},_getcellvalue:function(a,b){var c=null;return c=b.bounddata[a.datafield],null!=a.displayfield&&(c=b.bounddata[a.displayfield]),null==c&&(c=""),c},getcell:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a,e="";return isNaN(c)||(d=this.getrowdata(c)),null!=d&&(e=d[b]),this._getcellresult(e,a,b)},getrenderedcell:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a,e="";return isNaN(c)||(d=this.getrenderedrowdata(c)),null!=d&&(e=d[b]),this._getcellresult(e,a,b)},_getcellresult:function(a,b,c){var d=this.getcolumn(c);if(null==d||void 0==d)return null;var e=d.getcolumnproperties(),f=e.hidden,g=e.width,h=e.pinned,i=e.cellsalign,j=e.cellsformat,k=this.getrowheight(b);return 0==k?null:{value:a,row:b,column:c,datafield:c,width:g,height:k,hidden:f,pinned:h,align:i,format:j}},setcellvalue:function(b,c,d,e,f){if(null==b||null==c)return!1;var g=parseInt(b),h=g,i=b;isNaN(g)||(i=this.getrowdata(g));var j=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(j=!0),this.virtualmode&&(this._pagescache=new Array);var k="";if(null==i||i[c]==d)return this._updating||0==e||this._renderrows(this.virtualsizeinfo),!1;var l=this._getcolumnbydatafield(c),m="string",n=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(n){var o="";a.each(n,function(){return this.name==l.displayfield?(this.type&&(o=this.type),!1):void 0}),o&&(m=o)}if(k=i[c],null==d||null==d.label)if(a.jqx.dataFormat.isNumber(k)||"number"==m||"float"==m||"int"==m||"decimal"==m&&"date"!=m)d=new Number(d),d=parseFloat(d),isNaN(d)&&(d=0);else if((a.jqx.dataFormat.isDate(k)||"date"==m)&&""!=d){var p=d;p=new Date(p),"Invalid Date"!=p&&null!=p?d=p:"Invalid Date"==p&&(p=new Date,d=p)}i[c]=d;var q=this.getrenderedrowdata(g,!0);if(q[c]=d,null!=d&&null!=d.label){var l=this._getcolumnbydatafield(c);i[l.displayfield]=d.label,q[l.displayfield]=d.label,i[c]=d.value,q[c]=d.value}if(j&&void 0!=i.dataindex&&(h=i.dataindex,this.dataview.cachedrecords[i.dataindex][c]=d),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var r=this.source._source._localdata()[g];this.source.suspendKO=!0;var s=r;s[c]&&s[c].subscribe?null!=d&&null!=d.label?(s[l.displayfield](d.label),s[c](d.value)):s[c](d):(null!=d&&null!=d.label?(s[c]=d.value,s[l.displayfield]=d.label):s[c]=d,this.source._source._localdata.replace(r,a.extend({},s))),this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby){var t=this.getsortinformation();this.dataview.clearsortdata(),this.dataview.sortby(t.sortcolumn,t.sortdirection.ascending)}if(this._cellscache=new Array,this.source.updaterow&&(void 0==f||1==f)){var u=!1,v=this,w=function(a){0==a&&v.setcellvalue(b,c,k,!0,!1)};try{var x=this.getrowid(h);u=this.source.updaterow(x,i,w),void 0==u&&(u=!0)}catch(y){return u=!1,v.setcellvalue(b,c,k,!0,!1),void 0}}var z=this.vScrollInstance.value;if(this._updating&&1!=e&&(e=!1),1==e||void 0==e){var v=this,A=function(){v.pageable&&v.updatepagerdetails&&(v.updatepagerdetails(),v.autoheight&&v._updatepageviews())},B=this.groupable&&this.groups.length>0;j&&!B?(this.autoheight&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),A(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!B?(this.autoheight&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),A(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?(this.autoheight&&(this.prerenderrequired=!0),this.pageable?-1!=this.groups.indexOf(c)?(this.dataview.refresh(),this.render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(z),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var C=this.getcolumn(c).filtertype;("list"==C||"checkedlist"==C)&&this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:b,datafield:c,newvalue:d,oldvalue:k}),!0},getcellvalue:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a;if(isNaN(c)||(d=this.getrowdata(c)),null!=d){var e=d[b];return e}return null},getrows:function(){var b=this.dataview.records.length;if(this.dataview.sortdata){for(var c=new Array,d=0;b>d;d++){var e={};e=a.extend({},this.dataview.sortdata[d].value),c[d]=e}return c}return this.dataview.records},getrowdata:function(a){if(void 0==a&&(a=0),this.virtualmode){var b=this.dataview.records[a];return b}if(a>=0&&a<this.dataview.bounditems.length){var b=this.dataview.records[a];return b}return null},getrenderedrowdata:function(a,b){if(void 0==a&&(a=0),this.virtualmode){var c=this.getrowvisibleindex(a),d=this.dataview.loadedrecords[c];return d}if(a>=0&&a<this.dataview.bounditems.length){if(this.groupable&&this.groups.length>0)var c=this.getrowvisibleindex(a),d=this.dataview.loadedrecords[c];else{var d=this.dataview.loadedrecords[a];if(this.pageable&&(void 0==b||0==b))var d=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+a]}return d}return null},getloadedrows:function(){return this.dataview.loadedrecords},getvisiblerowdata:function(a){var b=this.getvisiblerows();return b?b[a]:null},getrowboundindex:function(){var a=this.getvisiblerowdata();return a?a.boundindex:-1},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var a=[],b=0;b<this.dataview.pagesize;b++){var c=this.dataview.loadedrecords[b+this.dataview.pagesize*this.dataview.pagenum];if(void 0==c)break;a.push(c)}return a}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(var a=[],b=this._startvisibleindex;b<=this._endvisibleindex;b++){var c=this.dataview.loadedrecords[b];if(void 0==c)break;a.push(c)}return a}return this.dataview.loadedrecords},getrowid:function(a){if(void 0==a&&(a=0),this.virtualmode){var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];if(c)return c.uid}else{var c=null,d=this.dataview.filters.length>0;if(a>=0&&a<this.dataview.bounditems.length&&!d){if(this.groupable&&this.groups.length>0)var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];else var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];if(c)return c.uid}if(this.dataview.filters.length>0){if(this.groupable&&this.groups.length>0)var b=this.getrowvisibleindex(a),c=this.dataview.cachedrecords[b];else var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];return c&&null!=c.uid?c.uid:null}}return null},_updateGridData:function(){var a=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(a=!0),a?(this.dataview.refresh(),this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters()},updaterow:function(b,c,d){if(void 0!=b&&void 0!=c){var e=this,f=!1;e._datachanged=!0;var g=function(b,c,e){var f=!1;a.isArray(c)?(a.each(c,function(a){f=b.dataview.updaterow(this,e[a],!1)}),b.dataview.refresh()):f=b.dataview.updaterow(c,e);var g=b.vScrollInstance.value;if((void 0==d||1==d)&&(void 0==b._updating||0==b._updating)&&b._updateGridData(),b.showaggregates&&b._updatecolumnsaggregates&&b._updatecolumnsaggregates(),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata){var h=b.dataview.recordsbyid["id"+c],i=b.dataview.records.indexOf(h),j=b.source._source._localdata()[i];b.source.suspendKO=!0,b.source._source._localdata.replace(j,a.extend({},h)),b.source.suspendKO=!1}return b.vScrollInstance.setPosition(g),f};if(this.source.updaterow){var h=function(a){(1==a||void 0==a)&&g(e,b,c)};try{f=this.source.updaterow(b,c,h),void 0==f&&(f=!0)}catch(i){f=!1}}else f=g(e,b,c);return f}return!1},deleterow:function(b){if(void 0!=b){this._datachanged=!0;var c=!1,d=this,e=function(b,c){var d=!1,e=b.vScrollInstance.value;if(a.isArray(c))a.each(c,function(){d=b.dataview.deleterow(this,!1)}),b.dataview.refresh();else var d=b.dataview.deleterow(c);return(void 0==b._updating||0==b._updating)&&(b._render(!0,!0,!1,!1),"visible"!=b.vScrollBar.css("visibility")&&(b._arrange(),b._updatecolumnwidths(),b._updatecellwidths(),b._renderrows(b.virtualsizeinfo))),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.pop(rowdata),b.source.suspendKO=!1),b.vScrollInstance.setPosition(e),d};if(this.source.deleterow){var f=function(a){(1==a||void 0==a)&&e(d,b)};try{this.source.deleterow(b,f),void 0==c&&(c=!0)}catch(g){c=!1}}else c=e(d,b);return c}return!1},addrow:function(b,c,d){if(void 0!=c){this._datachanged=!0,void 0==d&&(d="last");var e=!1,f=this;if(null==b)if(a.isArray(c)){var g=new Array;a.each(c,function(a){var b=f.dataview.getid(f.dataview.source.id,c[a],f.dataview.totalrecords+a);g.push(b)}),b=g}else b=this.dataview.getid(this.dataview.source.id,c,this.dataview.totalrecords);var h=function(b,c,d,e){var f=b.vScrollInstance.value,g=!1;return a.isArray(d)?(a.each(d,function(a){var d=null;null!=c&&null!=c[a]&&(d=c[a]),g=b.dataview.addrow(d,this,e,!1)}),b.dataview.refresh()):g=b.dataview.addrow(c,d,e),(void 0==b._updating||0==b._updating)&&(b._render(!0,!0,!1,!1),b.invalidate()),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.push(d),b.source.suspendKO=!1),b.vScrollInstance.setPosition(f),g};if(this.source.addrow){var i=function(a,e){(1==a||void 0==a)&&(void 0!=e&&(b=e),h(f,b,c,d))};try{e=this.source.addrow(b,c,d,i),void 0==e&&(e=!0)}catch(j){e=!1}if(0==e)return!1}else h(this,b,c,d);return e}return!1},_findvisiblerow:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var c=0;(void 0==b||null==b)&&(b=this.rows.records);for(var d=b.length;d>=c;){mid=parseInt((c+d)/2);var e=b[mid];if(void 0==e)break;if(e.top>a&&e.top+e.height>a)d=mid-1;else{if(!(e.top<a&&e.top+e.height<a))return mid;c=mid+1}}return-1},_updatecellwidths:function(){var b=this.virtualsizeinfo;if(void 0!=this.gridcontent){void 0==this.table&&(this.table=this.gridcontent.find("#contenttable"+this.element.id)),this.groupable&&this.groups.length>0;var c=0,d=b.visiblerecords;this.pageable&&this.autoheight&&(d=this.dataview.pagesize,this.groupable&&(this.dataview.updateview(),d=this.dataview.rows.length)),!this.pageable&&this.autoheight&&(d=this.dataview.totalrecords),this.rowdetails&&(d+=this.dataview.pagesize);for(var e=this.columns.records.length,f=this.table[0].rows,g=0;d>g;g++){var h=f[g];if(!h)break;for(var i=h.cells,j=0,k=0;e>k;k++){var l=this.columns.records[k],m=l.width,n=a(i[k]);parseInt(n[0].style.left)!=j&&n.css("left",j),parseInt(n[0].style.width)!=m&&n.width(m),n[0].left=j,l.hidden&&l.hideable?n.css("display","none"):j+=m}0==c&&(this.table.width(parseInt(j)+2),c=j)}this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this.showfilterrow&&this.filterable&&this._updatefilterrowui&&this._updatefilterrowui(),this._updatescrollbarsafterrowsprerender()}},_updatescrollbarsafterrowsprerender:function(){var a=this.hScrollBar.css("visibility"),b=0;if("visible"==this.vScrollBar.css("visibility")&&(b=this.scrollbarsize+3),this.table.width()-2>this.host.width()-b){if("visible"!=a&&(this.hScrollBar.css("visibility","visible"),this._arrange()),"visible"==this.vScrollBar.css("visibility")&&"deferred"!=this.scrollmode){var c=this.vScrollBar.jqxScrollBar("max");this.vScrollBar.jqxScrollBar("max",c+this.scrollbarsize+4)}this.hScrollBar.jqxScrollBar("max",b+this.table.width()-this.host.width())}else"hidden"!=a&&(this.hScrollBar.css("visibility","hidden"),this._arrange());this._renderhorizontalscroll()},_prerenderrows:function(b){var c=this;if(1==this.prerenderrequired){if(this.prerenderrequired=!1,this.editable&&this._destroyeditors&&this._destroyeditors(),void 0==this.gridcontent)return;this.gridcontent.find("#contenttable"+this.element.id).remove(),null!=this.table&&(this.table.remove(),this.table=null),this.table=a('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;" height="100%"></div>'),this.gridcontent.addClass(this.toTP("jqx-grid-content")),this.gridcontent.addClass(this.toTP("jqx-widget-content")),this.gridcontent.append(this.table);var d=this.groupable&&this.groups.length>0,e=0;this.table[0].rows=new Array;var f=this.toTP("jqx-grid-cell");d&&(f=" "+this.toTP("jqx-grid-group-cell"));var g=b.visiblerecords;this.pageable&&this.autoheight&&(g=this.dataview.pagesize,this.groupable&&(this.dataview.updateview(),g=this.dataview.rows.length)),!this.pageable&&this.autoheight&&(g=this.dataview.totalrecords),this.groupable&&this.autoheight&&!this.pageable&&(g=this.dataview.rows.length),this.rowdetails&&(g+=this.dataview.pagesize);var h=this.columns.records.length;a.jqx.browser.msie&&a.jqx.browser.version>8&&this.table.css("opacity","0.99"),a.jqx.browser.mozilla&&this.table.css("opacity","0.99"),-1!=navigator.userAgent.indexOf("Safari")&&this.table.css("opacity","0.99");var i=a.jqx.browser.msie&&a.jqx.browser.version<8;i&&this.host.attr("hideFocus","true");var j=this.tableZIndex;g*h>j&&(j=g*h),0==this.dataview.records.length,this.isTouchDevice();for(var k="",l=0;g>l;l++){var m='<div style="position: relative; height='+this.rowsheight+'px;" id="row'+l+this.element.id+'">';if(i){var m='<div style="position: relative; z-index: '+j+"; height:"+this.rowsheight+'px;" id="row'+l+this.element.id+'">';j--}for(var n=0,o=0;h>o;o++){var p=this.columns.records[o],q=p.width;if(q<p.minwidth&&(q=p.minwidth),q>p.maxwidth&&(q=p.maxwidth),this.rtl){var r=j-h+2*o,s='<div style="overflow: hidden; position: absolute; height: 100%; left: '+n+"px; z-index: "+r+"; width:"+q+"px;";j--}else var s='<div style="overflow: hidden; position: absolute; height: 100%; left: '+n+"px; z-index: "+j--+"; width:"+q+"px;";p.hidden&&p.hideable?(s+="display: none;",j++):n+=q,s+='" class="'+f+'"></div>',m+=s}0==e&&(this.table.width(parseInt(n)+2),e=n),m+="</div>",k+=m}c.WinJS?MSApp.execUnsafeLocalFunction(function(){c.table.html(k)}):c.table[0].innerHTML=k,this.table[0].rows=new Array;for(var t=this.table.children(),l=0;g>l;l++){var u=t[l];this.table[0].rows.push(u),u.cells=new Array;for(var v=a(u).children(),o=0;h>o;o++)u.cells.push(v[o])}if(0==g){var n=0;if(this.showemptyrow){var m=a('<div style="position: relative;" id="row0'+this.element.id+'"></div>');this.table.append(m),m.height(this.rowsheight),this.table[0].rows[0]=m[0],this.table[0].rows[0].cells=new Array}for(var o=0;h>o;o++){var p=this.columns.records[o],q=p.width;if(this.showemptyrow){var s=a('<div style="position: absolute; height: 100%; left: '+n+"px; z-index: "+j--+"; width:"+q+'px;" class="'+f+'"></div>');s.height(this.rowsheight),m.append(s),this.table[0].rows[0].cells[o]=s[0]}q<p.minwidth&&(q=p.minwidth),q>p.maxwidth&&(q=p.maxwidth),p.hidden&&p.hideable||(n+=q)}this.table.width(parseInt(n)+2),e=n}this._updatescrollbarsafterrowsprerender(),this.rendered&&this.rendered("rows"),this._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var a=null,b=null;this.tableheight=null;var c=this,d=!1,e=!1;null!=this.width&&-1!=this.width.toString().indexOf("px")?a=this.width:void 0==this.width||isNaN(this.width)||(a=this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&(a=this.width,d=!0),null!=this.height&&-1!=this.height.toString().indexOf("px")?b=this.height:void 0==this.height||isNaN(this.height)||(b=this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=this.height,e=!0);var f=function(){var a=0,b=c.showheader?null!=c.columnsheader?c.columnsheader.height()+2:0:0;return a+=b,c.pageable&&(a+=c.pagerheight),c._groupsheader()&&(a+=c.groupsheaderheight),c.showtoolbar&&(a+=c.toolbarheight),c.showstatusbar&&(a+=c.statusbarheight),"visible"==c.hScrollBar[0].style.visibility&&(a+=20),a};if(this.autoheight&&this.virtualsizeinfo)if(this.pageable&&this.gotopage){var g=0;b=g+(this._pageviews[0]?this._pageviews[0].height:0),b+=f(),this.showemptyrow&&0==this.dataview.totalrecords&&(b+=this.rowsheight)}else{var g=this.host.height()-this._gettableheight();this._pageviews.length>0?(b=g+this._pageviews[this._pageviews.length-1].height+this._pageviews[this._pageviews.length-1].top,this.vScrollBar[0].style.visibility="hidden"):(b=f(),this.showemptyrow&&(b+=this.rowsheight))}else this.autoheight&&(b=this.dataview.totalrecords*this.rowsheight,this._loading&&(b=250,this.dataloadelement.height(b)),b+=f(),b>1e4&&(b=1e4));var h=this.host.css("border-width");null==h&&(h=0),null!=a?(a=parseInt(a),this.host.width(this.width),d&&(a=this.host.width(),2>=a&&(a=600,this.host.width(a)),this._oldWidth||(this._oldWidth=a))):this.host.width(250),null!=b?(e||(b=parseInt(b)),this.host.height(b),e&&!this.autoheight&&(b=this.host.height(),0==b&&(b=400,this.host.height(b)),this._oldHeight||(this._oldHeight=b))):this.host.height(250),this.autoheight&&(this.tableheight=null,this._gettableheight());var i=0;if(this.showtoolbar?(this.toolbar.width(a),this.toolbar.height(this.toolbarheight-1),this.toolbar.css("top",0),i+=this.toolbarheight,b-=parseInt(this.toolbarheight)):this.toolbar.height(0),this.showstatusbar?(this.statusbar.width(this.table?Math.max(a,this.table.width()):a),this.statusbar.height(this.statusbarheight-1)):this.statusbar.height(0),this._groupsheader()){this.groupsheader.width(a),this.groupsheader.height(this.groupsheaderheight),this.groupsheader.css("top",i);var j=this.groupsheader.height()+1;i+=j,b>j&&(b-=parseInt(j))}else this.groupsheader.width(a),this.groupsheader.height(this.groupsheaderheight),this.groupsheader.css("top",i),this.content.css("top",i+this.groupsheader.height());var k=this.scrollbarsize;isNaN(k)&&(k=parseInt(k),isNaN(k)?k="17px":k+="px"),k=parseInt(k);var l=4,m=2,n=0;"visible"==this.vScrollBar[0].style.visibility&&(n=k+l),"visible"==this.hScrollBar[0].style.visibility&&(m=k+l+2);var o=0;this.pageable&&(o=this.pagerheight,m+=this.pagerheight),this.showstatusbar&&(m+=this.statusbarheight,o+=this.statusbarheight),this.hScrollBar.height(k),this.hScrollBar.css({top:i+b-l-k-o+"px",left:"0px"}),this.hScrollBar.width(a-k-l+"px"),0==n&&this.hScrollBar.width(a-2),this.vScrollBar.width(k),this.vScrollBar.height(parseInt(b)-m+"px"),this.vScrollBar.css({left:parseInt(a)-parseInt(k)-l+"px",top:i}),this.rtl&&(this.vScrollBar.css({left:"0px",top:i}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:k+2}));var p=this.vScrollInstance;p.disabled=this.disabled,p.refresh();var q=this.hScrollInstance;q.disabled=this.disabled,q.refresh();var r=function(a){"visible"==a.vScrollBar[0].style.visibility&&"visible"==a.hScrollBar[0].style.visibility?(a.bottomRight[0].style.visibility="visible",a.bottomRight.css({left:1+parseInt(a.vScrollBar.css("left")),top:parseInt(a.hScrollBar.css("top"))}),a.rtl&&a.bottomRight.css("left","0px"),a.bottomRight.width(parseInt(k)+3),a.bottomRight.height(parseInt(k)+4),a.showaggregates&&(a.bottomRight.css("z-index",99),a.bottomRight.height(parseInt(k)+4+a.statusbarheight),a.bottomRight.css({top:parseInt(a.hScrollBar.css("top"))-a.statusbarheight}))):a.bottomRight[0].style.visibility="hidden"};if(r(this),this.content.width(a-n),this.content.height(b-m+2),this.content.css("top",i),this.rtl&&this.content.css("left",n),this.showstatusbar&&(this.statusbar.css("top",i+b-this.statusbarheight-(this.pageable?this.pagerheight:0)),this.showaggregates&&("visible"==this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:i+b-l-k-o+this.statusbarheight+"px"}),this.statusbar.css("top",1+i+b-k-5-this.statusbarheight-(this.pageable?this.pagerheight:0))),r(this))),this.pageable?(this.pager.width(a),this.pager.height(this.pagerheight),this.pager.css("top",i+b-this.pagerheight)):this.pager.height(0),null!=this.table){var s=0;"visible"==this.vScrollBar[0].style.visibility&&(s=this.scrollbarsize+3);var t=s+this.table.width()-this.host.width();this.hScrollBar.jqxScrollBar("max",t),"visible"==this.hScrollBar[0].style.visibility&&0==t&&(this.hScrollBar[0].style.visibility="hidden",this._arrange())
}this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hostwidth=this.host.width()},destroy:function(){if(this.host.jqxDropDownList){var b=a(a.find("#filterclearbutton"+this.element.id)),c=a(a.find("#filterbutton"+this.element.id)),d=a(a.find("#filter1"+this.element.id)),e=a(a.find("#filter2"+this.element.id)),f=a(a.find("#filter3"+this.element.id)),g=a(a.find(".filtertext1"+this.element.id)),h=a(a.find(".filtertext2"+this.element.id));g.length>0&&h.length>0&&(g.removeClass(),h.removeClass(),g.remove(),h.remove()),this.removeHandler(b,"click"),this.removeHandler(c,"click"),d.jqxDropDownList("destroy"),e.jqxDropDownList("destroy"),f.jqxDropDownList("destroy")}this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(a(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy")),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy")),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(a(document),"mouseup.pagerbuttons"+this.element.id)),this.removeHandler(a(document),"mousedown.resize"+this.element.id),this.removeHandler(a(document),"mouseup.resize"+this.element.id),this.removeHandler(a(document),"mousemove.resize"+this.element.id),this.removeHandler(a(document),"mousedown.reorder"+this.element.id),this.removeHandler(a(document),"mouseup.reorder"+this.element.id),this.removeHandler(a(document),"mousemove.reorder"+this.element.id),this.columns=new a.jqx.collection(this.element),this.rows=new a.jqx.collection(this.element),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._removeHandlers(),this._clearcaches(),this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,this.vScrollBar=null,this.hScrollBar=null,this.gridmenu&&(this.gridmenu=null),this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null},_initializeColumns:function(){if(this.autogeneratecolumns){var c=new Array,d=this.source.datafields;null==d&&this.source._source&&(d=this.source._source.datafields),a.each(d,function(){var a={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};c.push(a)}),this.columns=c}if(this.columns&&this.columns.records)for(var e=0;e<this.columns.records.length;e++)this._removecolumnhandlers(this.columns.records[e]);var f=this,g=new a.jqx.collection(this.element),h=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&(a.each(this.groups,function(){var a=new b(f,this);a.visibleindex=h++,a.width=f.groupindentwidth,g.add(a),a.pinned=!0}),f._haspinned=!0),this.rowdetails&&this.showrowdetailscolumn){var i=new b(f,this);i.visibleindex=h++,i.width=f.groupindentwidth,i.pinned=!0,g.add(i),f._haspinned=!0}a.each(this.columns,function(a){if(void 0!=f.columns[a]){var c=new b(f,this);c.visibleindex=h++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(f._haspinned=!0),null==this.datafield&&f.source&&f.source._source&&"array"==f.source._source.datatype&&(this.datafield=a.toString(),c.datafield=this.datafield),g.add(c)}}),this.rtl&&g.records.reverse(),this.columns=g},_initializeRows:function(){var b=new a.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=b},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this;var d=new jQuery.Event(c);d.owner=this,d.args=args;var e=this.host.trigger(d);return b=d.args,e},wheel:function(a,b){if(b.autoheight&&"visible"!=b.hScrollBar.css("visibility"))return a.returnValue=!0,!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){if("hidden"!=this.vScrollBar.css("visibility")){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;if(b!=c)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var b=this.hScrollInstance.value;a>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max);var c=this.hScrollInstance.value;if(b!=c)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.value+this.rowsheight<=a.max?a.setPosition(parseInt(a.value)+this.rowsheight):a.setPosition(a.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.value-this.rowsheight>=a.min?a.setPosition(parseInt(a.value)-this.rowsheight):a.setPosition(a.min)}},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valuechanged"),this.removeHandler(this.hScrollBar,"valuechanged"),this.vScrollInstance.valuechanged=null,this.hScrollInstance.valuechanged=null;var b="mousedown";this.isTouchDevice()&&(b=a.jqx.mobile.getTouchEventName("touchend")),this.removeHandler(this.host,"dblclick"),this.removeHandler(this.host,b),this.removeHandler(this.content,"mousemove",this._mousemovefunc),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"selectstart."+this.element.id),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown.edit"+this.element.id),this.removeHandler(a(document),"keydown.edit"+this.element.id),this.removeHandler(a(document),"mousemove.selection"+this.element.id),this.removeHandler(a(document),"mouseup.selection"+this.element.id),this.editable&&this.removeHandler(a(document),"mousedown.gridedit"+this.element.id)},_addHandlers:function(){var b=this,c=b.isTouchDevice();c||this.addHandler(this.host,"dragstart."+this.element.id,function(){return!1}),this.editable&&this.addHandler(a(document),"mousedown.gridedit"+this.element.id,function(a){if(b.editable&&b.begincelledit&&b.editcell&&!b.vScrollInstance.isScrolling()&&!b.vScrollInstance.isScrolling()){var c=b.host.offset(),d=b.host.width(),e=b.host.height(),f=!1;if((a.pageY<c.top||a.pageY>c.top+e)&&(f=!0),(a.pageX<c.left||a.pageX>c.left+d)&&(f=!0),f){if(b.editcell&&b.editcell.editor)switch(b.editcell.columntype){case"datetimeinput":b.editcell.editor.jqxDateTimeInput&&"block"==b.editcell.editor.jqxDateTimeInput("container")[0].style.display&&b.editcell.editor.jqxDateTimeInput("close");break;case"combobox":b.editcell.editor.jqxComboBox&&"block"==b.editcell.editor.jqxComboBox("container")[0].style.display&&b.editcell.editor.jqxComboBox("close");break;case"dropdownlist":b.editcell.editor.jqxDropDownList&&"block"==b.editcell.editor.jqxDropDownList("container")[0].style.display&&b.editcell.editor.jqxDropDownList("close")}b.endcelledit(b.editcell.row,b.editcell.column,!1,!0)}}}),this.vScrollInstance.valuechanged=function(a){b.virtualsizeinfo&&(b._closemenu(),"physical"!=b.scrollmode?(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue):void 0!=b.currentScrollValue&&Math.abs(b.currentScrollValue-a.currentValue)>=5?(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue):(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue),b.pageable||b.groupable||!b.dataview.virtualmode||(b.loadondemandupdate&&clearTimeout(b.loadondemandupdate),b.loadondemandupdate=setTimeout(function(){b.loadondemand=!0,b._renderrows(b.virtualsizeinfo)},100)),c&&(b._lastScroll=new Date))},this.hScrollInstance.valuechanged=function(){if(b.virtualsizeinfo){b._closemenu();var d=function(){b._renderhorizontalscroll(),b._renderrows(b.virtualsizeinfo),b.editcell&&!b.editrow&&b._showcelleditor&&b.editcell.editing&&(b.hScrollInstance.isScrolling()||b._showcelleditor(b.editcell.row,b.getcolumn(b.editcell.column),b.editcell.element,b.editcell.init))};void 0==b._browser?b._isIE10():b._browser,navigator&&-1!=navigator.userAgent.indexOf("Safari")?(b._hScrollTimer&&clearTimeout(b._hScrollTimer),b._hScrollTimer=setTimeout(function(){d()},1)):a.jqx.browser.mozilla||a.jqx.browser.msie?(b._hScrollTimer&&clearTimeout(b._hScrollTimer),b._hScrollTimer=setTimeout(function(){d()},.01)):d(),c&&(b._lastScroll=new Date)}},this._mousewheelfunc=this._mousewheelfunc||function(a){return!b.editcell&&b.enablemousewheel?(b.wheel(a,b),!1):void 0},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var d="mousedown";if(c&&(d=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.host,d,function(c){if(b.isTouchDevice()){if(b._newScroll=new Date,b._newScroll-b._lastScroll<500)return!1;if(a(c.target).ischildof(b.vScrollBar))return!1;if(a(c.target).ischildof(b.hScrollBar))return!1}b._mousedown=new Date;var d=b._handlemousedown(c,b);return b.isNestedGrid&&(b.resizablecolumn||b.columnsreorder||c.stopPropagation()),b._lastmousedown=new Date,d}),c||(this.addHandler(this.host,"dblclick",function(c){return b.editable&&b.begincelledit&&"dblclick"==b.editmode?b._handledblclick(c,b):a.jqx.browser.msie&&a.jqx.browser.version<9&&b._handlemousedown(c,b),b.mousecaptured=!1,b._lastmousedown=new Date,!0}),this._mousemovefunc=function(a){return b._handlemousemove?b._handlemousemove(a,b):void 0},this.addHandler(this.content,"mousemove",this._mousemovefunc),this.addHandler(a(document),"mousemove.selection"+this.element.id,function(a){return b._handlemousemoveselection?b._handlemousemoveselection(a,b):void 0}),this.addHandler(a(document),"mouseup.selection"+this.element.id,function(a){b._handlemouseupselection&&b._handlemouseupselection(a,b)})),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e=null;if(window.parent&&document.referrer&&(e=document.referrer),e&&-1!=e.indexOf(document.location.host)){var f=function(a){b._handlemouseupselection&&b._handlemouseupselection(a,b)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f)}}this.focused=!1,c||(this.addHandler(this.content,"mouseenter",function(){b.focused=!0,b._overlayElement&&(b._overlayElement[0].style.visibility=b.vScrollInstance.isScrolling()||b.hScrollInstance.isScrolling()?"visible":"hidden")}),this.addHandler(this.content,"mouseleave",function(){b._handlemousemove&&b.enablehover&&b._clearhoverstyle(),b._overlayElement&&(b._overlayElement[0].style.visibility="hidden"),b.focused=!1}),this.addHandler(this.content,"selectstart."+this.element.id,function(){return b.enablebrowserselection?!0:b.editcell||b.showfilterrow?void 0:!1}),this.addHandler(a(document),"keydown.edit"+this.element.id,function(c){var d=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(b.handlekeyboardnavigation){var e=b.handlekeyboardnavigation(c);if(1==e)return!1}if(b.editable&&b.editcell&&(13==d||27==d)&&b._handleeditkeydown&&(f=b._handleeditkeydown(c,b)),27==d&&(b.mousecaptured=!1,"visible"==b.selectionarea.css("visibility")&&b.selectionarea.css("visibility","hidden")),a.jqx.browser.msie&&b.focused&&!b.isNestedGrid){var f=!0,d=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(!b.editcell&&b.editable&&"programmatic"!=b.editmode&&b._handleeditkeydown&&(f=b._handleeditkeydown(c,b)),f&&b.keyboardnavigation&&b._handlekeydown)return f=b._handlekeydown(c,b),f||(c.preventDefault&&c.preventDefault(),void 0!=c.stopPropagation&&c.stopPropagation()),f}return!0}),this.addHandler(this.host,"keydown.edit"+this.element.id,function(c){var d=!0;if(b.handlekeyboardnavigation){var e=b.handlekeyboardnavigation(c);if(1==e)return!1}return b.editable&&"programmatic"!=b.editmode&&b._handleeditkeydown&&(d=b._handleeditkeydown(c,b)),a.jqx.browser.msie?b.isNestedGrid&&d&&b.keyboardnavigation&&b._handlekeydown&&(d=b._handlekeydown(c,b),c.stopPropagation()):d&&b.keyboardnavigation&&b._handlekeydown&&(d=b._handlekeydown(c,b),b.isNestedGrid&&c.stopPropagation()),d||(c.preventDefault&&c.preventDefault(),void 0!=c.stopPropagation&&c.stopPropagation()),d}))},_hittestrow:function(b,c){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==b&&(b=0);var d=this.vScrollInstance,e=this.hScrollInstance,f=d.value;"visible"!=this.vScrollBar.css("visibility")&&(f=0);var g=e.value;"visible"!=this.hScrollBar.css("visibility")&&(g=0),"deferred"==this.scrollmode&&null!=this._newmax&&f>this._newmax&&(f=this._newmax);var h=parseInt(f)+c;if(parseInt(g)+b,null!=this.visiblerows){var i=!1,j=this._findvisiblerow(h,this.visiblerows);if(j>=0){var k=this.visiblerows[j],l=this.rowdetails&&k.rowdetails,m=!k.rowdetailshidden;if(l){var n=this.visiblerows[j-1];if(n==k&&(k=n,j--),m){var o=a(this.hittestinfo[j].visualrow).position().top+parseInt(this.table.css("top")),p=a(this.hittestinfo[j].visualrow).height();c>=o&&o+p>=c||(j++,k=this.visiblerows[j],i=!0)}}}return{index:j,row:k,details:i}}}},getcellatposition:function(b,c){var d=this,e=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0,g=this.showtoolbar?this.toolbarheight:0;f+=g;var h=this.host.offset();this.hasTransform&&(h=a.jqx.utilities.getOffset(this.host));var i=b-h.left,j=c-e-h.top-f,k=this._hittestrow(i,j),l=k.row,m=k.index,n=this.table[0].rows[m];if(this.dataview&&0==this.dataview.records.length){for(var o=this.table[0].rows,p=0,q=0;q<o.length;q++){if(j>=p&&j<p+this.rowsheight){n=o[q];break}p+=this.rowsheight}l={boundindex:q}}if(null==n)return!0;var r=this.hScrollInstance,s=r.value,t=0;this.groupable?this.groups.length:0;for(var q=0;q<n.cells.length;q++){var u=parseInt(a(this.columnsrow[0].cells[q]).css("left")),b=u-s;d.columns.records[q].pinned&&(b=u);var v=b+a(this.columnsrow[0].cells[q]).width();if(v>=i&&i>=b){t=q;break}}if(null!=l){var w=this._getcolumnat(t);return{row:l.boundindex,column:w.datafield,value:this.getcellvalue(l.boundindex,w.datafield)}}return null},_handlemousedown:function(b,c){if(null==b.target)return!0;if(c.disabled)return!0;if(a(b.target).ischildof(this.columnsheader))return!0;var d;b.which?d=3==b.which:b.button&&(d=2==b.button);var e;if(b.which?e=2==b.which:b.button&&(e=1==b.button),e)return!0;if(this.showstatusbar){if(a(b.target).ischildof(this.statusbar))return!0;if(b.target==this.statusbar[0])return!0}var f=this.showheader?this.columnsheader.height()+2:0,g=this._groupsheader()?this.groupsheader.height():0,h=this.showtoolbar?this.toolbarheight:0;g+=h;var i=this.host.offset();this.hasTransform&&(i=a.jqx.utilities.getOffset(this.host));var j=this._getBodyOffset();i.left+=j.left,i.top+=j.top;var k=parseInt(b.pageX),l=parseInt(b.pageY);if(this.isTouchDevice()){var m=c.getTouches(b),n=m[0];k=parseInt(n.pageX),l=parseInt(n.pageY),1==c.touchmode&&(k=parseInt(n._pageX),l=parseInt(n._pageY))}var o=k-i.left,p=l-f-i.top-g,q=this._hittestrow(o,p);if(q&&!q.details){var r=q.row,s=q.index,t=b.target.className,u=this.table[0].rows[s];if(null==u)return c.editable&&c.begincelledit&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),!0;c.mousecaptured=!0,c.mousecaptureposition={left:b.pageX,top:b.pageY-g,clickedrow:u};var v=this.hScrollInstance,w=v.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(w=v.max-v.value);for(var x=-1,y=this.groupable?this.groups.length:0,z=0;z<u.cells.length;z++){var A=parseInt(a(this.columnsrow[0].cells[z]).css("left")),k=A-w;c.columns.records[z].pinned&&!c.rtl&&(k=A);var B=this._getcolumnat(z);if(null==B||!B.hidden){var C=k+a(this.columnsrow[0].cells[z]).width();if(C>=o&&o>=k){x=z,c.mousecaptureposition.clickedcell=z;break}}}if(null!=r&&x>=0){this._raiseEvent(1,{rowindex:r.boundindex,visibleindex:r.visibleindex,group:r.group,rightclick:d,originalEvent:b});var B=this._getcolumnat(x),D=this.getcellvalue(r.boundindex,B.datafield);if(this.editable&&this.editcell&&B.datafield==this.editcell.column&&r.boundindex==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:r.boundindex,column:B?B.getcolumnproperties():null,datafield:B?B.datafield:null,columnindex:x,value:D,rightclick:d,originalEvent:b}),this.isTouchDevice())if("checkbox"==B.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(s,B.datafield),!0}else if("button"==B.columntype&&this._overlayElement)return B.buttonclick&&B.buttonclick(u.cells[x].buttonrow,b),!0;var E=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==r.boundindex&&(this._raiseEvent(22,{rowindex:r.boundindex,visibleindex:r.visibleindex,group:r.group,rightclick:d,originalEvent:b}),this._clickedcolumn==B.datafield&&this._raiseEvent(23,{rowindex:r.boundindex,column:B?B.getcolumnproperties():null,datafield:B?B.datafield:null,columnindex:x,value:D,rightclick:d,originalEvent:b}),E=!0,this._clickedrowindex=-1,this._clickedcolumn=null,b.isPropagationStopped&&b.isPropagationStopped()))return!1;if(d)return!0;E||(this._clickedrowindex=r.boundindex,this._clickedcolumn=B.datafield);var F=a.jqx.utilities.getBrowser();if("msie"==F.browser&&parseInt(F.version)<=7&&(0==x&&this.rowdetails&&(t="jqx-grid-group-collapse"),y>0&&y>=x&&(t="jqx-grid-group-collapse")),-1!=t.indexOf("jqx-grid-group-expand")||-1!=t.indexOf("jqx-grid-group-collapse"))this.rtl?y>0&&x>u.cells.length-y-1&&this._togglegroupstate?this._togglegroupstate(r.bounddata,!0):x==u.cells.length-1-y&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(r.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):y>0&&y>x&&this._togglegroupstate?this._togglegroupstate(r.bounddata,!0):x==y&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(r.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=r.boundindex){var G=this.selectedrowindexes.slice(0),H=!1;if("none"!=c.selectionmode&&this._selectrowwithmouse&&(("multiplecellsadvanced"==c.selectionmode||"multiplecellsextended"==c.selectionmode||"multiplerowsextended"==c.selectionmode)&&(b.ctrlKey||b.shiftKey||(c.selectedrowindexes=new Array,c.selectedcells=new Array)),-1==c.selectionmode.indexOf("cell")?("singlerow"!=c.selectionmode||c.selectedrowindex!=r.boundindex&&"singlerow"==c.selectionmode)&&(this._applyrowselection(r.boundindex,!0,!1,null,B.datafield),this._selectrowwithmouse(c,q,G,B.datafield,b.ctrlKey,b.shiftKey)):null!=B.datafield&&(this._selectrowwithmouse(c,q,G,B.datafield,b.ctrlKey,b.shiftKey),this._applycellselection(r.boundindex,B.datafield,!0,!1)),c._oldselectedcell&&c._oldselectedcell.datafield==c.selectedcell.datafield&&c._oldselectedcell.rowindex==c.selectedcell.rowindex&&(H=!0),c._oldselectedcell=c.selectedcell),c.autosavestate&&c.savestate&&c.savestate(),c.editable&&c.begincelledit){var I="click"==c.editmode||H&&"selectedcell"==c.editmode;return-1==c.selectionmode.indexOf("cell")&&"dblclick"!=c.editmode&&(I=!0),I&&void 0!=r.boundindex&&B.editable&&c.begincelledit(r.boundindex,B.datafield,B.defaulteditorvalue),-1!=c.selectionmode.indexOf("cell")&&"selectedcell"==c.editmode&&!H&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),!0}}}return!0}},_columnPropertyChanged:function(){},_rowPropertyChanged:function(){},_serializeObject:function(b){if(null==b)return"";var c="";return a.each(b,function(a){var b=this;a>0&&(c+=", "),c+="[";var d=0;for(obj in b)d>0&&(c+=", "),c+="{"+obj+":"+b[obj]+"}",d++;c+="]"}),c},propertyChangedHandler:function(a,b,c,d){if(void 0!=this.isInitialized&&0!=this.isInitialized)switch(b){case"columnsheight":25!=a.columnsheight&&a._measureElement("column"),a._render(!0,!0,!0,!1,!1);break;case"rowsheight":d!=c&&(25!=a.rowsheight&&a._measureElement("cell"),a.virtualsizeinfo=null,a.rendergridcontent(!0,!1),a.refresh());break;case"scrollMode":a.vScrollInstance.thumbStep=a.rowsheight;break;case"showdefaultloadelement":a._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":a._initmenu();break;case"touchmode":c!=d&&(a._removeHandlers(),a.touchDevice=null,a.vScrollBar.jqxScrollBar({touchMode:d}),a.hScrollBar.jqxScrollBar({touchMode:d}),a._updateTouchScrolling(),a._addHandlers());break;case"autoshowcolumnsmenubutton":c!=d&&a._rendercolumnheaders();break;case"rendergridrows":c!=d&&a.updatebounddata();break;case"editmode":c!=d&&(a._removeHandlers(),a._addHandlers());break;case"source":a.virtualsizeinfo=null,a.showfilterrow&&a.filterable&&a.filterrow&&(a.filterrow.remove(),a._filterrowcache=new Array,a.filterrow=null),a.updatebounddata(),a.virtualmode&&!a._loading&&(a.loadondemand=!0,a._renderrows(a.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":a._initgroupsheader&&a._initgroupsheader();break;case"showgroupsheader":c!=d&&a.rendergridcontent();break;case"theme":d!=c&&(a.pager&&(a.pager.removeClass(),a.pager.addClass(a.toTP("jqx-grid-pager")),a.pager.addClass(a.toTP("jqx-widget-header")),a.pageable&&a._updatepagertheme&&a._updatepagertheme()),a.groupsheader&&(a.groupsheader.removeClass(),a.groupsheader.addClass(a.toTP("jqx-grid-groups-header")),a.groupsheader.addClass(a.toTP("jqx-widget-header"))),a.toolbar.removeClass(),a.toolbar.addClass(a.toTP("jqx-grid-toolbar")),a.toolbar.addClass(a.toTP("jqx-widget-header")),a.statusbar.removeClass(),a.statusbar.addClass(a.toTP("jqx-grid-statusbar")),a.statusbar.addClass(a.toTP("jqx-widget-content")),a.vScrollBar.jqxScrollBar({theme:a.theme}),a.hScrollBar.jqxScrollBar({theme:a.theme}),a.host.removeClass(),a.host.addClass(a.toTP("jqx-grid")),a.host.addClass(a.toTP("jqx-reset")),a.host.addClass(a.toTP("jqx-rc-all")),a.host.addClass(a.toTP("jqx-widget")),a.host.addClass(a.toTP("jqx-widget-content")),a.bottomRight.removeClass(),a.bottomRight.addClass(a.toTP("jqx-grid-bottomright")),a.toolbar.addClass(a.toTP("jqx-grid-toolbar")),a.toolbar.addClass(a.toTP("jqx-widget-header")),a.statusbar.addClass(a.toTP("jqx-grid-statusbar")),a.statusbar.addClass(a.toTP("jqx-widget-header")),a.render());break;case"showtoolbar":case"toolbarheight":c!=d&&(a._arrange(),a.refresh());break;case"showstatusbar":c!=d&&(a.statusbar&&(d?a.statusbar.show():a.statusbar.hide()),a._arrange(),a.refresh());break;case"statusbarheight":c!=d&&(a._arrange(),a.refresh());break;case"filterable":c!=d&&a.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":c!=d&&a.rendergridcontent();break;case"showrowdetailscolumn":c!=d&&a.render();break;case"scrollbarsize":c!=d&&a._arrange();break;case"width":c!=d&&(this._loading||d!=c&&(a._arrange(),a._updatecolumnwidths(),a._updatecellwidths(),a._renderrows(a.virtualsizeinfo)));break;case"height":if(c!=d&&!this._loading&&d!=c){var e=a.groupable&&a.groups.length>0,f="visible"!=a.vScrollBar.css("visibility");e?d>=c?a._render(!0,!1,!1):a.rendergridcontent(!0,!1):(a._arrange(),a.virtualsizeinfo=a._calculatevirtualheight(),parseInt(d)>=parseInt(c)&&(a.prerenderrequired=!0),null!=d&&-1!=d.toString().indexOf("%")&&(a.prerenderrequired=!0),a._renderrows(a.virtualsizeinfo)),f&&"visible"==a.vScrollBar.css("visibility")&&(a._arrange(),a._updatecolumnwidths(),a._updatecellwidths())}break;case"altrows":case"altstart":case"altstep":c!=d&&a._renderrows(a.virtualsizeinfo);break;case"groupsheaderheight":c!=d&&(a._arrange(),a._initgroupsheader&&a._initgroupsheader());break;case"pagerheight":c!=d&&a._initpager();break;case"selectedrowindex":a.selectrow(d);break;case"selectionmode":c!=d&&("none"==d&&(a.selectedrowindexes=new Array,a.selectedcells=new Array,a.selectedrowindex=-1),a._renderrows(a.virtualsizeinfo));break;case"showheader":d?a.columnsheader.css("display","block"):a.columnsheader.css("display","none");break;case"virtualmode":c!=d&&(a.dataview.virtualmode=a.virtualmode,a.dataview.refresh(!1),a._render(!1,!1,!1));break;case"columnsmenu":c!=d&&a.render();break;case"columns":a._serializeObject(a._cachedcolumns)!==a._serializeObject(d)?(a._columns=null,a._filterrowcache=[],a.render()):a._initializeColumns();break;case"autoheight":c!=d&&a._render(!1,!1,!0);break;case"pagesizeoptions":case"pageable":case"pagesize":if(c!=d){if(a._loading)return alert(a.loadingerrormessage),void 0;a._initpager&&(a.dataview.pageable=a.pageable,a.dataview.pagenum=0,a.dataview.pagesize=a._getpagesize(),a.virtualmode&&a.updatebounddata(),a.dataview.refresh(!0),a._initpager(),"pagesizeoptions"==b&&null!=d&&d.length>0&&(a.pagesize=d[0],a.dataview.pagesize=d[0],a.prerenderrequired=!0,a._requiresupdate=!0,a.dataview.pagenum=-1,a.gotopage(0))),a._render(!1,!1,!1)}break;case"groups":a._serializeObject(c)!==a._serializeObject(d)&&(a.dataview.groups=d,a._refreshdataview(),a._render(!0,!0,!0,!1));break;case"groupable":c!=d&&(a.dataview.groupable=a.groupable,a.dataview.pagenum=0,a.dataview.refresh(!1),a._render(!1,!1,!0));break;case"disabled":d?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"))}}}),a.jqx.collection=function(a){return this.records=new Array,this.owner=a,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(){},this.clear=function(){this.records=new Array},this.replace=function(a,b){this.records[a]=b,this.updating||this._raiseEvent({type:"replace",element:b})},this.isempty=function(a){return void 0==this.records[a]?!0:!1},this.initialize=function(a){1>a&&(a=1),this.records[a-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(a){return this.records.indexOf(a)},this.add=function(a){return null==a?!1:(this.records[this.records.length]=a,this.updating||this._raiseEvent({type:"add",element:a}),!0)},this.insertAt=function(a,b){return null==a||void 0==a?!1:null==b?!1:a>=0?a<this.records.length?(this.records.splice(a,0,b),this.updating||this._raiseEvent({type:"insert",index:a,element:b}),!0):this.add(b):!1},this.remove=function(a){if(null==a||void 0==a)return!1;var b=this.records.indexOf(a);return-1!=b?(this.records.splice(b,1),this.updating||this._raiseEvent({type:"remove",element:a}),!0):!1},this.removeAt=function(a){if(null==a||void 0==a)return!1;if(0>a)return!1;if(a<this.records.length){var b=this.records[a];return this.records.splice(a,1),this.updating||this._raiseEvent({type:"removeAt",index:a,element:b}),!0}return!1},this},a.jqx.dataview=function(){return this.self=this,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(a){this.suspend=!1,void 0==a&&(a=!0),this.refresh(a)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(b,c){var d=b._source?!0:!1,e=null;d?(e=b,b=b._source):e=new a.jqx.dataAdapter(b,{autoBind:!1});var f=function(a){e.recordids=[],e.records=new Array,e.cachedrecords=new Array,e.originaldata=new Array,e._options.virtualmode=a.virtualmode,e._options.totalrecords=a.totalrecords,e._options.originaldata=a.originaldata,e._options.recordids=a.recordids,e._options.cachedrecords=new Array,e._options.pagenum=a.pagenum,e._options.pageable=a.pageable,void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async),void 0!=b.updaterow&&(e._options.updaterow=b.updaterow),void 0!=b.addrow&&(e._options.addrow=b.addrow),void 0!=b.deleterow&&(e._options.deleterow=b.deleterow),0==a.pagesize&&(a.pagesize=10),e._options.pagesize=a.pagesize},g=function(a){if(a.totalrecords=e.totalrecords,a.virtualmode){var c={startindex:a.pagenum*a.pagesize,endindex:a.pagenum*a.pagesize+a.pagesize};b.recordstartindex&&(c.startindex=b.recordstartindex),b.recordendindex?c.endindex=b.recordendindex:a.grid.pageable||(c.endindex=c.startindex+100,a.grid.autoheight&&(c.endindex=c.startindex+a.totalrecords)),c.data=e.records,a.grid.rendergridrows&&a.totalrecords>0&&(b.records=a.grid.rendergridrows(c)),b.records&&0!=a.totalrecords||(b.records=new Array),a.originaldata=b.records,a.records=b.records,a.cachedrecords=b.records}else a.originaldata=e.originaldata,a.records=e.records,a.recordids=e.recordids,a.cachedrecords=e.cachedrecords};f(this),this.source=b,void 0!==c&&(uniqueId=c);var h=this;switch(b.datatype){case"local":case"array":default:if(null==b.localdata&&(b.localdata=[]),null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),e.dataBind();var i=function(c){if(void 0!=c){var d=e._changedrecords[0];d&&a.each(e._changedrecords,function(){var a=this.index,b=this.record;switch(h.grid._updateFromAdapter=!0,c){case"update":var d=h.grid.getrowid(a);return h.grid.updaterow(d,b),h.grid._updateFromAdapter=!1,void 0;case"add":return h.grid.addrow(null,b),h.grid._updateFromAdapter=!1,void 0;case"remove":var d=h.grid.getrowid(a);return h.grid.deleterow(d),h.grid._updateFromAdapter=!1,void 0}})}var f=h.totalrecords;g(h,c),"updateData"==c?(h.refresh(),h.grid._updateGridData()):(b.recordstartindex&&this.virtualmode?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(f!=h.totalrecords))};i(),e.bindBindingUpdate(h.grid.element.id,i)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),e.dataBind();var i=function(a){var c=h.totalrecords;g(h),"updateData"==a?(h.refresh(),h.grid._updateGridData()):(b.recordstartindex?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(c!=h.totalrecords))};return i(),e.bindBindingUpdate(h.grid.element.id,i),void 0}for(var j=0,k={},l=0;l<this.filters.length;l++){var m=this.filters[l].datafield,n=this.filters[l].filter,o=n.getfilters();k[m+"operator"]=n.operator;for(var p=0;p<o.length;p++){o[p].datafield=m;var q=o[p].value;k["filtervalue"+j]=q.toString(),k["filtercondition"+j]=o[p].condition,k["filteroperator"+j]=o[p].operator,k["filterdatafield"+j]=m,j++}}k.filterscount=j,k.groupscount=h.groups.length;for(var l=0;l<h.groups.length;l++)k["group"+l]=h.groups[l];void 0==b.recordstartindex&&(b.recordstartindex=0),(void 0==b.recordendindex||0==b.recordendindex)&&(h.grid.height&&-1==h.grid.height.toString().indexOf("%")?(b.recordendindex=parseInt(h.grid.height)/h.grid.rowsheight,b.recordendindex+=2):b.recordendindex=a(window).height()/h.grid.rowsheight),a.extend(k,{sortdatafield:h.sortfield,sortorder:h.sortfielddirection,pagenum:h.pagenum,pagesize:h.grid.pagesize,recordstartindex:b.recordstartindex,recordendindex:b.recordendindex}),e._options.data?a.extend(e._options.data,k):(b.data&&a.extend(k,b.data),e._options.data=k);
var i=function(){var a=h.totalrecords;g(h),b.recordstartindex?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(a!=h.totalrecords)};e.unbindDownloadComplete(h.grid.element.id),e.bindDownloadComplete(h.grid.element.id,i),e.dataBind()}},this.getid=function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e}return d},this.getvaluebytype=function(b,c){var d=b;if("date"==c.type){var e=new Date(b);b="NaN"==e.toString()||"Invalid Date"==e.toString()?a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):e:e,null==b&&(b=d)}else if("float"==c.type){var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else"bool"==c.type&&(null!=b&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b?!1:"");return b},this.setpaging=function(a){void 0!=a.pageSize&&(this.pagesize=a.pageSize),void 0!=a.pageNum&&(this.pagenum=Math.min(a.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(a,b){for(var c=-1,d=0;d<this.filters.length;d++)if(this.filters[d].datafield==a){c=d;break}-1==c?this.filters[this.filters.length]={filter:b,datafield:a}:this.filters[c]={filter:b,datafield:a}},this.removefilter=function(a){for(var b=0;b<this.filters.length;b++)if(this.filters[b].datafield==a){this.filters.splice(b,1);break}},this.getItemFromIndex=function(a){return this.records[a]},this.updaterow=function(a,b,c){var d=this.filters&&this.filters.length>0;if(!d&&void 0!=b&&void 0!=a){b.uid=a,b[this.source.id]||(b[this.source.id]=b.uid);var e=this.recordsbyid["id"+a],f=this.records.indexOf(e);return-1==f?!1:(this.records[f]=b,this.cachedrecords&&(this.cachedrecords[f]=b),(1==c||void 0==c)&&this.refresh(),this.changedrecords[b.uid]={Type:"Update",OldData:e,Data:b},!0)}if(this.filters&&this.filters.length>0){for(var g=this.cachedrecords,e=null,f=-1,h=0;h<g.length;h++)if(g[h].uid==a){e=g[h],f=h;break}if(e)return this.cachedrecords[f]=b,(1==c||void 0==c)&&this.refresh(),!0}return!1},this.addrow=function(a,b,c,d){if(void 0!=b){if(a)b.uid=a;else{b.uid=this.getid(this.source.id,b,this.totalrecords);for(var e=this.recordsbyid["id"+b.uid];null!=e;){var f=Math.floor(1e4*Math.random()).toString();b.uid=f,e=this.recordsbyid["id"+f]}}return b[this.source.id]||void 0!=this.source.id&&(b[this.source.id]=b.uid),"last"==c?this.records.push(b):this.records.splice(0,0,b),this.filters&&this.filters.length>0&&("last"==c?this.cachedrecords.push(b):this.cachedrecords.splice(0,0,b)),this.totalrecords++,(1==d||void 0==d)&&this.refresh(),this.changedrecords[b.uid]={Type:"New",Data:b},!0}return!1},this.deleterow=function(a,b){if(void 0!=a){var c=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+a]&&!c){var d=this.recordsbyid["id"+a],e=this.records.indexOf(d);return this.changedrecords[a]={Type:"Delete",Data:this.records[e]},this.records.splice(e,1),this.totalrecords--,(1==b||void 0==b)&&this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var f=this.cachedrecords,d=null,e=-1,g=0;g<f.length;g++)if(f[g].uid==a){d=f[g],e=g;break}if(d)return this.cachedrecords.splice(e,1),(1==b||void 0==b)&&(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(b,c,d,e,f,g,h){var i=this,j=new Array,k=b,l=c,m=d,n=e,o=l.length,p=0,q=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c};var r=Object.size(k);this.totalrecords=r,a.each(this.records,function(){var b=this,c=0;return a.each(b,function(a){i.columns[c++]=a}),!1})}if(this.virtualmode){if(this.pageable)return this.updateview(),void 0;var g=0;if(!this.groupable)return this.updateview(),void 0;var h=this.totalrecords}else var g=0,h=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var s=g;s=this.loadgrouprecords(0,g,h,m,q,n,l,o,j)}else p=this.loadflatrecords(g,h,m,q,n,l,o,j);return o>q&&l.splice(q,o-q),this.totalrows=this.groups.length>0&&this.groupable?s:p,j},this.loadflatrecords=function(b,c,d,e,f,g,h,i){var j=this,k=b,l=b;c=Math.min(c,this.totalrecords);var m=null!=this.sortdata;this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||""==this.source.datatype);for(var n=m?this.sortdata:this.records,o=b;c>o;o++){var p={};m?(p=a.extend({},n[o].value),id=p[j.uniqueId],p.boundindex=n[o].index,void 0==p.uid&&(p.uid=j.getid(j.source.id,p,p.boundindex)),j.recordsbyid["id"+p.uid]=n[o].value,j.loadedrecords[k]=p,p.uniqueid=j.generatekey(),j.bounditems[p.boundindex]=p):(p=a.extend({},n[o]),id=p[j.uniqueId],p.boundindex=k,j.loadedrecords[k]=p,void 0==p.uid&&(p.uid=j.getid(j.source.id,p,k)),j.recordsbyid["id"+p.uid]=n[o],p.uniqueid=j.generatekey(),j.bounditems[this.bounditems.length]=p),(e>=h||id!=g[e][j.uniqueId]||f&&f[id])&&(i[i.length]=e),g[e]=p,e++,p.visibleindex=l,l++,k++}if(j.grid.summaryrows){var q=k;a.each(j.grid.summaryrows,function(){var b=a.extend({},this);b.boundindex=c++,j.loadedrecords[q]=b,b.uniqueid=j.generatekey(),j.bounditems[j.bounditems.length]=b,g[e]=b,e++,b.visibleindex=l,l++,q++})}return l},this.updateview=function(a,b){var c=this,d=this.pagesize*this.pagenum,e=0,f=new Array,g=this.filters,h=this.updated,i=f.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords)return void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize]?(this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],this.totalrows=this.rows.length,void 0):(this.loadgrouprecords(0,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),g,e,h,f,i,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,this.totalrows=this.rows.length,void 0)}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),g,e,h,f,i,[]),this.totalrows=f.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var j=this.pagesize;0==j&&(j=Math.min(100,this.totalrecords));var k=j*this.pagenum;if(0==this.loadedrecords.length&&(k=0),null!=a&&null!=b?this.loadflatrecords(a,b,g,e,h,f,i,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),g,e,h,f,i,[]),this.totalrows=this.loadedrecords.length,this.rows=f,f.length>=j)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)f=this._updategroupsinpage(c,g,d,e,i,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var l=this.pagesize*this.pagenum;l<this.pagesize*(1+this.pagenum);l++){var m=l<this.loadedrecords.length?this.loadedrecords[l]:null;null!=m&&((!this.pagesize||d>=this.pagesize*this.pagenum&&d<=this.pagesize*(this.pagenum+1))&&(f[e]=m,e++),d++)}if((0==f.length||f.length<this.pagesize)&&!this.pageable&&this.virtualmode){e=f.length;for(var n=f.length,l=this.pagesize*this.pagenum;l<this.pagesize*(1+this.pagenum)-n;l++){var m={};m.boundindex=l+n,m.visibleindex=l+n,m.uniqueid=c.generatekey(),m.empty=!0,c.bounditems[l+n]=m,f[e]=m,e++}}this.rows=f},this.generatekey=function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(b){if(!this.suspend){void 0==b&&(b=!0);var c=this.rows.length,d=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var e="",f=this.cachedrecords.length,g=new Array;this.totalrecords=0;var h=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var i=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)g=this.source.filter(this.filters,h,f),void 0==g&&(g=new Array),this.records=g;else if(null==this.source.filter||void 0==this.source.filter){for(var j=0;f>j;j++){for(var k=h[j],l=void 0,m=0;i>m;m++){var e=this.filters[m].filter,n=k[this.filters[m].datafield],o=e.evaluate(n);l=void 0==l?o:"or"==e.operator?l||o:l&&o}l?(g[g.length]=a.extend({dataindex:j},k),this._dataIndexToBoundIndex[j]={boundindex:g.length-1}):this._dataIndexToBoundIndex[j]=null}this.records=g}if(this.sortdata){var p=this.sortfield;if(this.sortcache[p]){this.sortdata=null;var q=this.sortcache[p].direction;return this.sortcache[p]=null,this.sortby(this.sortfield,q),void 0}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var h=this.cachedrecords;if(this.records=h,this.sortdata){var p=this.sortfield;if(this.sortcache[p]){this.sortdata=null;var q=this.sortcache[p].direction;return this.sortcache[p]=null,this.sortby(this.sortfield,q),void 0}}}var r=this.reload(this.records,this.rows,this.filter,this.updated,b);this.updated=null,null!=this.rowschangecallback&&(d!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),c!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:c,current:rows.length}}),(r.length>0||c!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:c,current:rows.length,diff:r}}))}},this}}(jQuery);
});