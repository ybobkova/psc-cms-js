/*
jQWidgets v2.7.0 (2013-Feb-08)
Copyright (c) 2011-2013 jQWidgets.
License: http://jqwidgets.com/license/
*/
define(['jquery'], function() {
!function(a){a.jqx=a.jqx||{},a.jqx.define=function(a,b,c){a[b]=function(){this.baseType&&(this.base=new a[this.baseType],this.base.defineInstance()),this.defineInstance()},a[b].prototype.defineInstance=function(){},a[b].prototype.base=null,a[b].prototype.baseType=void 0,c&&a[c]&&(a[b].prototype.baseType=c)},a.jqx.invoke=function(b,c){if(0!=c.length){for(var d=typeof c==Array||c.length>0?c[0]:c,e=typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):a({}).toArray();void 0==b[d]&&null!=b.base;)b=b.base;if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();return b[f].apply(b,e)}}},a.jqx.hasFunction=function(b,c){if(0==c.length)return!1;if(void 0==b)return!1;var d=typeof c==Array||c.length>0?c[0]:c;for(typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):{};void 0==b[d]&&null!=b.base;)b=b.base;if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}return!1},a.jqx.isPropertySetter=function(a){return 2==a.length?!0:1==a.length&&"object"==typeof a[0]},a.jqx.set=function(b,c){if(1==c.length&&"object"==typeof c[0])a.each(c[0],function(c,d){for(var e=b;void 0==e[c]&&null!=e.base;)e=e.base;(void 0!=e[c]||null==e[c])&&a.jqx.setvalueraiseevent(e,c,d)});else if(2==c.length){for(;void 0==b[c[0]]&&b.base;)b=b.base;(void 0!=b[c[0]]||null==b[c[0]])&&a.jqx.setvalueraiseevent(b,c[0],c[1])}},a.jqx.setvalueraiseevent=function(a,b,c){var d=a[b];a[b]=c,a.isInitialized&&(void 0!=a.propertyChangedHandler&&a.propertyChangedHandler(a,b,d,c),void 0!=a.propertyChangeMap&&void 0!=a.propertyChangeMap[b]&&a.propertyChangeMap[b](a,b,d,c))},a.jqx.get=function(a,b){if(void 0==b||null==b)return void 0;if(void 0!=a[b])return a[b];if(1!=b.length)return void 0;for(;void 0==a[b[0]]&&a.base;)a=a.base;return void 0!=a[b[0]]?a[b[0]]:void 0},a.jqx.jqxWidgetProxy=function(b,c,d){a(c);var e=a.data(c,b);if(void 0==e)return void 0;var f=e.instance;if(a.jqx.hasFunction(f,d))return a.jqx.invoke(f,d);if(a.jqx.isPropertySetter(d))return a.jqx.set(f,d),void 0;if("object"!=typeof d||0!=d.length){if("object"==typeof d&&d.length>0)return a.jqx.get(f,d[0]);if("string"==typeof d)return a.jqx.get(f,d);throw"jqxCore: Property or method does not exist."}},a.jqx.jqxWidget=function(b,c,d){var e=!1;try{jqxArgs=Array.prototype.slice.call(d,0)}catch(f){jqxArgs=""}try{e=void 0!=window.MSApp}catch(f){}var g=b,h="";c&&(h="_"+c),a.jqx.define(a.jqx,"_"+g,h),a.fn[g]=function(){var b=Array.prototype.slice.call(arguments,0),c=null;return 0==b.length||1==b.length&&"object"==typeof b[0]?this.each(function(){var d=a(this),f=this,h=a.data(f,g);if(null==h){h={},h.element=f,h.host=d,h.instance=new a.jqx["_"+g],""==f.id&&(f.id=a.jqx.utilities.createId()),h.instance.get=h.instance.set=h.instance.call=function(){var b=Array.prototype.slice.call(arguments,0);return a.jqx.jqxWidgetProxy(g,f,b)},a.data(f,g,h),a.data(f,"jqxWidget",h.instance);for(var i=new Array,j=h.instance;j;)j.isInitialized=!1,i.push(j),j=j.base;i.reverse(),i[0].theme="",a.jqx.jqxWidgetProxy(g,this,b);for(var k in i)j=i[k],0==k&&(j.host=d,j.element=f,j.WinJS=e),void 0!=j&&null!=j.createInstance&&(e?MSApp.execUnsafeLocalFunction(function(){j.createInstance(b)}):j.createInstance(b));for(var k in i)void 0!=i[k]&&(i[k].isInitialized=!0);e?MSApp.execUnsafeLocalFunction(function(){h.instance.refresh(!0)}):h.instance.refresh(!0),c=this}else a.jqx.jqxWidgetProxy(g,this,b)}):(this.each(function(){var d=a.jqx.jqxWidgetProxy(g,this,b);null==c&&(c=d)}),c)};try{a.extend(a.jqx["_"+g].prototype,Array.prototype.slice.call(d,0)[0])}catch(f){}a.extend(a.jqx["_"+g].prototype,{toThemeProperty:function(a,b){return""==this.theme?a:null!=b&&b?a+"-"+this.theme:a+" "+a+"-"+this.theme}}),a.jqx["_"+g].prototype.refresh=function(){this.base&&this.base.refresh()},a.jqx["_"+g].prototype.createInstance=function(){},a.jqx["_"+g].prototype.propertyChangeMap={},a.jqx["_"+g].prototype.addHandler=function(b,c,d,e){switch(c){case"mousewheel":if(window.addEventListener)return a.jqx.browser.mozilla?b[0].addEventListener("DOMMouseScroll",d,!1):b[0].addEventListener("mousewheel",d,!1),!1;break;case"mousemove":if(window.addEventListener&&!e)return b[0].addEventListener("mousemove",d,!1),!1}void 0==e||null==e?b.on(c,d):b.on(c,e,d)},a.jqx["_"+g].prototype.removeHandler=function(b,c,d){switch(c){case"mousewheel":if(window.removeEventListener)return a.jqx.browser.mozilla?b[0].removeEventListener("DOMMouseScroll",d,!1):b[0].removeEventListener("mousewheel",d,!1),!1;break;case"mousemove":a.jqx.browser.msie&&a.jqx.browser.version>=9&&window.removeEventListener&&b[0].removeEventListener("mousemove",d,!1)}return void 0==c?(b.off(),void 0):(void 0==d?b.off(c):b.off(c,d),void 0)}},a.jqx.utilities=a.jqx.utilities||{},a.extend(a.jqx.utilities,{createId:function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return"jqxWidget"+a()+a()+a()},setTheme:function(b,c,d){if("undefined"!=typeof d){for(var e=d[0].className.split(" "),f=[],g=[],h=d.children(),i=0;i<e.length;i+=1)e[i].indexOf(b)>=0&&(b.length>0?(f.push(e[i]),g.push(e[i].replace(b,c))):g.push(e[i]+"-"+c));this._removeOldClasses(f,d),this._addNewClasses(g,d);for(var i=0;i<h.length;i+=1)this.setTheme(b,c,a(h[i]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},getOffset:function(b){var c=a.jqx.mobile.getLeftPos(b[0]),d=a.jqx.mobile.getTopPos(b[0]);return{top:d,left:c}},html:function(a,b){return jQuery.access(a,function(b){var c=a[0]||{},d=0,e=a.length;if(void 0===b)return 1===c.nodeType?c.innerHTML.replace(rinlinejQuery,""):void 0;var f=/<(?:script|style|link)/i,g="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",h=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,i=/<([\w:]+)/,j=new RegExp("<(?:"+g+")[\\s/>]","i"),k=/^\s+/,l={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(!("string"!=typeof b||f.test(b)||!jQuery.support.htmlSerialize&&j.test(b)||!jQuery.support.leadingWhitespace&&k.test(b)||l[(i.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(h,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(jQuery.cleanData(c.getElementsByTagName("*")),c.innerHTML=b);c=0}catch(m){}}c&&a.empty().append(b)},null,b,arguments.length)},hasTransform:function(b){var c="";if(c=b.css("transform"),""==c||"none"==c){if(c=b.parents().css("transform"),""!=c&&"none"!=c)return""!=c&&"none"!=c;var d=a.jqx.utilities.getBrowser();"msie"==d.browser?(c=b.css("-ms-transform"),(""==c||"none"==c)&&(c=b.parents().css("-ms-transform"))):"chrome"==d.browser?(c=b.css("-webkit-transform"),(""==c||"none"==c)&&(c=b.parents().css("-webkit-transform"))):"opera"==d.browser?(c=b.css("-o-transform"),(""==c||"none"==c)&&(c=b.parents().css("-o-transform"))):"mozilla"==d.browser&&(c=b.css("-moz-transform"),(""==c||"none"==c)&&(c=b.parents().css("-moz-transform")))}return(""==c||"none"==c)&&(c=a(document.body).css("transform")),""!=c&&"none"!=c&&null!=c},getBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c={browser:b[1]||"",version:b[2]||"0"};return c[b[1]]=b[1],c}}),a.jqx.browser=a.jqx.utilities.getBrowser(),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),a.jqx.mobile=a.jqx.mobile||{},a.jqx.position=function(b){var c=parseInt(b.pageX),d=parseInt(b.pageY);if(a.jqx.mobile.isTouchDevice()){var e=a.jqx.mobile.getTouches(b),f=e[0];c=parseInt(f.pageX),d=parseInt(f.pageY)}return{left:c,top:d}},a.extend(a.jqx.mobile,{_touchListener:function(a){var b=function(a,b){var c=document.createEvent("MouseEvents");return c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),c._pageX=b.pageX,c._pageY=b.pageY,c},c={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},d=b(c[a.type],a);a.target.dispatchEvent(d);var e=a.target["on"+c[a.type]];"function"==typeof e&&e(a)},setMobileSimulator:function(b,c){if(!this.isTouchDevice()){this.simulatetouches=!0,0==c&&(this.simulatetouches=!1);var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=this;if(window.addEventListener){var f=function(){for(var a in d)b.addEventListener&&(b.removeEventListener(a,e._touchListener),b.addEventListener(a,e._touchListener,!1))};a.jqx.browser.msie?f():window.addEventListener("load",function(){f()},!1)}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var a="Browser CodeName: "+navigator.appCodeName;if(a+="Browser Name: "+navigator.appName,a+="Browser Version: "+navigator.appVersion,a+="Platform: "+navigator.platform,a+="User-agent header: "+navigator.userAgent,-1!=a.indexOf("Android"))return!0;if(-1!=a.indexOf("IEMobile"))return!0;if(-1!=a.indexOf("Windows Phone OS"))return!0;if(-1!=a.indexOf("Windows Phone 6.5"))return!0;if(-1!=a.indexOf("BlackBerry")&&-1!=a.indexOf("Mobile Safari"))return!0;if(-1!=a.indexOf("ipod"))return!0;if(-1!=a.indexOf("nokia")||-1!=a.indexOf("Nokia"))return!0;if(-1!=a.indexOf("Chrome/17"))return!1;if(-1!=a.indexOf("Opera")&&-1==a.indexOf("Mobi")&&-1==a.indexOf("Mini")&&-1!=a.indexOf("Platform: Win"))return!1;try{return void 0!=this.touchDevice?this.touchDevice:(this.touchDevice=!0,document.createEvent("TouchEvent"),!0)}catch(b){return this.touchDevice=!1,!1}},getLeftPos:function(a){for(var b=a.offsetLeft;null!=(a=a.offsetParent);)"HTML"!=a.tagName&&(b+=a.offsetLeft,document.all&&(b+=a.clientLeft));return b},getTopPos:function(b){for(var c=b.offsetTop;null!=(b=b.offsetParent);)"HTML"!=b.tagName&&(c+=b.offsetTop-b.scrollTop,document.all&&(c+=b.clientTop));if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser())return c;c+=a(window).scrollTop()}return c},isChromeMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("android");return b},isOperaMiniMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini")||-1!=a.indexOf("opera mobi");return b},isOperaMiniBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini");return b},isNewSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/5")},isSafari4MobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/4")},isWindowsPhone:function(){var a=navigator.userAgent.toLowerCase(),b=(-1!=a.indexOf("msie 11")||-1!=a.indexOf("msie 10"))&&-1!=a.indexOf("touch");return b},isSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b},isIPhoneSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("iphone");return b},isIPadSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad");return b},isMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("android");return b},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches;if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches}return a.touches||(a.touches=new Array,a.touches[0]=void 0!=a.originalEvent?a.originalEvent:a,void 0!=a.originalEvent&&a.pageX&&(a.touches[0]=a),"mousemove"==a.type&&(a.touches[0]=a)),a.touches},getTouchEventName:function(a){return this.isWindowsPhone()?-1!=a.toLowerCase().indexOf("start")?"MSPointerDown":-1!=a.toLowerCase().indexOf("move")?"MSPointerMove":-1!=a.toLowerCase().indexOf("end")?"MSPointerUp":void 0:a},dispatchMouseEvent:function(a,b,c){if(!this.simulatetouches){var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,b.view,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),null!=c&&c.dispatchEvent(d)}},getRootNode:function(a){for(;1!==a.nodeType;)a=a.parentNode;return a},setTouchScroll:function(a,b){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[b]=a},touchScroll:function(b,c,d,e){if(null!=b){var f=this,g=0,h=0,i=0,j=0,k=0,l=0;this.scrolling||(this.scrolling=[]),this.scrolling[e]=!1;var m=!1,n=a(b),o=["select","input","textarea"],p=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[e]=!0;var e=e,q=this.getTouchEventName("touchstart")+".touchScroll",r=this.getTouchEventName("touchend")+".touchScroll",s=this.getTouchEventName("touchmove")+".touchScroll";if(n.on(q,function(b){if(!f.enableScrolling[e])return!0;if(-1===a.inArray(b.target.tagName.toLowerCase(),o)){var c=f.getTouches(b),d=c[0];return 1==c.length&&f.dispatchMouseEvent("mousedown",d,f.getRootNode(d.target)),m=!1,h=d.pageY,k=d.pageX,f.simulatetouches&&(h=d._pageY,k=d._pageX),f.scrolling[e]=!0,g=0,j=0,!0}}),n.on(s,function(a){if(!f.enableScrolling[e])return!0;if(!f.scrolling[e])return!0;var b=f.getTouches(a);if(b.length>1)return!0;var c=b[0].pageY,n=b[0].pageX;f.simulatetouches&&(c=b[0]._pageY,n=b[0]._pageX);var o=c-h,q=n-k;return p=c,touchHorizontalEnd=n,i=o-g,l=q-j,m=!0,g=o,j=q,d(3*-l,3*-i,q,o,a),a.preventDefault(),a.stopPropagation(),a.preventManipulation&&a.preventManipulation(),!1}),this.simulatetouches){if(a(window).on("mouseup.touchScroll",function(){f.scrolling[e]=!1}),window.frameElement&&null!=window.top){var t=function(){f.scrolling[e]=!1};window.top.document.addEventListener?(window.top.document.removeEventListener("mouseup",t,!1),window.top.document.addEventListener("mouseup",t,!1)):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t)}a(document).on("touchend",function(a){if(!f.scrolling[e])return!0;f.scrolling[e]=!1;var b=f.getTouches(a)[0],c=f.getRootNode(b.target);f.dispatchMouseEvent("mouseup",b,c),f.dispatchMouseEvent("click",b,c)})}n.on(r+" touchcancel.touchScroll",function(a){if(!f.enableScrolling[e])return!0;var b=f.getTouches(a)[0];if(!f.scrolling[e])return!0;if(f.scrolling[e]=!1,!m){var b=f.getTouches(a)[0],c=f.getRootNode(b.target);return f.dispatchMouseEvent("mouseup",b,c),f.dispatchMouseEvent("click",b,c),!0}f.dispatchMouseEvent("mouseup",b,c)})}}}),a.jqx.cookie=a.jqx.cookie||{},a.extend(a.jqx.cookie,{cookie:function(a,b,c){if(arguments.length>1&&"[object Object]"!==String(b)){if(c=jQuery.extend({},c),(null===b||void 0===b)&&(c.expires=-1),"number"==typeof c.expires){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}return b=String(b),document.cookie=[encodeURIComponent(a),"=",c.raw?b:encodeURIComponent(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?g(f[1]):null}}),a.jqx.string=a.jqx.string||{},a.extend(a.jqx.string,{contains:function(a,b){return null==a||null==b?!1:-1!=a.indexOf(b)},containsIgnoreCase:function(a,b){return null==a||null==b?!1:-1!=a.toUpperCase().indexOf(b.toUpperCase())},equals:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.slice(0,b.length)==b:!1)},equalsIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.toUpperCase().slice(0,b.length)==b.toUpperCase():!1)},startsWith:function(a,b){return null==a||null==b?!1:a.slice(0,b.length)==b},startsWithIgnoreCase:function(a,b){return null==a||null==b?!1:a.toUpperCase().slice(0,b.length)==b.toUpperCase()},normalize:function(a){return 65279==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},endsWith:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.slice(-b.length)==b)},endsWithIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.toUpperCase().slice(-b.length)==b.toUpperCase())}}),a.extend(jQuery.easing,{easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c}})}(jQuery),function(a){a.fn.extend({ischildof:function(b){var c=a(this).parents().get();for(j=0;j<c.length;j++)if(a(c[j]).is(b))return!0;return!1}})}(jQuery),function(a){a.jqx.dataAdapter=function(b,c){if(this._source=b,this._options=c||{},this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=b&&null!=b.localdata&&"function"==typeof b.localdata){var d=b.localdata();if(null!=d){b._localdata=b.localdata;var e=this;b._localdata.subscribe&&(e._oldlocaldata=[],b._localdata.subscribe(function(b){var c=function(b){return jQuery.isArray(b)?jQuery.makeArray(c(a(b))):jQuery.extend(!0,{},b)};e._oldlocaldata=c(b)},b._localdata,"beforeChange"),b._localdata.subscribe(function(a){if(0==e.suspendKO||void 0==e.suspendKO){var c="";e._oldrecords=e.records,0==e._oldlocaldata.length&&(b.localdata=b._localdata()),0==e._oldlocaldata.length?c="change":(e._oldlocaldata.length==a.length&&(c="update"),e._oldlocaldata.length>a.length&&(c="remove"),e._oldlocaldata.length<a.length&&(c="add")),e.dataBind(null,c)}},b._localdata,"change"),e._knockoutdatasource=!0),b.localdata=d}}1==this._options.autoBind&&this.dataBind()},a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(a){this.isUpdating=!1,0!=a&&this.dataBind(null,"")},formatDate:function(b,c,d){var e=a.jqx.dataFormat.formatdate(b,c,d);return e},formatNumber:function(b,c,d){var e=a.jqx.dataFormat.formatnumber(b,c,d);return e},dataBind:function(b,c){if(1!=this.isUpdating){var d=this._source;if(d){null!=d.dataFields&&(d.datafields=d.dataFields),void 0==d.recordstartindex&&(d.recordstartindex=0),void 0==d.recordendindex&&(d.recordendindex=0),void 0==d.loadallrecords&&(d.loadallrecords=!0),void 0!=d.sort&&(this.sort=d.sort),this.filter=void 0!=d.filter?d.filter:null,void 0!=d.sortcolumn&&(this.sortcolumn=d.sortcolumn),void 0!=d.sortdirection&&(this.sortdirection=d.sortdirection),void 0!=d.sortcomparer&&(this.sortcomparer=d.sortcomparer),this.records=new Array;var e=this._options||{};if(this.virtualmode=void 0!=e.virtualmode?e.virtualmode:!1,this.totalrecords=void 0!=e.totalrecords?e.totalrecords:0,this.pageable=void 0!=e.pageable?e.pageable:!1,this.pagesize=void 0!=e.pagesize?e.pagesize:0,this.pagenum=void 0!=e.pagenum?e.pagenum:0,this.cachedrecords=void 0!=e.cachedrecords?e.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=e.updaterow?e.updaterow:null,this.addrow=void 0!=e.addrow?e.addrow:null,this.deleterow=void 0!=e.deleterow?e.deleterow:null,this.cache=void 0!=e.cache?e.cache:!0,this.unboundmode=!1,this.mapChar=void 0!=d.mapchar?d.mapchar?d.mapchar:">":e.mapChar?e.mapChar:">",(e.unboundmode||d.unboundmode)&&(this.unboundmode=e.unboundmode||d.unboundmode),void 0!=d.cache&&(this.cache=d.cache),this.koSubscriptions)for(var f=0;f<this.koSubscriptions.length;f++)this.koSubscriptions[f].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var g=this,h=d.datatype;("csv"===d.datatype||"tab"===d.datatype||"text"==d.datatype)&&(h="text");var i=void 0!=e.async?e.async:!0;switch(void 0!=d.async&&(i=d.async),h){case"local":case"array":case"observablearray":default:if(void 0==d.localdata&&d.length){d.localdata=new Array;for(var j=0;j<d.length;j++)d.localdata[d.localdata.length]=d[j]}var k=d.localdata.length;if(this.totalrecords=this.virtualmode?d.totalrecords||k:k,this.unboundmode){this.totalrecords=this.unboundmode?d.totalrecords||k:k;var l=d.datafields?d.datafields.length:0;if(l>0)for(var j=0;j<this.totalrecords;j++){for(var m={},n=0;l>n;n++)m[d.datafields[n].name]="";d.localdata[d.localdata.length]=m}}void 0==this.totalrecords&&(this.totalrecords=0);var l=d.datafields?d.datafields.length:0,o=function(a,b){for(var c={},e=0;b>e;e++){var f=d.datafields[e],h="";if(void 0!=f&&null!=f){if(f.map){var i=f.map.split(g.mapChar);if(i.length>0){for(var j=a,k=0;k<i.length;k++)j=j[i[k]];h=j}else h=a[f.map];h=void 0!=h&&null!=h?h.toString():""}""==h&&(h=a[f.name],h=void 0!=h&&null!=h?d._localdata&&h.subscribe?h():h.toString():""),h=g.getvaluebytype(h,f),void 0!=f.displayname?c[f.displayname]=h:c[f.name]=h}}return c};if(d._localdata){this._changedrecords=[],this.records=new Array;var p=d._localdata();if(a.each(p,function(b,e){if("string"==typeof e)g.records.push(e);else{var f={},h=0;for(var i in this){var j=null,k="string";if(l>0){for(var m=!1,n=0;l>n;n++){var o=d.datafields[n];if(void 0!=o&&o.name==i){m=!0,j=o.map,k=o.type;break}}if(!m)continue}var p=a.isFunction(this[i]);if(p){var e=this[i]();"string"!=k&&(e=g.getvaluebytype(e,{type:k})),f[i]=e,this[i].subscribe&&(g.koSubscriptions[g.koSubscriptions.length]=this[i].subscribe(function(){return g.dataBind(null,null),!1}))}else{var e=this[i];if(null!=j){var q=j.split(g.mapChar);if(q.length>0){for(var r=this,s=0;s<q.length;s++)r=r[q[s]];e=r}else e=this[j]}"string"!=k&&(e=g.getvaluebytype(e,{type:k})),f[i]=e,void 0!=f[i]&&(h+=f[i].toString().length+f[i].toString().substr(0,1))}}if(g.records.push(f),f._koindex=h,g._oldrecords){var t=g.records.length-1;if("update"==c&&g._oldrecords[t]._koindex!=h){var u={index:t,oldrecord:g._oldrecords[t],record:f};g._changedrecords.push(u)}}}}),"add"==c)for(var k=g.records.length,j=0;k>j;j++){var m=g.records[j];g._oldrecords[j]?g._oldrecords[j]._koindex!=m._koindex&&g._changedrecords.push({index:j,oldrecord:null,record:m}):g._changedrecords.push({index:j,oldrecord:null,record:m})}else if("remove"==c)for(var k=g._oldrecords.length,j=0;k>j;j++){var q=g._oldrecords[j];g.records[j]?g.records[j]._koindex!=q._koindex&&g._changedrecords.push({index:j,oldrecord:q,record:null}):g._changedrecords.push({index:j,oldrecord:q,record:null})}}else a.isArray(d.localdata)?0==l?this.records=d.localdata:a.each(d.localdata,function(b){var c=this,e=o(c,l),f=g.getid(d.id,e,b);"object"==typeof f&&(f=b);var c=a.extend({},e);c.uid=f,g.records[g.records.length]=c}):(this.records=new Array,a.each(d.localdata,function(){if(l>0){var a=this,b=o(a,l);g.records[g.records.length]=b}else g.records[g.records.length]=this}));if(this.originaldata=d.localdata,this.cachedrecords=this.records,this.addForeignValues(d),e.uniqueDataFields){var r=this.getUniqueRecords(this.records,e.uniqueDataFields);this.records=r,this.cachedrecords=r}if(e.beforeLoadComplete){var s=e.beforeLoadComplete(g.records,this.originaldata);void 0!=s&&(g.records=s,g.cachedrecords=s)}a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(null!=d.localdata){if(a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata),"xml"===d.datatype?g.loadxml(d.localdata,d.localdata,d):"text"===h?g.loadtext(d.localdata,d):g.loadjson(d.localdata,d.localdata,d),g.addForeignValues(d),e.uniqueDataFields){var r=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=r,g.cachedrecords=r}return a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata),void 0}var t=void 0!=e.data?e.data:{};if(d.processdata&&d.processdata(t),a.isFunction(e.processData)&&e.processData(t),a.isFunction(e.formatData)){var u=e.formatData(t);void 0!=u&&(t=u)}var v="application/x-www-form-urlencoded";e.contentType&&(v=e.contentType);var w="GET";d.type&&(w=d.type),e.type&&(w=e.type),d.url&&d.url.length>0?a.isFunction(e.loadServerData)?g._requestData(t,d,e):this.xhr=a.ajax({dataType:h,cache:this.cache,type:w,url:d.url,async:i,contentType:v,data:t,success:function(b,c,f){if(a.isFunction(d.beforeprocessing)){var i=d.beforeprocessing(b,c,f);void 0!=i&&(b=i)}if(a.isFunction(e.downloadComplete)){var i=e.downloadComplete(b,c,f);void 0!=i&&(b=i)}if(null==b)return g.records=new Array,g.cachedrecords=new Array,g.originaldata=new Array,g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(new Array),void 0;var j=b;if(b.records&&(j=b.records),void 0!=b.totalrecords&&(d.totalrecords=b.totalrecords),"xml"===d.datatype?g.loadxml(null,j,d):"text"===h?g.loadtext(j,d):g.loadjson(null,j,d),g.addForeignValues(d),e.uniqueDataFields){var k=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=k,g.cachedrecords=k}if(e.beforeLoadComplete){var l=e.beforeLoadComplete(g.records,b);void 0!=l&&(g.records=l,g.cachedrecords=l)}g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(b)},error:function(b,c,f){a.isFunction(d.loaderror)&&d.loaderror(b,c,f),a.isFunction(e.loadError)&&e.loadError(b,c,f),b=null,g.callDownloadComplete()},beforeSend:function(b,c){a.isFunction(e.beforeSend)&&e.beforeSend(b,c),a.isFunction(d.beforesend)&&d.beforesend(b,c)}}):(g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(data))}this.callBindingUpdate(c)}}},addForeignValues:function(a){for(var b=this,c=a.datafields?a.datafields.length:0,d=0;c>d;d++){var e=a.datafields[d];if(void 0!=e)if(void 0!=e.values){void 0==e.value&&(e.value=e.name),void 0==e.values.value&&(e.values.value=e.value);for(var f=new Array,g=0;g<b.records.length;g++){var h=b.records[g],i=e.name,j=h[e.value];if(void 0!=f[j])h[i]=f[j];else for(var d=0;d<e.values.source.length;d++){var k=e.values.source[d],l=k[e.values.value];if(void 0==l&&(l=k.uid),l==j){var m=k[e.values.name];h[i]=m,f[j]=m;break}}}}else if(void 0!=e.value)for(var g=0;g<b.records.length;g++){var h=b.records[g];h[e.name]=h[e.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&this.xhr.abort()},_requestData:function(b,c,d){var e=this,f=function(b){b.totalrecords&&(c.totalrecords=b.totalrecords,e.totalrecords=b.totalrecords),b.records&&(e.records=b.records,e.cachedrecords=b.records),a.isFunction(d.loadComplete)&&d.loadComplete(data),e.callDownloadComplete()};d.loadServerData(b,c,f)},getUniqueRecords:function(a,b){if(a&&b)for(var c=a.length,d=b.length,e=new Array,f=new Array,g=0;c>g;g++){var h=a[g],i="";if(void 0!=h){for(var j=0;d>j;j++){var k=b[j];i+=h[k]+"_"}f[i]||(e[e.length]=h),f[i]=!0}}return e},getAggregatedData:function(b,c,d){var e=d;e||(e=this.records);var f={},g=e.length;if(0!=g&&void 0!=g){for(var h=0;g>h;h++)for(var i=e[h],j=0;j<b.length;j++){var k=b[j],l=i[k.name];if(k.aggregates){f[k.name]=f[k.name]||{};var m=function(b){for(obj in b){var c=f[k.name][obj];null==c&&(f[k.name][obj]=0,c=0),a.isFunction(b[obj])&&(c=b[obj](c,l,k.name,i)),f[k.name][obj]=c}},n=parseFloat(l);n=isNaN(n)?!1:!0,n&&(l=parseFloat(l)),"number"==typeof l&&isFinite(l)?a.each(k.aggregates,function(){var a=f[k.name][this];if(null==a&&(a=0,"min"==this&&(a=9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)a+=parseFloat(l);else if("product"==this)0==h?a=parseFloat(l):a*=parseFloat(l);else if("min"==this)a=Math.min(a,parseFloat(l));else if("max"==this)a=Math.max(a,parseFloat(l));else if("count"==this)a++;else if("object"==typeof this)return m(this),void 0;f[k.name][this]=a}):a.each(k.aggregates,function(){return"min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this?(f[k.name][this]=0,!0):("object"==typeof this&&m(this),void 0)})}}for(var j=0;j<b.length;j++){var k=b[j];if(void 0!=f[k.name].avg){var l=f[k.name].avg;f[k.name].avg=l/e.length}else void 0!=f[k.name].count&&(f[k.name].count=g);(f[k.name].stdev||f[k.name].stdevp||f[k.name]["var"]||f[k.name].varp)&&a.each(k.aggregates,function(){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var a=f[k.name][this],b=g,c=a/g,d=0,h=0;g>h;h++){var i=e[h],j=i[k.name];d+=(j-c)*(j-c)}var l="stdevp"==this||"varp"==this?b:b-1;0==l&&(l=1),"var"==this||"varp"==this?f[k.name][this]=d/l:("stdevp"==this||"stdev"==this)&&(f[k.name][this]=Math.sqrt(d/l))}}),k.formatStrings&&a.each(k.aggregates,function(b){var d=k.formatStrings[b];if(d)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var e=f[k.name][this];f[k.name][this]=a.jqx.dataFormat.formatnumber(e,d,c)}else if("object"==typeof this)for(obj in this){var e=f[k.name][obj];f[k.name][obj]=a.jqx.dataFormat.formatnumber(e,d,c)}})}return f}},bindDownloadComplete:function(a,b){this._downloadComplete[this._downloadComplete.length]={id:a,func:b}},unbindDownloadComplete:function(a){for(var b=0;b<this._downloadComplete.length;b++)if(this._downloadComplete[b].id==a){this._downloadComplete[b].func=null,this._downloadComplete.splice(b,1);break}},callDownloadComplete:function(){for(var a=0;a<this._downloadComplete.length;a++){var b=this._downloadComplete[a];null!=b.func&&b.func()}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getGroupedRecords:function(b,c,d,e,f,g){for(var h=this,i=new Array,j=0;j<b.length;j++)i[j]=h.generatekey();c||(c="items"),d||(d="group"),f||(f="record"),g||(g="value");var k=new Array,l=0,m=new Array,n=b.length;new Array;for(var o=this.records,p=o.length,q=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},r=0;p>r;r++){var s=q(o[r]);id=s[h.uniqueId];var t=new Array,u=0;for(j=0;n>j;j++){var v=b[j],w=s[v];null!=w&&(t[u++]={value:w,hash:i[j]})}if(t.length!=n)break;for(var x=null,y="",z=-1,A=0;A<t.length;A++){z++;var B=t[A].value,C=t[A].hash;if(y=y+"_"+C+"_"+B,void 0==m[y]||null==m[y]){if(null==x)x={level:0},x[d]=B,x[f]=s,x[g]=s[g],x[c]=new Array,k[l++]=x;else{var D={parentItem:x,level:x.level+1};D[d]=B,D[c]=new Array,D[f]=s,D[g]=s[g],x[c][x[c].length]=D,x=D}m[y]=x}else x=m[y]}null!=x&&(s.parentItem=x,s.level=x.level+1,x[c][x[c].length]=s)}return k},getRecordsHierarchy:function(b,c,d,e){var f=new Array,g=this.records;if(0==this.records.length)return null;for(var h=null!=d?d:"items",i=[],j=g,k=j.length,l=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},m=0;k>m;m++){var n=a.extend({},j[m]),o=n[c],p=n[b];i[p]={parentid:o,item:n}}for(var m=0;k>m;m++){var n=a.extend({},j[m]),o=n[c],p=n[b];if(void 0!=i[o]){var n={parentid:o,item:i[p].item},q=i[o].item;q[h]||(q[h]=[]);var r=q[h].length,s=n.item,t=l(s);q[h][r]=t,i[o].item=q,i[p]=n}else{var s=i[p].item,t=l(s);f[f.length]=t}}return f},bindBindingUpdate:function(a,b){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:b}},unbindBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++)if(this._bindingUpdate[b].id==a){this._bindingUpdate[b].func=null,this._bindingUpdate.splice(b,1);
break}},callBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++){var c=this._bindingUpdate[b];null!=c.func&&c.func(a)}},getid:function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e}return d},loadjson:function(b,c,d){"string"==typeof b&&(b=a.parseJSON(b)),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b=b||c;b||(b=[]);var e=this;if(""!=d.root){if(void 0!=b[d.root]?b=b[d.root]:a.each(b,function(){return this==d.root?(b=this,!1):(void 0!=this[d.root]&&(b=this[d.root]),void 0)}),!b){var f=d.root.split(e.mapChar);if(f.length>0){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}}}else if(!b.length)for(obj in b)if(a.isArray(b[obj])){b=b[obj];break}if(null!=b&&void 0==b.length&&(b=a.makeArray(b)),null==b||void 0==b.length)return alert("JSON Parse error."),void 0;if(0==b.length)return this.totalrecords=0,void 0;var i=b.length;this.totalrecords=this.virtualmode?d.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var j=this.records,k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(k=0,i=this.totalrecords);var l=0;this.virtualmode&&(k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,l=k,k=0,i=this.totalrecords);var m=d.datafields?d.datafields.length:0;if(0==m){var n=b[0],o=new Array;for(obj in n){var p=obj;o[o.length]={name:p}}d.datafields=o,m=o.length}for(var q=k,r=k;i>r;r++){var s=b[r];if(void 0==s)break;if(!d.record||""==d.record||(s=s[d.record],void 0!=s)){var t=this.getid(d.id,s,r);if("object"==typeof t&&(t=r),!this.recordids[t]){this.recordids[t]=s;for(var u={},v=0;m>v;v++){var w=d.datafields[v],x="";if(void 0!=w&&null!=w){if(w.map){var f=w.map.split(e.mapChar);if(f.length>0){for(var y=s,h=0;h<f.length;h++)void 0!=y&&(y=y[f[h]]);x=y}else x=s[w.map];x=void 0!=x&&null!=x?x.toString():""}if(""==x&&(x=s[w.name],(void 0==x||null==x)&&(x=""),void 0!=w.value)){var z=x[w.value];void 0!=z&&(x=z)}x=this.getvaluebytype(x,w),void 0!=w.displayname?u[w.displayname]=x:u[w.name]=x}}(d.recordendindex<=0||k<d.recordendindex)&&(j[l+q]=a.extend({},u),j[l+q].uid=t,this.originaldata[l+q]=a.extend({},j[r]),q++)}}}this.records=j,this.cachedrecords=this.records},loadxml:function(b,c,d){"string"==typeof b&&(b=c=a(a.parseXML(b))),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b;b=a.jqx.browser.msie&&c?void 0!=c.xml?a(d.root+" "+d.record,a.parseXML(c.xml)):b||a(d.root+" "+d.record,c):b||a(d.root+" "+d.record,c),b||(b=[]);var e=b.length;if(0!=b.length){this.totalrecords=this.virtualmode?d.totalrecords||e:e,this.records=new Array,this.originaldata=new Array;var f=this.records,g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(g=0,e=this.totalrecords);var h=0;this.virtualmode&&(g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,h=g,g=0,e=this.totalrecords);var i=d.datafields?d.datafields.length:0;if(0==i){var j=b[0],k=new Array;for(obj in j){var l=obj;k[k.length]={name:l}}d.datafields=k,i=k.length}for(var m=g,n=g;e>n;n++){var o=b[n];if(void 0==o)break;var p=this.getid(d.id,o,n);if(!this.recordids[p]){this.recordids[p]=o;for(var q={},r=0;i>r;r++){var s=d.datafields[r],t="";void 0!=s&&null!=s&&(s.map&&(t=a(s.map,o).text()),""==t&&(t=a(s.name,o).text()),t=this.getvaluebytype(t,s),void 0!=s.displayname?q[s.displayname]=t:q[s.name]=t)}(d.recordendindex<=0||g<d.recordendindex)&&(f[h+m]=a.extend({},q),f[h+m].uid=p,this.originaldata[h+m]=a.extend({},f[n]),m++)}}this.records=f,this.cachedrecords=this.records}},loadtext:function(b,c){if(null!=b){var d=c.rowDelimiter||this.rowDelimiter||"\n",e=b.split(d),f=e.length;this.totalrecords=this.virtualmode?c.totalrecords||f:f,this.records=new Array,this.originaldata=new Array;var g=this.records,h=this.pageable?this.pagesize*this.pagenum:c.recordstartindex;this.recordids=new Array,c.loadallrecords&&(h=0,f=this.totalrecords);var i=0;this.virtualmode&&(h=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,i=h,h=0,f=this.totalrecords);var j=c.datafields.length,k=c.columnDelimiter||this.columnDelimiter;k||(k="tab"===c.datatype?"	":",");for(var l=h;f>l;l++){var m=e[l],n=this.getid(c.id,m,l);if(!this.recordids[n]){this.recordids[n]=m;for(var o={},p=e[l].split(k),q=0;j>q;q++)if(!(q>=p.length)){var r=c.datafields[q],s=p[q];r.type&&(s=this.getvaluebytype(s,r));var t=r.map||r.name||q.toString();o[t]=s}g[i+l]=a.extend({},o),g[i+l].uid=n,this.originaldata[i+l]=a.extend({},g[l])}}this.records=g,this.cachedrecords=this.records}},getvaluebytype:function(b,c){var d=b;if("date"==c.type){var e=new Date(b);if("string"==typeof b&&c.format){var f=a.jqx.dataFormat.parsedate(b,c.format);null!=f&&(e=f)}b="NaN"==e.toString()||"Invalid Date"==e.toString()?a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):e:e,null==b&&(b=d)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else("bool"==c.type||"boolean"==c.type)&&(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b&&""!==b?!1:"");return b}},a.jqx.dataFormat={},a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return"boolean"==typeof a},isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"==typeof a},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(b){return!this.isString(b)&&this.isValue(b)?!1:this.isValue(b)?(b=a.trim(b).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===b):!0},startsWith:function(a,b){return 0===a.indexOf(b)},endsWith:function(a,b){return a.substr(a.length-b.length)===b},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return"[object Array]"===this.toString.call(a)},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},getEra:function(a,b){if(!b)return 0;if("string"==typeof a)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},toUpper:function(a){return a.split("Â ").join(" ").toUpperCase()},toUpperArray:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=this.toUpper(a[c]);return b},getEraYear:function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},getDayIndex:function(a,b,c){var d,e=a.days,f=a._upperDays;return f||(a._upperDays=f=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr),this.toUpperArray(e.namesShort)]),b=toUpper(b),c?(d=this.arrayIndexOf(f[1],b),-1===d&&(d=this.arrayIndexOf(f[2],b))):d=this.arrayIndexOf(f[0],b),d},getMonthIndex:function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,f=a._upperMonths,g=a._upperMonthsGen;f||(a._upperMonths=f=[this.toUpperArray(d.names),this.toUpperArray(d.namesAbbr)],a._upperMonthsGen=g=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)]),b=this.toUpper(b);var h=this.arrayIndexOf(c?f[1]:f[0],b);return 0>h&&(h=this.arrayIndexOf(c?g[1]:g[0],b)),h},appendPreOrPostMatch:function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(a,b){var c="";return b&&b.target&&(c="target="+b.target),""!=c?"<a "+c+' href="'+a+'">'+a+"</a>":'<a href="'+a+'">'+a+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatnumber:function(a,b,c){(void 0==c||null==c||""==c)&&(c=this.defaultcalendar()),this.isNumber(a)||(a*=1);var d;b.length>1&&(d=parseInt(b.slice(1),10));var e={},f=b.charAt(0).toUpperCase();switch(e.thousandsSeparator=c.thousandsseparator,e.decimalSeparator=c.decimalseparator,f){case"D":case"d":case"F":case"f":e.decimalPlaces=d;break;case"N":case"n":e.decimalPlaces=0;break;case"C":case"c":e.decimalPlaces=d,"before"==c.currencysymbolposition?e.prefix=c.currencysymbol:e.suffix=c.currencysymbol;break;case"P":case"p":e.suffix=c.percentsymbol,e.decimalPlaces=d;break;default:throw"Bad number format specifier: "+f}if(this.isNumber(a)){var g,h=0>a,i=a+"",j=e.decimalSeparator?e.decimalSeparator:".";if(this.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);if(i=Math.round(a*l)/l+"",g=i.lastIndexOf("."),k>0)for(0>g?(i+=j,g=i.length-1):"."!==j&&(i=i.replace(".",j));i.length-1-g<k;)i+="0"}if(e.thousandsSeparator){var m=e.thousandsSeparator;g=i.lastIndexOf(j),g=g>-1?g:i.length;for(var n=i.substring(g),o=-1,p=g;p>0;p--)o++,0===o%3&&p!==g&&(!h||p>1)&&(n=m+n),n=i.charAt(p-1)+n;i=n}return i=e.prefix?e.prefix+i:i,i=e.suffix?i+e.suffix:i}return a},tryparsedate:function(a,b){(void 0==b||null==b)&&(b=this.defaultcalendar());var c=this;if(""==a)return null;if(null==a||a.substring||(a=a.toString()),null!=a&&"/Date("==a.substring(0,6)){var d=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,e=new Date(+a.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==e){var f=a.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),e=null;f&&(e=new Date(1*f[1]+36e5*f[2]+6e4*f[3]))}if(null==e||"Invalid Date"==e||isNaN(e)){var g=d.exec(a);if(g){var h=new Date(parseInt(g[1]));if(g[2]){var i=parseInt(g[3]);"-"===g[2]&&(i=-i);var j=h.getUTCMinutes();h.setUTCMinutes(j-i)}if(!isNaN(h.valueOf()))return h}}return e}patterns=b.patterns;for(prop in patterns)if(e=c.parsedate(a,patterns[prop],b))return e;if(null!=a){for(var k=[":","/","-"],l=!0,m=0;m<k.length;m++)-1!=a.indexOf(k[m])&&(l=!1);if(l){var n=new Number(a);if(!isNaN(n))return new Date(n)}}return null},getparseregexp:function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=this.expandFormat(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=this.getTokenRegExp();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=this.appendPreOrPostMatch(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}this.appendPreOrPostMatch(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},outOfRange:function(a,b,c){return b>a||a>c},expandYear:function(a,b){var c=new Date,d=getEra(c);if(100>b){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=this.getEraYear(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},parsedate:function(a,b,c){(void 0==c||null==c)&&(c=this.defaultcalendar()),a=this.trim(a);var d=c,e=this.getparseregexp(d,b),f=new RegExp(e.regExp).exec(a);if(null===f)return null;for(var g,h=e.groups,i=null,j=null,k=null,l=null,m=null,n=0,o=0,p=0,q=0,r=null,s=!1,t=0,u=h.length;u>t;t++){var v=f[t+1];if(v){var w=h[t],x=w.length,y=parseInt(v,10);switch(w){case"dd":case"d":if(l=y,this.outOfRange(l,1,31))return null;break;case"MMM":case"MMMM":if(k=this.getMonthIndex(d,v,3===x),this.outOfRange(k,0,11))return null;break;case"M":case"MM":if(k=y-1,this.outOfRange(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(j=4>x?this.expandYear(d,y):y,this.outOfRange(j,0,9999))return null;break;case"h":case"hh":if(n=y,12===n&&(n=0),this.outOfRange(n,0,11))return null;break;case"H":case"HH":if(n=y,this.outOfRange(n,0,23))return null;break;case"m":case"mm":if(o=y,this.outOfRange(o,0,59))return null;break;case"s":case"ss":if(p=y,this.outOfRange(p,0,59))return null;break;case"tt":case"t":if(s=d.PM&&(v===d.PM[0]||v===d.PM[1]||v===d.PM[2]),!s&&(!d.AM||v!==d.AM[0]&&v!==d.AM[1]&&v!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(q=y*Math.pow(10,3-x),this.outOfRange(q,0,999))return null;break;case"ddd":case"dddd":if(m=this.getDayIndex(d,v,3===x),this.outOfRange(m,0,6))return null;break;case"zzz":var z=v.split(/:/);if(2!==z.length)return null;if(g=parseInt(z[0],10),this.outOfRange(g,-12,13))return null;var A=parseInt(z[1],10);if(this.outOfRange(A,0,59))return null;r=60*g+(startsWith(v,"-")?-A:A);break;case"z":case"zz":if(g=y,this.outOfRange(g,-12,13))return null;r=60*g;break;case"g":case"gg":var B=v;if(!B||!d.eras)return null;B=trim(B.toLowerCase());for(var C=0,D=d.eras.length;D>C;C++)if(B===d.eras[C].name.toLowerCase()){i=C;break}if(null===i)return null}}}var E,F=new Date,G=d.convert;if(E=F.getFullYear(),null===j?j=E:d.eras&&(j+=d.eras[i||0].offset),null===k&&(k=0),null===l&&(l=1),G){if(F=G.toGregorian(j,k,l),null===F)return null}else{if(F.setFullYear(j,k,l),F.getDate()!==l)return null;if(null!==m&&F.getDay()!==m)return null}if(s&&12>n&&(n+=12),F.setHours(n,o,p,q),null!==r){var H=F.getMinutes()-(r+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(H/60,10),H%60)}return F},cleardatescache:function(){this.datescache=new Array},formatdate:function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=m[b-2]+d,c.substr(c.length-b,b)):c=d}function e(a,b){if(l)return l[b];if(void 0!=a.getMonth)switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if((void 0==c||null==c)&&(c=this.defaultcalendar()),"string"==typeof a)return a;var f=a.toString()+"_"+b;if(this.datescache&&this.datescache[f])return this.datescache[f];if(!b||!b.length||"i"===b){var g;return g=this.formatDate(a,c.patterns.F,culture)}var h=c.eras,i="s"===b;b=this.expandFormat(c,b),g=[];for(var j,k,l,m=["0","00","000"],n=0,o=this.getTokenRegExp();;){var p=o.lastIndex,q=o.exec(b),r=b.slice(p,q?q.index:b.length);if(n+=this.appendPreOrPostMatch(r,g),!q)break;if(n%2)g.push(q[0]);else{var s=q[0],t=s.length;switch(s){case"ddd":case"dddd":var u=3===t?c.days.namesAbbr:c.days.names;g.push(u[a.getDay()]);break;case"d":case"dd":k=!0,g.push(d(e(a,2),t));break;case"MMM":case"MMMM":var v=e(a,1);g.push(c.months[3===t?"namesAbbr":"names"][v]);break;case"M":case"MM":g.push(d(e(a,1)+1,t));break;case"y":case"yy":case"yyyy":v=this.getEraYear(a,c,this.getEra(a,h),i),4>t&&(v%=100),g.push(d(v,t));break;case"h":case"hh":j=a.getHours()%12,0===j&&(j=12),g.push(d(j,t));break;case"H":case"HH":g.push(d(a.getHours(),t));break;case"m":case"mm":g.push(d(a.getMinutes(),t));break;case"s":case"ss":g.push(d(a.getSeconds(),t));break;case"t":case"tt":v=a.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",g.push(1===t?v.charAt(0):v);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,t));break;case"z":case"zz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),t));break;case"zzz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&g.push(c.eras[getEra(a,h)].name);break;case"/":g.push(c["/"]);break;default:throw"Invalid date format pattern '"+s+"'."}}}var w=g.join("");return this.datescache||(this.datescache=new Array),this.datescache[f]=w,w}})}(jQuery),function(a){a.jqx.jqxWidget("jqxDateTimeInput","",{}),a.extend(a.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){void 0==this.value&&(this.value=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),void 0==this.minDate&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1)),void 0==this.maxDate&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(new Date),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1)),void 0==this.firstDayOfWeek&&(this.firstDayOfWeek=0),void 0==this.showWeekNumbers&&(this.showWeekNumbers=!1),this.cookies=!1,this.cookieoptions=null,this.showFooter=!1,void 0==this.formatString&&(this.formatString="dd/MM/yyyy"),void 0==this.width&&(this.width=null),void 0==this.height&&(this.height=null),void 0==this.dayNameFormat&&(this.dayNameFormat="firstTwoLetters"),void 0==this.textAlign&&(this.textAlign="left"),void 0==this.readonly&&(this.readonly=!1),void 0==this.culture&&(this.culture="default"),this.activeEditor=this.activeEditor||null,void 0==this.showCalendarButton&&(this.showCalendarButton=!0),void 0==this.openDelay&&(this.openDelay=350),void 0==this.closeDelay&&(this.closeDelay=400),void 0==this.closeCalendarAfterSelection&&(this.closeCalendarAfterSelection=!0),this.isEditing=!1,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.enableAbsoluteSelection=!1,this.disabled=!1,this.buttonSize=18,this.animationType="slide",this.dropDownWidth="200px",this.dropDownHeight="200px",this.selectionMode="default",this.rtl=!1,this._editor=!1,this.todayString="Today",this.clearString="Clear",this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close"]},createInstance:function(){this.render()},render:function(){this._removeHandlers(),this.element.innerHTML="",this.host.attr({role:"dateTimeInput"}),this.id=a.jqx.utilities.createId();var b=this.createID(),c=this.createID(),d=a("<div style='overflow: hidden; border: 0px;'><div id='dateTimeWrapper' style='float: none; position: relative; width: 100%; height: 100%;'><div id='dateTimeContent"+b+"' style='position: relative; overflow: hidden; float: left;'/><div id='dateTimeButton"+c+"' style='position: relative; float: right;'/></div></div>");this._setSize(),null==this.width&&(this.width=this.host.width(),this.host.width(this.width)),this.touch=a.jqx.mobile.isTouchDevice(),this.host.append(d),this.dateTimeWrapper=this.host.find("#dateTimeWrapper"),this.inputElement=this.host.find("#dateTimeContent"+b),this.calendarElement=this.host.find("#dateTimeButton"+c),this.dateTimeInput=a("<input autocomplete='off' style='position: relative; border: none; margin: 0; padding: 0;' id='inputElement' class='jqx-input-content' type='textarea'/>").appendTo(this.inputElement),this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-content")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-content")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-widget-content"));var e=this.host.attr("name");e||(e=this.element.id),this.dateTimeInput.attr("name",e),this.rtl&&(this.dateTimeInput.css("direction","rtl"),this.dateTimeInput.addClass("jqx-rtl"),this.inputElement.css("float","right"),this.calendarElement.css("float","left")),this.inputElement.addClass(this.toThemeProperty("jqx-input")),this.inputElement.addClass(this.toThemeProperty("jqx-widget-content")),this.inputElement.addClass(this.toThemeProperty("jqx-rc-all")),this.inputElement.height(this.host.height()-2),this.calendarButton=a("<div style='padding: 0px; margin: 0px; top: 0; font-size: 3px; position: relative;' class='jqx-input-button-header'><div style='position: relative; font-size: 3px;' class='jqx-input-button-innerheader'></div></div><div style='padding: 0px; margin: 0px; top: 0; position: relative;' class='jqx-input-button-content'/>").appendTo(this.calendarElement),this.calendarButtonContent=this.host.find(".jqx-input-button-content"),this.calendarButtonHeader=this.host.find(".jqx-input-button-header"),this.calendarButtonInnerHeader=this.host.find(".jqx-input-button-innerheader"),this.calendarButtonContent.removeClass(this.toThemeProperty("jqx-input-button-content")),this.calendarButtonContent.addClass(this.toThemeProperty("jqx-input-button-content")),this.calendarButtonContent.removeClass(this.toThemeProperty("jqx-widget-content")),this.calendarButtonContent.addClass(this.toThemeProperty("jqx-widget-content")),this.calendarButtonHeader.removeClass(this.toThemeProperty("jqx-input-button-header")),this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-input-button-header")),this.calendarButtonHeader.removeClass(this.toThemeProperty("jqx-widget-header")),this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-widget-header")),this.calendarButtonInnerHeader.removeClass(this.toThemeProperty("jqx-input-button-innerHeader")),this.calendarButtonInnerHeader.addClass(this.toThemeProperty("jqx-input-button-innerHeader"));var f=this;if(this._arrange(),this.addHandler(this.host,"loadContent",function(){f._arrange()}),this.showCalendarButton?this.calendarButton.css("display","block"):this.calendarButton.css("display","none"),null!=a.jqx._jqxCalendar&&void 0!=a.jqx._jqxCalendar)try{var g="calendar"+this.id,h=a(a.find("#"+g));h.length>0&&h.remove();var i=a("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+this.id+"'><div id='innerCalendar"+this.id+"'></div></div>");"opera"==a.jqx.utilities.getBrowser().browser&&i.hide(),i.appendTo(document.body),this.container=i,this.calendarContainer=a(a.find("#innerCalendar"+this.id)).jqxCalendar({todayString:this.todayString,clearString:this.clearString,dayNameFormat:this.dayNameFormat,rtl:this.rtl,culture:this.culture,showFooter:this.showFooter,selectionMode:this.selectionMode,firstDayOfWeek:this.firstDayOfWeek,showWeekNumbers:this.showWeekNumbers,width:this.dropDownWidth,height:this.dropDownHeight,theme:this.theme}),this.calendarContainer.css({position:"absolute",zIndex:1e5,top:0,left:0}),this.calendar=a.data(this.calendarContainer[0],"jqxCalendar").instance;var f=this;this.calendar.today=function(){f.setDate(new Date),f.hideCalendar()},this.calendar.clear=function(){f.setDate(null),f.hideCalendar()},this.calendar.render(),"opera"==a.jqx.utilities.getBrowser().browser&&i.show(),i.height(parseInt(this.calendarContainer.height())+25),i.width(parseInt(this.calendarContainer.width())+25),"range"==this.selectionMode&&(this.readonly=!0),"none"==this.animationType?this.container.css("display","none"):this.container.hide()}catch(j){}if(null==a.global||void 0==a.global)throw"jquery.global.js is not loaded.";if(a.global.preferCulture(this.culture),this.selectedText="",this._addHandlers(),this.self=this,this.oldValue=this.getDate(),this.items=new Array,this.editors=new Array,this.value&&this.calendarButtonContent.html("<div style='line-height: 16px;  color: inherit; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'>"+this.value.day+"</b></div>"),this._loadItems(),this.editorText="",1==this.readonly&&this.dateTimeInput.css("readonly",this.readonly),this.dateTimeInput.css("text-align",this.textAlign),this.host.addClass(this.toThemeProperty("jqx-widget")),this.propertyChangeMap.disabled=function(a,b,c,d){d?(a.host.addClass(f.toThemeProperty("jqx-input-disabled")),a.dateTimeInput.addClass(f.toThemeProperty("jqx-input-disabled")),a.host.addClass(f.toThemeProperty("jqx-fill-state-disabled"))):(a.host.removeClass(f.toThemeProperty("jqx-fill-state-disabled")),a.host.removeClass(f.toThemeProperty("jqx-input-disabled")),a.dateTimeInput.removeClass(f.toThemeProperty("jqx-input-disabled")))},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-input-disabled")),this.host.addClass(this.toThemeProperty("jqx-input-disabled")),this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-disabled"))),this.host.parents("form").length>0&&this.host.parents("form").on("reset",function(){setTimeout(function(){f.setDate(new Date)},10)}),this.cookies){var k=a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id);null!=k&&this.setDate(new Date(k))}if(a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0){var l=this.host.parents(".jqx-window").css("z-index");i.css("z-index",l+10),this.calendarContainer.css("z-index",l+10)}},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height)),b){var c=this;if(this.calendarContainer){this.refresh(!1);var d=this.host.width();"auto"!=this.dropDownWidth&&(d=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:d}),this.container.width(parseInt(d)+25)}var e=function(){if(c.calendarContainer&&(c._arrange(),"auto"==c.dropDownWidth)){var a=c.host.width();c.calendarContainer.jqxCalendar({width:a}),c.container.width(parseInt(a)+25)}};a(window).off("resize."+this.id),a(window).on("resize."+this.id,function(){e()})}},_arrange:function(){var a=parseInt(this.host.width()),b=parseInt(this.host.height()),c=this.buttonSize,d=3;this.calendarButtonHeader.width(c),this.calendarButtonContent.height(c-d),this.calendarButtonContent.width(c),this.inputElement.height(b-2);var e=parseInt(this.inputElement.outerHeight())-parseInt(this.inputElement.height());e=0;var f=a-parseInt(this.calendarButton.outerWidth())-1*d;f>0&&this.inputElement.width(f+"px"),this.dateTimeInput.width(f-d+"px"),this.dateTimeInput.css("left",0),this.dateTimeInput.css("top",0),this.inputElement.css("left",0),this.inputElement.css("top",0);var g=parseInt(this.calendarButtonHeader.outerWidth())/2-parseInt(this.calendarButtonInnerHeader.outerWidth())/2;this.calendarButtonInnerHeader.css("left",g);var h=parseInt(this.calendarButtonContent.outerHeight())+parseInt(this.calendarButtonHeader.outerHeight()),i=parseInt(this.inputElement.outerHeight())/2-h/2;this.calendarElement.css("top",parseInt(i)+"px");var j=this.dateTimeInput.outerHeight();0==j&&(j=parseInt(this.dateTimeInput.css("font-size"))+3);var k=parseInt(this.inputElement.height())/2-parseInt(j)/2;this.dateTimeInput.css("margin","0px"),this.dateTimeInput.css("padding","0px"),this.dateTimeInput.css("top",parseInt(k))},_removeHandlers:function(){this.removeHandler(a(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown"))},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXCalendar"+this.id);return null!=c&&c==b.calendarContainer?!0:!1},wheel:function(a,b){var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d?!1:(a.preventDefault&&a.preventDefault(),a.returnValue=!1,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){return 0>a?this.spinDown():this.spinUp(),!1},focus:function(){try{this.dateTimeInput.focus()}catch(a){}},_addHandlers:function(){this.element.id,this.element;var b=this;this.addHandler(this.host,"mousewheel",function(a){b.wheel(a,b)}),this.addHandler(a(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(c){var d=a.data(document.body,"openedJQXCalendar"+b.id);if(null!=d&&d==b.calendarContainer){var e=b.handleCalendarKey(c,b);return e}}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(a){if(13==a.keyCode)return b.isOpened()?(b.hideCalendar("selected"),b.dateTimeInput.focus(),!1):!0;if(27==a.keyCode)return b.isOpened()?(b.hideCalendar(),b.dateTimeInput.focus(),!1):!0;if(115==a.keyCode){if(b.isOpened())return b.hideCalendar(),b.dateTimeInput.focus(),!1;if(!b.isOpened())return b.showCalendar(),b.dateTimeInput.focus(),!1}if(a.altKey)if(38==a.keyCode){if(b.isOpened())return b.hideCalendar(),b.dateTimeInput.focus(),!1}else if(40==a.keyCode&&!b.isOpened())return b.showCalendar(),b.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(c){b.closeCalendarAfterSelection&&(a.data(document.body,"openedJQXCalendarValue"),"mouse"==c.args.selectionType&&("default"==b.selectionMode?b.hideCalendar("selected"):0==b.calendar._clicks&&b.hideCalendar("selected")))}),this.addHandler(this.calendarContainer,"cellMouseDown",function(){b.closeCalendarAfterSelection&&b.calendar.value&&a.data(document.body,"openedJQXCalendarValue",new a.jqx._jqxDateTimeInput.getDateTime(b.calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(){null!=b.value&&(b.isEditing=!1,b._validateValue(),b._updateText(),b.inputElement.removeClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.dateTimeInput,"focus",function(a){if(null!=b.value){var c=b._selection();b.isEditing=!0,b._validateValue(),b._updateText(),b._setSelectionStart(c.start),b._selectGroup(-1),b.inputElement.addClass(b.toThemeProperty("jqx-fill-state-focus"))}return a.preventDefault?(a.preventDefault(),!1):void 0});var c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,c,function(a){var c=b.container,d="block"==c.css("display");b.disabled||b.isanimating||(d?b.hideCalendar():(b.showCalendar(),a.preventDefault()))}),this.addHandler(this.dateTimeInput,"mousedown",function(a){return b._raiseEvent(2,a)}),this.addHandler(this.dateTimeInput,"mouseup",function(a){return b._raiseEvent(3,a)}),this.addHandler(this.dateTimeInput,"keydown",function(a){return b._raiseEvent(4,a)}),this.addHandler(this.dateTimeInput,"keyup",function(a){return b._raiseEvent(5,a)
}),this.addHandler(this.dateTimeInput,"keypress",function(a){return b._raiseEvent(6,a)})},createID:function(){var a=Math.random()+"";return a=a.replace(".",""),a="99"+a,a/=1,"dateTimeInput"+a},setMaxDate:function(b){null!=b&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this.calendar&&this.calendar.setMaxDate(b))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(b){null!=b&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this.calendar&&this.calendar.setMinDate(b))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},propertyChangedHandler:function(a,b,c,d){void 0!=a.isInitialized&&0!=a.isInitialized&&("rtl"==b&&(a.calendarContainer.jqxCalendar({rtl:d}),d?(a.dateTimeInput.css("direction","rtl"),a.dateTimeInput.addClass("jqx-rtl"),a.inputElement.css("float","right"),a.calendarElement.css("float","left")):(a.dateTimeInput.css("direction","ltr"),a.dateTimeInput.removeClass("jqx-rtl"),a.inputElement.css("float","left"),a.calendarElement.css("float","right"))),("todayString"==b||"clearString"==b)&&a.calendarContainer.jqxCalendar({clearString:a.clearString,todayString:a.todayString}),"dayNameFormat"==b&&a.calendarContainer.jqxCalendar({dayNameFormat:d}),"firstDayOfWeek"==b&&a.calendarContainer.jqxCalendar({firstDayOfWeek:d}),"showWeekNumbers"==b&&a.calendarContainer.jqxCalendar({showWeekNumbers:d}),"culture"==b?(a._loadItems(),null!=a.calendar&&(a.calendar.culture=d,a.calendar.render())):"formatString"==b&&a._loadItems(),"theme"==b&&a.dateTimeInput&&(a.host.removeClass(),a.host.addClass(a.toThemeProperty("jqx-widget")),a.dateTimeInput.removeClass(),a.dateTimeInput.addClass(a.toThemeProperty("jqx-input-content")),a.dateTimeInput.addClass(a.toThemeProperty("jqx-widget-content")),a.inputElement.removeClass(),a.inputElement.addClass(a.toThemeProperty("jqx-input")),a.inputElement.addClass(a.toThemeProperty("jqx-widget-content")),a.inputElement.addClass(a.toThemeProperty("jqx-rc-all")),a.calendarButtonContent.removeClass(),a.calendarButtonContent.addClass(a.toThemeProperty("jqx-input-button-content")),a.calendarButtonContent.addClass(a.toThemeProperty("jqx-widget-content")),a.calendarButtonHeader.removeClass(),a.calendarButtonHeader.addClass(a.toThemeProperty("jqx-input-button-header")),a.calendarButtonHeader.addClass(a.toThemeProperty("jqx-widget-header")),a.calendarButtonInnerHeader.removeClass(),a.calendarButtonInnerHeader.addClass(a.toThemeProperty("jqx-input-button-innerHeader")),a.calendarContainer.jqxCalendar({theme:d})),("width"==b||"height"==b)&&a.refresh(),a._setOption(b,d),("dropDownWidth"==b||"dropDownHeight"==b)&&(a.calendarContainer.jqxCalendar({width:a.dropDownWidth,height:a.dropDownHeight}),a.calendar.render(),a.container.height(a.calendarContainer.height()),a.container.width(a.calendarContainer.width())))},setDate:function(b){return null==b||"null"==b||"undefined"==b?(null!=this.value&&(this.value=null,this.calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._raiseEvent("0",b)),void 0):(b<this.getMinDate()||b>this.getMaxDate()||(null==this.value&&(this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),b.getFullYear&&(this.value._setYear(b.getFullYear()),this.value._setDay(1),this.value._setMonth(b.getMonth()+1),this.value._setHours(b.getHours()),this.value._setMinutes(b.getMinutes()),this.value._setSeconds(b.getSeconds()),this.value._setMilliseconds(b.getMilliseconds()),this.value._setDay(b.getDate())),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._raiseEvent("0",b)),void 0)},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(a,b){this.calendar.setRange(a,b);var c=a;c.getFullYear&&(this.value._setYear(c.getFullYear()),this.value._setMonth(c.getMonth()+1),this.value._setHours(c.getHours()),this.value._setMinutes(c.getMinutes()),this.value._setSeconds(c.getSeconds()),this.value._setMilliseconds(c.getMilliseconds()),this.value._setDay(c.getDate())),this._raiseEvent("0",this.value.dateTime)},getRange:function(){return this.calendar.getRange()},_validateValue:function(){var a=!1;for(i=0;i<this.items.length;i++){var b=this.editors[i].value;switch(this.items[i].type){case"FORMAT_AMPM":0>b?b=0:b>1&&(b=1);break;case"Character":break;case"Day":1>b?b=1:b>31&&(b=31);break;case"FORMAT_hh":case"FORMAT_HH":0>b?b=0:b>23&&(b=23);break;case"Millisecond":0>b?b=0:b>99&&(b=99);break;case"Minute":0>b?b=0:b>59&&(b=59);break;case"Month":1>b?b=1:b>12&&(b=12);break;case"ReadOnly":break;case"Second":0>b?b=0:b>59&&(b=59);break;case"Year":b<this.minDate.year?b=this.minDate.year:b>this.maxDate.year&&(b=this.maxDate.year)}this.editors[i].value!=b&&(this.editors[i].value=b,a=!0)}this.updateValue(),null!=this.value&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()))},spinUp:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(-1==b)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},spinDown:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(-1==b)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},_passKeyToCalendar:function(a){if(13==a.keyCode)return this.hideCalendar("selected"),!0;if(27==a.keyCode){this.calendarContainer;var b=this.calendar,c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,b.setDate(this.value.dateTime),this.closeCalendarAfterSelection=c,this.hideCalendar()}var c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var d=this.calendar._handleKey(a);return this.closeCalendarAfterSelection=c,d},handleCalendarKey:function(b,c){a(b.target);var d=a.data(document.body,"openedJQXCalendar"+this.id);if(null!=d&&d.length>0){var e=c._passKeyToCalendar(b);return e}return!0},_findPos:function(b){if(null!=b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).offset();return[c.left,c.top]}},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.offset().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.offset().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+23):0),c},open:function(){this.showCalendar()},close:function(){this.hideCalendar()},hide:function(){this.close()},show:function(){this.open()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showCalendar:function(){var b=this.calendarContainer,c=this.calendar;this.container;var d=this;a(window).scrollTop(),a(window).scrollLeft();var e=parseInt(this._findPos(this.inputElement[0])[1])+parseInt(this.inputElement.outerHeight())-1+"px",f=parseInt(this.host.offset().left)+"px",g=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();"0px"!=a("body").css("border-top-width")&&(e=parseInt(e)+this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)+this._getBodyOffset().left+"px");var h=a.jqx.utilities.hasTransform(this.host);(h||null!=g&&g)&&(f=a.jqx.mobile.getLeftPos(this.element),e=a.jqx.mobile.getTopPos(this.element)+parseInt(this.inputElement.outerHeight())),this.container.css("left",f),this.container.css("top",e);var i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,this.isEditing=!1,this._validateValue(),this._updateText();var j=null!=this.value?this.value.dateTime:new Date;"default"==d.selectionMode&&c.setDate(j),this.closeCalendarAfterSelection=i;var k=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var l=this.container.outerWidth(),m=Math.abs(l-this.host.outerWidth()+2);if(this.rtl||(m-=2),l>this.host.width()){var n=this.rtl?23:2;this.container.css("left",n+parseInt(f)-m+"px")}else this.container.css("left",25+parseInt(f)+m+"px")}if(this.enableBrowserBoundsDetection){var o=this.testOffset(b,{left:parseInt(this.container.css("left")),top:parseInt(e)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=o.top?(k=!0,b.css("top",23)):b.css("top",0),this.container.css("top",o.top),parseInt(this.container.css("left"))!=o.left&&this.container.css("left",o.left)}if(this._raiseEvent(7,b),"none"!=this.animationType){this.container.css("display","block");var p=parseInt(b.outerHeight());b.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(b.css("margin-top",0),b.css("opacity",0),b.animate({opacity:1},this.openDelay,function(){d.isanimating=!1,d.opening=!1,a.data(document.body,"openedJQXCalendar"+d.id,b),d.calendarContainer.focus()})):(b.css("opacity",1),k?b.css("margin-top",p):b.css("margin-top",-p),b.animate({"margin-top":0},this.openDelay,function(){d.isanimating=!1,d.opening=!1,a.data(document.body,"openedJQXCalendar"+d.id,b),d.calendarContainer.focus()}))}else b.stop(),d.isanimating=!1,d.opening=!1,b.css("opacity",1),b.css("margin-top",0),this.container.css("display","block"),a.data(document.body,"openedJQXCalendar"+d.id,b),this.calendarContainer.focus();null==this.value&&this.calendar&&this.calendar._getSelectedCell()&&(this.calendar._getSelectedCell().isSelected=!1)},hideCalendar:function(b){var c=this.calendarContainer,d=this.container,e=this;if(a.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var f=c.outerHeight();c.css("margin-top",0),this.isanimating=!0;var g=-f;parseInt(this.container.offset().top)<parseInt(this.host.offset().top)&&(g=f),"fade"==this.animationType?c.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1}):c.animate({"margin-top":g},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1})}else d.css("display","none");void 0!=b&&this._updateSelectedDate(),this._raiseEvent(8,c)},_updateSelectedDate:function(){var b=this.value;null==b&&(b=new a.jqx._jqxDateTimeInput.getDateTime(new Date),b._setHours(0),b._setMinutes(0),b._setSeconds(0),b._setMilliseconds(0));var c=b.hour,d=b.minute,e=b.second,f=b.millisecond;if("range"==this.selectionMode&&null==this.calendar.getRange().from)return this.setDate(null),void 0;var g=new a.jqx._jqxDateTimeInput.getDateTime(this.calendar.value.dateTime);g._setHours(c),g._setMinutes(d),g._setSeconds(e),g._setMilliseconds(f),this.setDate(g.dateTime)},_closeOpenedCalendar:function(b){var c=a(b.target),d=a.data(document.body,"openedJQXCalendar"+b.data.me.id),e=!1;if(a.each(c.parents(),function(){return-1!=this.className.indexOf("jqx-calendar")?(e=!0,!1):-1!=this.className.indexOf("jqx-input")?(e=!0,!1):void 0}),a(b.target).ischildof(b.data.me.host))return!0;if(null!=b.target&&("B"==b.target.tagName||"b"==b.target.tagName)){var f=b.data.me.host.offset(),g=b.data.me.host.width(),h=b.data.me.host.height(),i=parseInt(f.top),j=parseInt(f.left);if(i<=b.pageY&&b.pageY<=i+h&&j<=b.pageX&&b.pageX<=j+g)return!0}if(null!=d&&!e&&d.length>0){var k=d[0].id.toString(),l=k.toString().substring(13);a(document).find("#"+l),b.data.me.hideCalendar(),a.data(document.body,"openedJQXCalendar"+b.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var a=this._getFormatValue(this.formatString);for(this.items=this._parseFormatValue(a),this.editors=new Array,i=0;i<this.items.length;i++){var b=this.items[i].getDateTimeEditorByItemType(this.value);this.editors[i]=b}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var b="";if(0==this.items.length&&null!=this.value&&this._loadItems(),null!=this.value){this.items.length>=1&&(b=this.format(this.value,0,this.items.length));var c=this.dateTimeInput.val();c!=b&&this._raiseEvent(1,this.value)}if("range"==this.selectionMode){var d=this.getRange();if(fromText=this.format(this.value,0,this.items.length),d.to){var e=a.jqx._jqxDateTimeInput.getDateTime(d.from);fromText=this.format(e,0,this.items.length);var f=a.jqx._jqxDateTimeInput.getDateTime(d.to);toText=this.format(f,0,this.items.length);var b=fromText+" - "+toText}}this.dateTimeInput.val(b)},format:function(a,b,c){var d="";for(i=b;c>i;++i){var e=this.items[i].dateParser(a);if(this.isEditing&&"ReadOnly"!=this.items[i].type){var f="Day"==this.items[i].type&&this.items[i].format.length>2;if("FORMAT_AMPM"==this.items[i].type&&(f=!0),!f)for(e=this.items[i].dateParserInEditMode(new Number(this.editors[i].value),"d"+this.editors[i].maxEditPositions);e.length<this.editors[i].maxEditPositions;)e="0"+e}d+=e}return d},_getFormatValueGroupLength:function(a){for(i=1;i<a.toString().length;++i)if(a.substring(i,i+1)!=a.substring(0,1))return i;return a.length},_parseFormatValue:function(b){for(var c=new Array,d=b.toString(),e=0;d.length>0;){var f=this._getFormatValueGroupLength(d),g=null;switch(d.substring(0,1)){case":":case"/":f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var h=d.indexOf(d[0],1);g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1+Math.max(1,h-1)),"ReadOnly",this.culture),f=Math.max(1,h+1);break;case"\\":d.length>=2&&(g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1),"ReadOnly",this.culture),f=2);break;case"d":case"D":g=f>2?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture);break;case"f":case"F":f>7&&(f=7),g=f>3?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Millisecond",this.culture);break;case"g":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;case"h":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_hh",this.culture);break;case"H":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_HH",this.culture);break;case"m":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Minute",this.culture);break;case"M":f>4&&(f=4),g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Month",this.culture);break;case"s":case"S":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Second",this.culture);break;case"t":case"T":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_AMPM",this.culture);break;case"y":case"Y":f>1?g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Year",this.culture):(f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;default:f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture)}c[e]=a.extend(!0,{},g),d=d.substring(f),e++}return c},_getFormatValue:function(b){if((null==b||0==b.length)&&(b="d"),1==b.length)switch(b.substring(0,1)){case"d":return a.global.culture.calendar.patterns.d;case"D":return a.global.culture.calendar.patterns.D;case"t":return a.global.culture.calendar.patterns.t;case"T":return a.global.culture.calendar.patterns.T;case"f":return a.global.culture.calendar.patterns.f;case"F":return a.global.culture.calendar.patterns.F;case"M":return a.global.culture.calendar.patterns.M;case"Y":return a.global.culture.calendar.patterns.Y;case"S":return a.global.culture.calendar.patterns.S}return 2==b.length&&"%"==b.substring(0,1)&&(b=b.substring(1)),b},_updateEditorsValue:function(){var a=this.value;if(null!=a){var b=a.year,c=a.day,d=a.hour,e=a.millisecond,f=a.second,g=a.minute,h=a.month;if(null!=this.items)for(i=0;i<this.items.length;i++)switch(this.items[i].type){case"FORMAT_AMPM":this.editors[i].value=0;break;case"Day":this.editors[i].value=c;break;case"FORMAT_hh":this.editors[i].value=d;break;case"FORMAT_HH":this.editors[i].value=d;break;case"Millisecond":this.editors[i].value=e;break;case"Minute":this.editors[i].value=g;break;case"Month":this.editors[i].value=h;break;case"Second":this.editors[i].value=f;break;case"Year":this.editors[i].value=b}}},updateValue:function(){if(!this.isEditing){for(var b=1,c=1,d=0,e=0,f=0,g=0,h=1,i=0,j=!1,k=!1,l=!1,m=new Array,n=null,o=0,p=0;p<this.items.length;p++)switch(this.items[p].type){case"FORMAT_AMPM":i=this.editors[p].value,n=this.editors[p];break;case"Character":break;case"Day":this.items[p].format.length<4&&(c=this.editors[p].value,m[o++]=this.editors[p],0==c&&(c=1),l=!0);break;case"FORMAT_hh":var q=this.editors[p];d=q.value;break;case"FORMAT_HH":d=this.editors[p].value;break;case"Millisecond":e=this.editors[p].value;break;case"Minute":g=this.editors[p].value;break;case"Month":h=this.editors[p].value,k=!0,0==h&&(h=1);break;case"ReadOnly":break;case"Second":f=this.editors[p].value;break;case"Year":j=!0,b=this.editors[p].value;var r=this.editors[p].getDateTimeItem().format;if(r.length<3){var s="1900";if(4==s.Length){var t,u=""+s[0]+s[1];t=parseInt(u),b+=100*t}}0==b&&(b=1)}var v=null!=this.value?new Date(this.value.dateTime):null;if(b>0&&h>0&&c>0&&g>=0&&d>=0&&f>=0&&e>=0){var w=this.value;null!=w&&(j||(b=w.year),k||(h=w.month),l||(c=w.day));try{if(h>12&&(h=12),1>h&&(h=1),w._daysInMonth(b,h)<=c&&(c=w._daysInMonth(b,h),null!=m&&m.length>0))for(p=0;p<m.length;p++)m[p].value=c;null!=n&&(n.value=12>d?0:1),this.value._setYear(parseInt(b)),this.value._setDay(c),this.value._setMonth(h),this.value._setHours(d),this.value._setMinutes(g),this.value._setSeconds(f),this.value._setMilliseconds(e)}catch(x){this.value=w}if(null!=v){var y=this.value.dateTime.getFullYear()==v.getFullYear()&&this.value.dateTime.getDate()==v.getDate()&&this.value.dateTime.getMonth()==v.getMonth()&&this.value.dateTime.getHours()==v.getHours()&&this.value.dateTime.getMinutes()==v.getMinutes()&&this.value.dateTime.getSeconds()==v.getSeconds();y||(this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)),this.calendarButtonContent.html("<div style='line-height: 16px; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'>"+this.value.day+"</b></div>")}else this.calendarButtonContent.html("<div style='line-height: 16px; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'></b></div>")}var z=this.editors.indexOf(this.activeEditor);this.items[z]}},_internalSetValue:function(a){this.value._setYear(parseInt(a.year)),this.value._setDay(a.day),this.value._setMonth(a.month),this.value._setHours(a.hour),this.value._setMinutes(a.minute),this.value._setSeconds(a.second),this.value._setMilliseconds(a.milisecond)},_raiseEvent:function(a,b){var c=this.events[a],d={};d.owner=this,null==b&&(b=new Date);var e=b.charCode?b.charCode:b.keyCode?b.keyCode:0,f=!0,g=this.readonly,h=new jQuery.Event(c);if(h.owner=this,h.args=d,h.args.date=this.getDate(),"range"==this.selectionMode&&(h.args.date=this.getRange()),"none"==this.host.css("display"))return!0;2!=a&&3!=a&&(f=this.host.trigger(h));var i=this;if(g||2!=a||this.disabled||setTimeout(function(){i.isEditing=!0,i._selectGroup(-1)},25),4==a){if(g||this.disabled)return(8==e||46==e)&&(this.isEditing=!1,this.setDate(null)),!1;f=this._handleKeyDown(b,e)}else if(5==a){if(g||this.disabled)return!1}else if(6==a){if(g||this.disabled)return!1;f=this._handleKeyPress(b,e)}return f},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,this._selectGroup(c),void 0;for(;c>0;)if(this.activeEditor=this.editors[--c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&a!=this.activeEditor&&"ReadOnly"!=this.items[c].type&&(this.activeEditor.positions=this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0),this.activeEditor!=a?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,this._selectGroup(c),void 0;for(;c<=this.editors.length-2;)if(this.activeEditor=this.editors[++c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){if("Day"==this.items[c].type&&this.items[c].format.length>2)break;if("FORMAT_AMPM"==this.items[c].type)break;b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&this.activeEditor!=a&&"ReadOnly"!=this.items[c].type&&(this.activeEditor.positions=0),this.activeEditor!=a?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_saveSelectedText:function(){var a=this._selection(),b="",c=this.dateTimeInput.val();if(a.start>0||a.length>0)for(i=a.start;i<a.end;i++)b+=c[i];return window.clipboardData.setData("Text",b),b},_selectWithAdvancePattern:function(){var a=this.editors.indexOf(this.activeEditor),b=!1;if("ReadOnly"!=this.items[a].type&&"Format_AMPM"!=this.items[a].type&&(b=!0),b){var c=this.activeEditor;if(null!=c){var d=c.positions==c.maxEditPositions;if(d){this.editorText="";var e=c.value,f=!1;switch(this.items[a].type){case"FORMAT_AMPM":0>e?e=0:e>1&&(e=1);break;case"Character":break;case"Day":1>e?e=1:e>31&&(e=31);break;case"FORMAT_hh":case"FORMAT_HH":0>e?e=0:e>23&&(e=23);break;case"Millisecond":0>e?e=0:e>99&&(e=99);break;case"Minute":0>e?e=0:e>59&&(e=59);break;case"Month":1>e?e=1:e>12&&(e=12);break;case"ReadOnly":break;case"Second":0>e?e=0:e>59&&(e=59);break;case"Year":e<this.minDate.year?e=this.minDate.year:e>this.maxDate.year&&(e=this.maxDate.year)}return c.value!=e&&(f=!0),f?!1:(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}}},_handleKeyPress:function(a,b){var c=this._selection(),d=this;if(a.ctrlKey&&97==b||a.ctrlKey&&65==b)return!0;if(8==b)return c.start>0&&d._setSelectionStart(c.start),!1;if(46==b)return c.start<this.items.length&&d._setSelectionStart(c.start),!1;if(c.start>=0){var e=String.fromCharCode(b),f=parseInt(e);if(!isNaN(f)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var g=!1,h=this.editors.indexOf(this.activeEditor),i=null;if(this.isEditing=!0,"ReadOnly"!=h.type&&"FORMAT_AMPM"!=h.type&&(i=this.activeEditor),null!=i&&0==i.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(e),null!=i&&this.editorText.length>=i.maxEditPositions&&(this.editorText=""),this.editorText+=e;var j=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var k=this._getLastEditableEditorIndex();this.activeEditor.positions=this.editors.indexOf(this.activeEditor)==k&&j&&this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0}return g=!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}var l=this._isSpecialKey(b);return l},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(b,c){if(115==b.keyCode){if(this.isOpened())return this.hideCalendar(),!1;if(!this.isOpened())return this.showCalendar(),!1}if(b.altKey)if(38==b.keyCode){if(this.isOpened())return this.hideCalendar(),!1}else if(40==b.keyCode&&!this.isOpened())return this.showCalendar(),!1;if(!this.isOpened()){if(this._selection(),b.ctrlKey&&99==c||b.ctrlKey&&67==c)return this._saveSelectedText(b),!1;if(b.ctrlKey&&122==c||b.ctrlKey&&90==c)return!1;if(b.ctrlKey&&118==c||b.ctrlKey&&86==c||b.shiftKey&&45==c)return!1;if(8==c||46==c){if(b.altKey||b.ctrlKey||46!=c){if(null!=this.activeEditor){var d=this.editors.indexOf(this.activeEditor);if(this.activeEditor.positions>=0){var e=a.global.format(Number(this.activeEditor.value),"d"+this.activeEditor.maxEditPositions,this.culture);if(tmp=e,tmp=tmp.substring(0,this.activeEditor.positions)+"0"+tmp.substring(this.activeEditor.positions+1),parseInt(tmp)<this.activeEditor.minValue&&(tmp=a.global.format(Number(this.activeEditor.minValue),"d"+this.activeEditor.maxEditPositions,this.culture)),this.activeEditor.value=this.enableAbsoluteSelection?tmp:this.activeEditor.minValue,this._validateValue(),this._updateText(),8==c){var f=this;this.enableAbsoluteSelection&&this.activeEditor.positions>0?setTimeout(function(){f.activeEditor.positions=f.activeEditor.positions-1,f._selectGroup(d)},10):setTimeout(function(){f._doLeftKey()},10)}else this._selectGroup(d)}else this._doLeftKey()}}else this.isEditing=!1,this.setDate(null);return!1}if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;if(37==c){if(this._editor){var g=this._doLeftKey();return g||(this.isEditing=!1,this._validateValue()),!g}return this._doLeftKey(),!1}if(39==c){if(this._editor){var g=this._doRightKey();return g||(this.isEditing=!1,this._validateValue()),!g}return this._doRightKey(),!1}var h=this._isSpecialKey(c);return a.jqx.browser.mozilla?h:!0}},_isSpecialKey:function(a){return 8!=a&&9!=a&&13!=a&&35!=a&&36!=a&&37!=a&&39!=a&&27!=a&&46!=a?!1:!0},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var a=this.dateTimeInput[0],b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:a.value.length,length:0};var d=this.dateTimeInput[0].createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d);var b=c.text.length;return{start:e.text.length,end:e.text.length+c.text.length,length:b,text:c.text}},_selectGroup:function(a){if("none"!=this.host.css("display")&&!this.readonly){var b=this._selection(),c="",d="",e=null;for(i=0;i<this.items.length;i++){if(d=this.items[i].dateParser(this.value),this.isEditing&&"ReadOnly"!=this.items[i].type){var f="Day"==this.items[i].type&&this.items[i].format.length>2;if("FORMAT_AMPM"==this.items[i].type&&(f=!0),!f)for(d=this.items[i].dateParserInEditMode(new Number(this.editors[i].value),"d"+this.editors[i].maxEditPositions);d.length<this.editors[i].maxEditPositions;)d="0"+d}if(c+=d,"ReadOnly"!=this.items[i].type&&!("Day"==this.items[i].type&&this.items[i].format.length>2)&&"FORMAT_AMPM"!=this.items[i].type)if(void 0!=a&&-1!=a){if(i>=a){var g=c.length-d.length,h=d.length;this.enableAbsoluteSelection&&!isNaN(parseInt(d))&&this.isEditing&&-1!=a&&(h=1,g+=this.editors[i].positions),g==this.dateTimeInput.val().length&&g--,this._setSelection(g,g+h),e=this.editors[i],this.activeEditor=e;break}}else if(c.length>=b.start){e=this.editors[i],this.activeEditor=e;var g=c.length-d.length,h=1;this.enableAbsoluteSelection?!isNaN(parseInt(d))&&this.isEditing&&-1!=a&&(h=1,g+=this.editors[i].positions):h=d.length,this._setSelection(g,g+h);break}}i<this.items.length&&-1==a&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0);var j=this._selection();if(0==j.length&&j.start>0){var k=this._getLastEditableEditorIndex();k>=0&&this._selectGroup(k)}}},_getLastEditableEditorIndex:function(){var a=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||"FORMAT_AMPM"!=this.items[i].type&&(a=i));return a},_setSelection:function(a,b){if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(a,b);else{var c=this.dateTimeInput[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}},_setSelectionStart:function(a){this._setSelection(a,a)},destroy:function(){this.host.removeClass("jqx-rc-all"),this.calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refresh:function(a){1!=a&&(this._setSize(),this._arrange())},_setOption:function(a,b){"value"===a&&(null==b?(this.value=b,this._refreshValue()):this.value._equalDate(b.dateTime)||(this.value=b,this._refreshValue())),"maxDate"==a&&(this.calendar.maxDate=b),"minDate"==a&&(this.calendar.minDate=b),"showCalendarButton"==a&&(b?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==a&&this.dateTimeInput.attr("disabled",b),"readonly"==a&&(this.readonly=b,this.dateTimeInput.css("readonly",b)),"textAlign"==a&&(this.dateTimeInput.css("text-align",b),this.textAlign=b),"width"==a?(this.width=b,this.width=parseInt(this.width),this._arrange()):"height"==a&&(this.height=b,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.DateTimeFormatItem={},a.extend(a.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(a,b,c){return this.format=a,this.type=b,this.culture=c,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(b){if(null==b)return"";var c=a.global.format(b.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture);return c},dateParserInEditMode:function(b,c){if(null==b)return"";var d=a.global.format(b.toString(),1==c.length?"%"+c:c,this.culture);return d},getDateTimeEditorByItemType:function(b){switch(this.type){case"FORMAT_AMPM":var c=a.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,b.hour/12,a.global.culture.calendar.AM[0],a.global.culture.calendar.PM[0],this),d=a.extend({},c);return d;case"Character":return null;case"Day":var e,f=b.year,g=b.month;e=3==this.format.length?a.global.culture.calendar.days.namesAbbr:this.format.length>3?a.global.culture.calendar.days.names:null;var h=b.day;null!=e&&(h=b.dayOfWeek+1);var i=a.jqx._jqxDateTimeInput.DateEditor._createDayEditor(b,b.day,1,b._daysInMonth(f,g),1==this.format.length?1:2,2,e,this),d=a.extend({},i);
return d;case"FORMAT_hh":var j=b.hour%12;0==j&&(j=12);var k=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(j,0,23,1==this.format.length?1:2,2,this),d=a.extend({},k);return d;case"FORMAT_HH":var l=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.hour,0,23,1==this.format.length?1:2,2,this),d=a.extend({},l);return d;case"Millisecond":var m=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this),d=a.extend({},m);return d;case"Minute":var n=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.minute,0,59,1==this.format.length?1:2,2,this),d=a.extend({},n);return d;case"Month":var o;o=3==this.format.length?a.global.culture.calendar.months.namesAbbr:this.format.length>3?a.global.culture.calendar.months.names:null;var p=a.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(b.month,2==this.format.length?2:1,o,this),d=a.extend({},p);return d;case"ReadOnly":return a.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,b.day,this);case"Second":var q=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.second,0,59,1==this.format.length?1:2,2,this),d=a.extend({},q);return d;case"Year":var r=a.jqx._jqxDateTimeInput.DateEditor._createYearEditor(b.year,this.format.length,this),d=a.extend({},r);return d}return null},getDateTimeWithOffset:function(a,b){if(null==a||null==b)throw"Invalid arguments";var c=b.hour;b.minute,b.second;var d=b.day(),e=b.month();b.year();var f=b,g=b;switch(this.type){case"FORMAT_AMPM":c=12*(a-c/12);break;case"Day":if(d=a-d,d!=a)if(29==a&&2==e){for(g=f;!DateTime._isLeapYear(g.year);)g=g._addYears(1);g=g._addDays(a-g.day)}else g=f._addMonths(1-f.month),g=g._addDays(a-f.day);break;case"FORMAT_hh":var h=12==a?0:a;f=f._addHours(h-f.hour%12);break;case"FORMAT_HH":f=f._addHours(a-f.hour);break;case"Millisecond":f=f._addMilliseconds(a*this._itemValue()-f.millisecond);break;case"Minute":f=f._addMinutes(a-f.minute);break;case"Month":if(g=f._addMonths(a-f.month),2==a&&29==f.day&&f.day!=g.day){for(g=f;!f.IsLeapYear(g.year);)g=g._addYears(1);g=g._addMonths(a-g.month)}f=g;break;case"ReadOnly":break;case"Second":f=f._addSeconds(a-f.second);break;case"Year":0==a&&(a=1),f=f._addYears(a-b.year)}return f}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.DateEditor=a.extend(a.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears?4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions:this.minEditPositions},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},_createYearEditor:function(b,c,d){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(4>=c?0:0,4>c?99:9999,2==c?2:1,c>3?4:2,d),this.initializeYearEditor(b,c,d.culture),this.handleYears=!0,this},initializeYearEditor:function(a,b,c){this.formatValueLength=b,this.dateTimeFormatInfo=c;var d=a;d=Math.min(d,9999),d=Math.max(d,1),d=this.formatValueLength<4?d%100:d,this.updateActiveEditor(d),this.value=d},updateActiveEditor:function(a){this.value=a,this.positions=0},_createDayEditor:function(b,c,d,e,f,g,h,i){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(d,e,1,g,i),this.currentValue=b,this.value=c,this.days=h,this.handleDays=!0,this},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},defaultTextValue:function(){this.value;var b=this.minEditPositions,c=b,d=a.global.format(this.value,"d"+c,"");return d},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var a=this.value%7+1;return a=this.getDayOfWeek(a),this.days[a]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(b){if(null==b)return this.deleteValue();if(0==b.length)return this.deleteValue();var c=b.substring(0,1);if(!isNaN(c)){var d,e=1,f=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);return d=f,this.positions>=this.maxEditPositions&&(this.positions=0),d=d.substring(0,this.positions)+c+d.substring(this.positions+1),d=this.setValueByString(d,e),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(a){if(this.handleDays){if(null!=this.days){var b=!1;if(b=this.insertLongString(a,b))return b;if(b=this.insertShortString(a,b))return b}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=a,this.defaultInsertString(a)}if(this.handleMonths&&null!=this.dateTimeMonths){var b=!1;if(b=this.insertLongString2(a,b))return b;if(b=this.insertShortString2(a,b))return b}return this.defaultInsertString(a)},insertShortString:function(a,b){if(1==a.length)for(i=0;6>i;++i){var c=(this.value+i)%7+1,d=this.days[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},insertLongString:function(a,b){if(a.length>0)for(i=0;6>i;++i){var c=(this.value+i)%7+1;if(this.days[c-1]==a)return this.updateActiveEditor(c),b=!0}return b},_createMonthEditor:function(b,c,d,e){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(1,12,c,2,e),this.dateTimeMonths=d,this.value=b,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this},insertLongString2:function(a,b){if(a.length>0)for(i=0;11>i;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==a)return this.updateActiveEditor(month),b=!0;return b},insertShortString2:function(a,b){if(1==a.length)for(i=0;11>i;++i){var c=(this.value+i)%12+1,d=this.dateTimeMonths[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(b){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture),d=c.toString()[this.positions];if(d=parseInt(d)+1,d>9&&(d=0),!b){var e=this.value+1;return e=this.correctMaximumValue(e),this.updateActiveEditor(e),!0}var f=c.substring(0,this.positions)+d+c.substring(this.positions+1);return f!=this.value||this.hasDigits()?(this.updateActiveEditor(f),!0):!1},decreaseValue:function(b){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture),d=c.toString()[this.positions];if(d=parseInt(d)-1,0>d&&(d=9),!b){var e=this.value-1;return e=this.correctMinimumValue(e),this.updateActiveEditor(e),!0}var f=c.substring(0,this.positions)+d+c.substring(this.positions+1);return f!=this.value||this.hasDigits()?(this.updateActiveEditor(f),!0):!1},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.NumberEditor={},a.extend(a.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears?4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions:this.minEditPositions},_createNumberEditor:function(b,c,d,e,f,g){return a.jqx._jqxDateTimeInput.NumberEditor=a.extend(!0,{},this),this.initializeFields(c,d,e,f,g),this},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},updateActiveEditor:function(a){this.value=a,this.positions=0},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},textValue:function(){this.value;var b=this.minEditPositions,c=b,d=a.global.format(this.value,"d"+c,"");return d},insert:function(b){if(null==b)return this.deleteValue();if(0==b.length)return this.deleteValue();var c=b.substring(0,1);if(!isNaN(c)){var d,e=1,f=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);return d=f,this.positions>=this.maxEditPositions&&(this.positions=0),d=d.substring(0,this.positions)+c+d.substring(this.positions+1),d=this.setValueByString(d,e),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(b){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture),d=c.toString()[this.positions];if(d=parseInt(d)+1,d>9&&(d=0),!b){var e=this.value+1;return e=this.correctMaximumValue(e),this.updateActiveEditor(e),!0}var f=c.substring(0,this.positions)+d+c.substring(this.positions+1);return f!=this.value||this.hasDigits()?(this.updateActiveEditor(f),!0):!1},decreaseValue:function(b){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture),d=c.toString()[this.positions];if(d=parseInt(d)-1,0>d&&(d=9),!b){var e=this.value-1;return e=this.correctMinimumValue(e),this.updateActiveEditor(e),!0}var f=c.substring(0,this.positions)+d+c.substring(this.positions+1);return f!=this.value||this.hasDigits()?(this.updateActiveEditor(f),!0):!1},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.DisabledEditor={},a.extend(a.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(a,b,c,d,e){return this.format=a,this.value=-1,this.item=e,this},textValue:function(){return""},insert:function(){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.AmPmEditor={},a.extend(a.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(a,b,c,d,e){return this.format=a,this.value=b,this.amString=c,this.pmString=d,this.item=e,c==d&&(this.amString="<"+c,this.pmString=">"+d),this},textValue:function(){var a=this.amString;return 0!=this.value&&(a=this.pmString),1==this.format.length&&a.length>1&&(a=a.substring(0,1)),a},insert:function(a){var b=a.toString();if(0==b.Length)return this.deleteValue();var c=!1;if(this.amString.Length>0&&this.pmString.Length>0){var d=amString[0],e=b[0],f=pmString[0];d.toString()==e.toString()?(this.value=0,c=!0):f.toString()==e.toString()&&(this.value=1,c=!0)}else this.pmString.Length>0?(this.value=1,c=!0):this.amString.Length>0&&(this.value=0,c=!0);return c},deleteValue:function(){var a=!0;if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return a},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jQuery),function(a){a.jqx._jqxDateTimeInput.getDateTime=function(a){var b={dateTime:new Date(a),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:a.getHours(),minute:a.getMinutes(),day:a.getDate(),second:a.getSeconds(),month:1+a.getMonth(),year:a.getFullYear(),millisecond:a.getMilliseconds(),dayOfWeek:a.getDay(),isWeekend:function(a){(void 0==a||null==a)&&(a=this.dateTime);var b=0==a.getDay()%6;return b},dayOfYear:function(a){(void 0==a||null==a)&&(a=this.dateTime);var b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864e5)},_setDay:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setDate(a),this.day=this.dateTime.getDate()},_setMonth:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMonth(a-1),this.month=1+this.dateTime.getMonth()},_setYear:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setFullYear(a),this.year=this.dateTime.getFullYear()},_setHours:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setHours(a),this.hour=this.dateTime.getHours()},_setMinutes:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMinutes(a),this.minute=this.dateTime.getMinutes()},_setSeconds:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setSeconds(a),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMilliseconds(a),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(a){var b=this.dateTime;return b.setDate(b.getDate()+a),b},_addWeeks:function(a){var b=this.dateTime;return b.setDate(b.getDate()+7*a),b},_addMonths:function(a){var b=this.dateTime;return b.setMonth(b.getMonth()+a),b},_addYears:function(a){var b=this.dateTime;return b.setFullYear(b.getFullYear()+a),b},_addHours:function(a){var b=this.dateTime;return b.setHours(b.getHours()+a),b},_addMinutes:function(a){var b=this.dateTime;return b.setMinutes(b.getMinutes()+a),b},_addSeconds:function(a){var b=this.dateTime;return b.setSeconds(b.getSeconds()+a),b},_addMilliseconds:function(a){var b=this.dateTime;return b.setMilliseconds(b.getMilliseconds()+a),b},_isLeapYear:function(a){if(1>a||a>9999)throw"invalid year";return 0!=a%4?!1:0==a%100?0==a%400:!0},_dateToTicks:function(a,b,c){if(a>=1&&9999>=a&&b>=1&&12>=b){var d=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;if(c>=1&&c<=d[b]-d[b-1]){var a=a-1,e=365*a+a/4-a/100+a/400+d[b-1]+c-1;return 864e9*e}}},_daysInMonth:function(a,b){if(1>b||b>12)throw"Invalid month.";var c=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;return c[b]-c[b-1]},_timeToTicks:function(a,b,c){var d=3600*a+60*b+c;return 1e7*d},_equalDate:function(a){return this.year==a.getFullYear()&&this.day==a.getDate()&&this.month==a.getMonth()+1?!0:!1}};return b}}(jQuery),function(a){a.jqx.jqxWidget("jqxMenu","",{}),a.extend(a.jqx._jqxMenu.prototype,{defineInstance:function(){this.items=new Array,this.mode="horizontal",this.width=null,this.height=null,this.easing="easeInOutSine",this.animationShowDuration=200,this.animationHideDuration=200,this.autoCloseInterval=0,this.animationHideDelay=100,this.animationShowDelay=100,this.menuElements=new Array,this.autoSizeMainItems=!1,this.autoCloseOnClick=!0,this.autoCloseOnMouseLeave=!0,this.enableRoundedCorners=!0,this.disabled=!1,this.autoOpenPopup=!0,this.enableHover=!0,this.autoOpen=!0,this.autoGenerate=!0,this.clickToOpen=!1,this.showTopLevelArrows=!1,this.touchMode="auto",this.source=null,this.popupZIndex=2e4,this.events=["shown","closed","itemclick","initialized"]},createInstance:function(){var b=this;this.host.css("display","block"),this.propertyChangeMap.disabled=function(){b.disabled?(b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-menu-disabled"))):(b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.removeClass(b.toThemeProperty("jqx-menu-disabled")))},this.setSize();var c=!1,d=this;if(null!=d.width&&-1!=d.width.toString().indexOf("%")&&(c=!0),null!=d.height&&-1!=d.height.toString().indexOf("%")&&(c=!0),a(window).on("resize.menu"+this.element.id,function(){c&&(d.refreshTimer&&clearTimeout(d.refreshTimer),d.refreshTimer=setTimeout(function(){d.refresh()},1))}),c&&setInterval(function(){var a=d.host.width(),b=d.host.height();(d._lastWidth!=a||d._lastHeight!=b)&&d.refresh(),d._lastWidth=a,d._lastHeight=b},100),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),this.host.attr("tabIndex",1),this.host.css("outline","none"),this.source&&null!=this.source){var e=this.loadItems(this.source);this.element.innerHTML=e}if(this.element.innerHTML.indexOf("UL")){var f=this.host.find("ul:first");f.length>0&&this._createMenu(f[0])}this.host.data("autoclose",{}),this._render();var d=this;a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{this.host.focus()}catch(a){}},loadItems:function(b,c){if(null!=b){if(0==b.length)return"";var d=this;this.items=new Array;var e="<ul>";return c&&(e='<ul style="width:'+c+';">'),a.map(b,function(a){return void 0==a?null:(e+=d._parseItem(a),void 0)}),e+="</ul>"}},_parseItem:function(a){var b="";if(void 0==a)return null;var c=a.label;!a.label&&a.html&&(c=a.html),c||(c="Item"),"string"==typeof a&&(c=a);var d=!1;void 0!=a.selected&&a.selected&&(d=!0);var e=!1;return void 0!=a.disabled&&a.disabled&&(e=!0),b+="<li",e&&(b+=' item-disabled="true" '),a.label&&!a.html&&(b+=' item-label="'+c+'" '),null!=a.value&&(b+=' item-value="'+a.value+'" '),void 0!=a.id&&(b+=' id="'+a.id+'" '),b+=">"+c,a.items&&(b+=a.subMenuWidth?this.loadItems(a.items,a.subMenuWidth):this.loadItems(a.items)),b+="</li>"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height)},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?b=!0:0==this.touchMode&&(b=!1),b&&(this.host.addClass(this.toThemeProperty("jqx-touch")),a(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=b,b},refresh:function(a){a||this.setSize()},_closeAll:function(b){var c=null!=b?b.data:this,d=c.items;if(a.each(d,function(){var a=this;1==a.hasItems&&a.isOpen&&c._closeItem(c,a)}),"popup"==c.mode&&null!=b){var e=c._isRightClick(b);e||c.close()}},closeItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;1==a.isOpen&&a.element==d&&(e._closeItem(e,a),a.parentId&&e.closeItem(a.parentId))}),!0},openItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;0==a.isOpen&&a.element==d&&(e._openItem(e,a),a.parentId&&e.openItem(a.parentId))}),!0},_getClosedSubMenuOffset:function(b){var c=a(b.subMenuElement),d=-c.outerHeight(),e=-c.outerWidth(),f=0==b.level&&"horizontal"==this.mode;switch(f?e=0:d=0,b.openVerticalDirection){case"up":case"center":d=c.outerHeight()}switch(b.openHorizontalDirection){case this._getDir("left"):e=f?0:c.outerWidth();break;case"center":e=f?0:c.outerWidth()}return{left:e,top:d}},_closeItem:function(b,c,d,e){if(null==b||null==c)return!1;var f=a(c.subMenuElement),g=0==c.level&&"horizontal"==this.mode,h=this._getClosedSubMenuOffset(c),i=h.top,j=h.left;$menuElement=a(c.element);var k=f.closest("div.jqx-menu-popup");if(null!=k){var l=b.animationHideDelay;1==e&&(l=0),null!=f.data("timer").show&&(clearTimeout(f.data("timer").show),f.data("timer").show=null);var m=function(){c.isOpen=!1,!a.jqx.browser.msie&&"fade"==this.animationtype,g?(!a.jqx.browser.msie,f.stop().animate({top:i},b.animationHideDuration,function(){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down")):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up"))),k.css({display:"none"}),0==b.animationHideDuration&&f.css({top:i}),b._raiseEvent("1",c)})):(!a.jqx.browser.msie,f.stop().animate({left:j},b.animationHideDuration,function(){if(0==b.animationHideDuration&&f.css({left:j}),c.level>0){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right"))):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left"))))}else{a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("right"))):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("left"))))}k.css({display:"none"}),b._raiseEvent("1",c)}))};if(l>0?f.data("timer").hide=setTimeout(function(){m()},l):m(),void 0!=d&&d){var n=f.children();a.each(n,function(){b.menuElements[this.id]&&b.menuElements[this.id].isOpen&&(a(b.menuElements[this.id].subMenuElement),b._closeItem(b,b.menuElements[this.id],!0,!0))})}}},getSubItems:function(b,c){if(null==b)return!1;var d=this,e=new Array;null!=c&&a.extend(e,c);var f=b,g=this.menuElements[f],h=a(g.subMenuElement),i=h.find(".jqx-menu-item");return a.each(i,function(){e[this.id]=d.menuElements[this.id];var b=d.getSubItems(this.id,e);a.extend(e,b)}),e},disable:function(b,c){if(null!=b){var d=b,e=this;if(this.menuElements[d]){var f=this.menuElements[d];f.disabled=c;var g=a(f.element);f.element.disabled=c,a.each(g.children(),function(){this.disabled=c}),c?(g.addClass(e.toThemeProperty("jqx-menu-item-disabled")),g.addClass(e.toThemeProperty("jqx-fill-state-disabled"))):(g.removeClass(e.toThemeProperty("jqx-menu-item-disabled")),g.removeClass(e.toThemeProperty("jqx-fill-state-disabled")))}}},_setItemProperty:function(a,b,c){if(null!=a){var d=a;if(this.menuElements[d]){var e=this.menuElements[d];e[b]&&(e[b]=c)}}},setItemOpenDirection:function(b,c,d){if(null!=b){var e=b,f=this,g=a.jqx.browser.msie&&a.jqx.browser.version<8;if(this.menuElements[e]){var h=this.menuElements[e];if(null!=c&&(h.openHorizontalDirection=c,h.hasItems&&h.level>0)){var i=a(h.element);if(void 0!=i){var j=a(h.arrow);null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i)),j.removeClass(),"left"==h.openHorizontalDirection?j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("left"))):j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("right"))),j.css("visibility","visible"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right"))}}if(null!=d){h.openVerticalDirection=d;var j=a(h.arrow),i=a(h.element);void 0!=i&&(null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i)),j.removeClass(),"down"==h.openVerticalDirection?j.addClass(f.toThemeProperty("jqx-menu-item-arrow-down")):j.addClass(f.toThemeProperty("jqx-menu-item-arrow-up")),j.css("visibility","visible"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right")))}}}},_getSiblings:function(a){var b=new Array,c=0;for(i=0;i<this.items.length;i++)this.items[i]!=a&&this.items[i].parentId==a.parentId&&this.items[i].hasItems&&(b[c++]=this.items[i]);return b},_openItem:function(b,c,d){if(null==b||null==c)return!1;if(c.isOpen)return!1;if(c.disabled)return!1;if(b.disabled)return!1;var e=b.popupZIndex;void 0!=d&&(e=d);var f=b.animationHideDuration;b.animationHideDuration=0,b._closeItem(b,c,!0,!0),b.animationHideDuration=f,this.host.focus();var g=[5,5],h=a(c.subMenuElement);null!=h&&h.stop(),null!=h.data("timer").hide&&clearTimeout(h.data("timer").hide);var i=h.closest("div.jqx-menu-popup"),j=a(c.element),k=0==c.level?this._getOffset(c.element):j.position();if(c.level>0&&this.hasTransform){var l=parseInt(j.offset().top)-parseInt(this._getOffset(c.element).top);k.top+=l}0==c.level&&"popup"==this.mode&&(k=j.offset());var m=0==c.level&&"horizontal"==this.mode,n=m?k.left:null!=this.menuElements[c.parentId]&&null!=this.menuElements[c.parentId].subMenuElement?parseInt(a(a(this.menuElements[c.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-g[0]:parseInt(h.outerWidth());if(i.css({visibility:"visible",display:"block",left:n,top:m?k.top+j.outerHeight():k.top,zIndex:e}),h.css("display","block"),"horizontal"!=this.mode&&0==c.level){var o=this._getOffset(this.element);i.css("left",-1+o.left+this.host.outerWidth()),h.css("left",-h.outerWidth())}else{var p=this._getClosedSubMenuOffset(c);h.css("left",p.left),h.css("top",p.top)}i.css({height:parseInt(h.outerHeight())+parseInt(g[1])+"px"});var q=0,r=0;switch(c.openVerticalDirection){case"up":m?(h.css("top",h.outerHeight()),q=g[1],i.css({display:"block",top:k.top-i.outerHeight(),zIndex:e})):(q=g[1],h.css("top",h.outerHeight()),i.css({display:"block",top:k.top-i.outerHeight()+g[1]+j.outerHeight(),zIndex:e}));break;case"center":m?(h.css("top",0),i.css({display:"block",top:k.top-i.outerHeight()/2+g[1],zIndex:e})):(h.css("top",0),i.css({display:"block",top:k.top+j.outerHeight()/2-i.outerHeight()/2+g[1],zIndex:e}))}switch(c.openHorizontalDirection){case this._getDir("left"):m?i.css({left:k.left-(i.outerWidth()-j.outerWidth()-g[0])}):(r=0,h.css("left",i.outerWidth()),i.css({left:k.left-i.outerWidth()+2*c.level}));break;case"center":m?i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}):(i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}),h.css("left",i.outerWidth()))}if(m){if(parseInt(h.css("top"))==q)return c.isOpen=!0,void 0}else if(parseInt(h.css("left"))==r)return 1==c.isOpen,void 0;a.each(b._getSiblings(c),function(){b._closeItem(b,this,!0,!0)});var s=a.data(b.element,"animationHideDelay");b.animationHideDelay=s,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){b._closeAll()},this.autoCloseInterval))),h.data("timer").show=setTimeout(function(){if(null!=i)if(m){h.stop(),h.css("left",r),!a.jqx.browser.msie,j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down-selected")):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up-selected"))),0==b.animationShowDuration?(h.css({top:q}),c.isOpen=!0,b._raiseEvent("0",c)):h.animate({top:q},b.animationShowDuration,b.easing,function(){c.isOpen=!0,b._raiseEvent("0",c)})}else{if(h.stop(),h.css("top",q),!a.jqx.browser.msie,c.level>0){j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")))}else{j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")):d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")))}!a.jqx.browser.msie,0==b.animationShowDuration?(h.css({left:r}),b._raiseEvent("0",c),c.isOpen=!0):h.animate({left:r},b.animationShowDuration,b.easing,function(){b._raiseEvent("0",c),c.isOpen=!0})}},this.animationShowDelay)},_getDir:function(a){switch(a){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(b,c){var d=this,e=0;if(this.host.removeClass(d.toThemeProperty("jqx-menu-horizontal")),this.host.removeClass(d.toThemeProperty("jqx-menu-vertical")),this.host.removeClass(d.toThemeProperty("jqx-menu")),this.host.removeClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-menu")),void 0!=b&&void 0!=c&&"popup"==c){if(this.host.parent().length>0&&this.host.parent().parent().length>0&&this.host.parent().parent()[0]==document.body){var f=a.data(document.body,"jqxMenuOldHost"+this.element.id);if(null!=f){var g=this.host.closest("div.jqx-menu-wrapper");g.remove(),g.appendTo(f),this.host.css("display","block"),this.host.css("visibility","visible"),g.css("display","block"),g.css("visibility","visible")}}}else void 0==b&&void 0==c&&a.data(document.body,"jqxMenuOldHost"+this.element.id,this.host.parent()[0]);switch(this.autoOpenPopup?"popup"==this.mode?(a(document).on("contextmenu",function(){return!1}),a(document).on("mousedown.menu"+this.element.id,d,this._openContextMenu)):(a(document).off("contextmenu"),a(document).off("mousedown.menu"+this.element.id,this._openContextMenu)):(a(document).off("contextmenu"),a(document).off("mousedown.menu"+this.element.id,this._openContextMenu)),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.mode){case"horizontal":this.host.addClass(d.toThemeProperty("jqx-widget-header")),this.host.addClass(d.toThemeProperty("jqx-menu-horizontal")),a.each(this.items,function(){var b=this;$element=a(b.element);var c=a(b.arrow);if(c.removeClass(),b.hasItems&&b.level>0){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float",d._getDir("right")),c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),b.arrow=c[0]}if(0==b.level){if(a(b.element).css("float",d._getDir("left")),!b.ignoretheme&&b.hasItems&&d.showTopLevelArrows){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),f=a.jqx.browser.msie&&a.jqx.browser.version<8;null==b.arrow?f?c.appendTo($element):c.prependTo($element):c=a(b.arrow),"down"==b.openVerticalDirection?c.addClass(d.toThemeProperty("jqx-menu-item-arrow-down")):c.addClass(d.toThemeProperty("jqx-menu-item-arrow-up")),c.css("visibility","visible"),f?c.css("display","inline-block"):(c.css("display","block"),c.css("float","right")),b.arrow=c[0]}else if(!b.ignoretheme&&b.hasItems&&!d.showTopLevelArrows&&null!=b.arrow){var c=a(b.arrow);c.remove(),b.arrow=null}e=Math.max(e,$element.height())}});break;case"vertical":case"popup":if(this.host.addClass(d.toThemeProperty("jqx-menu-vertical")),a.each(this.items,function(){var b=this;if($element=a(b.element),b.hasItems&&!b.ignoretheme){b.arrow&&a(b.arrow).remove();var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float","right"),0==b.level?c.addClass(d.toThemeProperty("jqx-menu-item-arrow-top-"+d._getDir("right"))):c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),b.arrow=c[0]
}$element.css("float","none")}),"popup"==this.mode){this.host.addClass(d.toThemeProperty("jqx-widget-content")),this.host.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var g=this.host.closest("div.jqx-menu-wrapper");g[0].id="menuWrapper"+this.element.id,g.appendTo(a(document.body))}else this.host.addClass(d.toThemeProperty("jqx-widget-header"));if("popup"==this.mode){var h=this.host.height();this.host.css("position","absolute"),this.host.css("top","0"),this.host.css("left","0"),this.host.height(h),this.host.css("display","none")}}},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},_getOffset:function(b){var c=a.jqx.mobile.isSafariMobileBrowser(),d=a(b).offset(),e=d.top,f=d.left;"0px"!=a("body").css("border-top-width")&&(e=parseInt(e)+this._getBodyOffset().top),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)+this._getBodyOffset().left);var g=a.jqx.mobile.isWindowsPhone();if(this.hasTransform||null!=c&&c||g){var h={left:a.jqx.mobile.getLeftPos(b),top:a.jqx.mobile.getTopPos(b)};return h}return{left:f,top:e}},_isRightClick:function(a){var b;if(!a)var a=window.event;return a.which?b=3==a.which:a.button&&(b=2==a.button),b},_openContextMenu:function(a){var b=a.data,c=b._isRightClick(a);c&&b.open(parseInt(a.clientX)+5,parseInt(a.clientY)+5)},close:function(){var b=this,c=a.data(this.element,"contextMenuOpened"+this.element.id);c&&(this.host,a.each(b.items,function(){var a=this;a.hasItems&&b._closeItem(b,a)}),a.each(b.items,function(){var b=this;if(1==b.isOpen){$submenu=a(b.subMenuElement);var c=$submenu.closest("div.jqx-menu-popup");c.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),a.data(b.element,"contextMenuOpened"+this.element.id,!1),b._raiseEvent("1",b))},open:function(b,c){if("popup"==this.mode){var d=0;"block"==this.host.css("display")&&(this.close(),d=this.animationHideDuration);var e=this;(void 0==b||null==b)&&(b=0),(void 0==c||null==c)&&(c=0),setTimeout(function(){e.host.show(e.animationShowDuration),e.host.css("visibility","visible"),a.data(e.element,"contextMenuOpened"+e.element.id,!0),e._raiseEvent("0",e),e.host.css("z-index",9999),void 0!=b&&void 0!=c&&e.host.css({left:b,top:c})},d)}},_renderHover:function(a,b,c){var d=this;c||b.ignoretheme||a.hover(function(){b.disabled||b.separator||!d.enableHover||d.disabled||(b.level>0?(a.addClass(d.toThemeProperty("jqx-fill-state-hover")),a.addClass(d.toThemeProperty("jqx-menu-item-hover"))):(a.addClass(d.toThemeProperty("jqx-fill-state-hover")),a.addClass(d.toThemeProperty("jqx-menu-item-top-hover"))))},function(){b.disabled||b.separator||!d.enableHover||d.disabled||(b.level>0?(a.removeClass(d.toThemeProperty("jqx-fill-state-hover")),a.removeClass(d.toThemeProperty("jqx-menu-item-hover"))):(a.removeClass(d.toThemeProperty("jqx-fill-state-hover")),a.removeClass(d.toThemeProperty("jqx-menu-item-top-hover"))))})},_closeAfterClick:function(b){var c=null!=b?b.data:this,d=!1;c.autoCloseOnClick&&(a.each(a(b.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(d=!0,!1):void 0}),d||(b.data=c,c._closeAll(b)))},_autoSizeHorizontalMenuItems:function(){var b=this;if(b.autoSizeMainItems&&"horizontal"==this.mode){var c=this.maxHeight;parseInt(c)>parseInt(this.host.height())&&(c=parseInt(this.host.height())),c=parseInt(this.host.height()),a.each(this.items,function(){var d=this;if($element=a(d.element),0==d.level&&c>0){var e=$element.children().length>0?parseInt($element.children().height()):$element.height(),f=b.host.find("ul:first"),g=parseInt(f.css("padding-top")),h=parseInt(f.css("margin-top")),i=c-2*(h+g),j=parseInt(i)/2-e/2,k=parseInt(j),l=parseInt(j);if($element.css("padding-top",k),$element.css("padding-bottom",l),parseInt($element.outerHeight())>i){var m=1;$element.css("padding-top",k-m),k-=m}}})}},_render:function(b,c){var d=this.popupZIndex,e=[5,5],f=this;a.data(f.element,"animationHideDelay",f.animationHideDelay);var g=this.isTouchDevice();a.data(document.body,"menuel",this),this.autoCloseOnClick&&(this.removeHandler(a(document),"mousedown.menu"+this.element.id,f._closeAfterClick),this.addHandler(a(document),"mousedown.menu"+this.element.id,f._closeAfterClick,f),g&&this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,f._closeAfterClick,f)),this.hasTransform=a.jqx.utilities.hasTransform(this.host),this._applyOrientation(b,c),f.enableRoundedCorners&&this.host.addClass(f.toThemeProperty("jqx-rc-all")),a.each(this.items,function(){var b=this,c=a(b.element);if(f.enableRoundedCorners&&c.addClass(f.toThemeProperty("jqx-rc-all")),f.removeHandler(c,"click"),f.addHandler(c,"click",function(c){if(!b.disabled&&(f._raiseEvent("2",{item:b.element,event:c}),f.autoOpen?!f.autoCloseOnClick||g||f.clickToOpen||b.closeOnClick&&(c.data=f,f._closeAll(c)):b.level>0&&(!f.autoCloseOnClick||g||f.clickToOpen||(c.data=f,f._closeAll(c))),g&&f.autoCloseOnClick&&(c.data=f,b.hasItems||f._closeAll(c)),"A"!=c.target.tagName&&"a"!=c.target.tagName)){var d=null!=b.anchor?a(b.anchor):null;if(null!=d&&d.length>0){var e=d.attr("href"),h=d.attr("target");null!=e&&(null!=h?window.open(e,h):window.location=e)}}}),f.removeHandler(c,"mouseenter"),f.removeHandler(c,"mouseleave"),f._renderHover(c,b,g),null!=b.subMenuElement){var h=a(b.subMenuElement);h.wrap('<div class="jqx-menu-popup" style="border: none; background-color: transparent; z-index:'+d+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),h.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-h.outerHeight()}),h.data("timer",{}),b.level>0?h.css("left",-h.outerWidth()):"horizontal"==f.mode&&h.css("left",0),d++;var i=a(b.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(a(b.subMenuElement).outerWidth())+parseInt(e[0])+"px",height:parseInt(a(b.subMenuElement).outerHeight())+parseInt(e[1])+"px"}),j=c.closest("div.jqx-menu-popup");if(j.length>0){var k=h.css("margin-left"),l=h.css("margin-right"),m=h.css("padding-left"),n=h.css("padding-right");i.appendTo(j),h.css("margin-left",k),h.css("margin-right",l),h.css("padding-left",m),h.css("padding-right",n)}else{var k=h.css("margin-left"),l=h.css("margin-right"),m=h.css("padding-left"),n=h.css("padding-right");i.appendTo(a(document.body)),h.css("margin-left",k),h.css("margin-right",l),h.css("padding-left",m),h.css("padding-right",n)}g||f.clickToOpen?(f.removeHandler(c,"mousedown"),f.addHandler(c,"mousedown",function(a){clearTimeout(h.data("timer").hide),null!=h&&h.stop(),0!=b.level||b.isOpen||(a.data=f,f._closeAll(a)),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b)})):(f.addHandler(c,"mouseenter",function(){if((f.autoOpen||b.level>0&&!f.autoOpen)&&clearTimeout(h.data("timer").hide),b.parentId&&0!=b.parentId&&f.menuElements[b.parentId]){var a=f.menuElements[b.parentId].isOpen;if(!a)return}return(f.autoOpen||b.level>0&&!f.autoOpen)&&f._openItem(f,b),!1}),f.addHandler(c,"mousedown",function(){f.autoOpen||0!=b.level||(clearTimeout(h.data("timer").hide),null!=h&&h.stop(),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b))}),f.addHandler(c,"mouseleave",function(c){if(f.autoCloseOnMouseLeave){clearTimeout(h.data("timer").hide);var d=a(b.subMenuElement),e={left:parseInt(c.pageX),top:parseInt(c.pageY)},g={left:parseInt(d.offset().left),top:parseInt(d.offset().top),width:parseInt(d.outerWidth()),height:parseInt(d.outerHeight())},i=!0;g.left-5<=e.left&&e.left<=g.left+g.width+5&&g.top<=e.top&&e.top<=g.top+g.height&&(i=!1),i&&f._closeItem(f,b,!0)}}),f.removeHandler(i,"mouseenter"),f.addHandler(i,"mouseenter",function(){clearTimeout(h.data("timer").hide)}),f.removeHandler(i,"mouseleave"),f.addHandler(i,"mouseleave",function(){f.autoCloseOnMouseLeave&&(clearTimeout(h.data("timer").hide),clearTimeout(h.data("timer").show),null!=h&&h.stop(),f._closeItem(f,b,!0))}))}}),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},createID:function(){var a=Math.random()+"";for(a=a.replace(".",""),a="99"+a,a/=1;this.items[a];)a=Math.random()+"",a=a.replace(".",""),a/=1;return"menuItem"+a},_createMenu:function(b,c){if(null!=b){void 0==c&&(c=!0),null==c&&(c=!0);for(var d=a(b).find("li"),e=0,f=0;f<d.length;f++){var g=d[f],h=a(g);if(-1!=g.className.indexOf("jqx-menu")||0!=this.autoGenerate){var i=g.id;i||(i=this.createID()),c&&(g.id=i,this.items[e]=new a.jqx._jqxMenu.jqxMenuItem,this.menuElements[i]=this.items[e]),e+=1;var j=0,k=this;h.children().each(function(){return c||(a(this).removeClass(),k.autoGenerate&&(a(k.items[e-1].subMenuElement).removeClass(),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-widget-content")),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-menu-dropdown")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(c&&(k.items[e-1].subMenuElement=this),!1):!k.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(c&&(k.items[e-1].subMenuElement=this),a(this).removeClass(),a(this).addClass(k.toThemeProperty("jqx-widget-content")),a(this).addClass(k.toThemeProperty("jqx-menu-dropdown")),k.rtl?a(this).addClass(k.toThemeProperty("jqx-rc-l")):a(this).addClass(k.toThemeProperty("jqx-rc-r")),a(this).addClass(k.toThemeProperty("jqx-rc-b")),!1)}),h.parents().each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(j=this.id,!1):!k.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(j=this.id,!1)});var l=!1,m=g.getAttribute("type"),n=g.getAttribute("ignoretheme");if(n?("true"==n||1==n)&&(n=!0):n=!1,m){if("separator"==m)var l=!0}else m=g.type;l||(m=j?"sub":"top");var o=this.items[e-1];if(c){o.id=i,o.parentId=j,o.type=m,o.separator=l,o.element=d[f];var p=h.find("a:first");o.level=h.parents("li").length,o.anchor=p.parents("li").length==o.level+1?p:null}o.ignoretheme=n;var q=this.menuElements[j];null!=q&&q.ignoretheme&&(o.ignoretheme=q.ignoretheme,n=q.ignoretheme),this.autoGenerate&&("separator"==m?(h.removeClass(),h.addClass(this.toThemeProperty("jqx-menu-item-separator"))):n||(h.removeClass(),this.rtl&&h.addClass(this.toThemeProperty("jqx-rtl")),o.level>0?(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item"))):(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item-top"))))),c&&!n&&(o.hasItems=h.find("li").length>0)}}}},destroy:function(){var b=this.host.closest("div.jqx-menu-wrapper");b.remove();var c=this;this.removeHandler(a(document),"mousedown.menu"+this.element.id,c._closeAfterClick),this.removeHandler(a(document),"mouseup.menu"+this.element.id,c._closeAfterClick),a(window).off("resize.menu"+c.element.id),a.each(this.items,function(){var b=this,d=a(b.element);c.removeHandler(d,"click"),c.removeHandler(d,"selectstart"),c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave"),c.removeHandler(d,"mousedown"),c.removeHandler(d,"mouseleave")}),a.data(document.body,"menuel",null),this.items=new Array,this.host.removeClass(),this.host.remove()},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new jQuery.Event(d);"2"==b&&(args=c.item,args.owner=this,a.extend(e,c.event),e.type="itemclick"),e.owner=this,e.args=args;var f=this.host.trigger(e);return f},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&e!=d){if("touchMode"==c&&(this._isTouchDevice=null,b._render(e,d)),"source"==c&&null!=b.source){var f=b.loadItems(b.source);b.element.innerHTML=f;var g=b.host.find("ul:first");g.length>0&&(b.refresh(),b._createMenu(g[0]),b._render())}"autoCloseOnClick"==c?0==e?a(document).off("mousedown.menu"+this.element.id,b._closeAll):a(document).on("mousedown.menu"+this.element.id,b,b._closeAll):"mode"==c||"width"==c||"height"==c||"showTopLevelArrows"==c?(b.refresh(),"mode"==c?b._render(e,d):b._applyOrientation()):"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host)}}})}(jQuery),function(a){a.jqx._jqxMenu.jqxMenuItem=function(a,b,c){var d={id:a,parentId:b,parentItem:null,anchor:null,type:c,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return d}}(jQuery),function(a){a.jqx.jqxWidget("jqxTabs","",{}),a.extend(a.jqx._jqxTabs.prototype,{defineInstance:function(){this.scrollAnimationDuration=200,this.enabledHover=!0,this.disabled=!1,this.collapsible=!1,this.animationType="none",this.enableScrollAnimation=!0,this.contentTransitionDuration=450,this.toggleMode="click",this.selectedItem=0,this.height="auto",this.width="auto",this.position="top",this.selectionTracker=!1,this.scrollable=!0,this.scrollPosition="right",this.scrollStep=70,this.autoHeight=!0,this.headerHeight=null,this.showCloseButtons=!1,this.canCloseAllTabs=!0,this.closeButtonSize=16,this.arrowButtonSize=16,this.keyboardNavigation=!0,this.reorder=!1,this.selectionTrackerAnimationDuration=300,this._isTouchDevice=!1,this.roundedCorners=!0,this._headerExpandingBalance=0,this._dragStarted=!1,this._tabCaptured=!1,this._lastUnorderedListPosition=0,this._selectedItem=0,this._titleList=[],this._contentList=[],this._contentWrapper=null,this._unorderedList=null,this._scrollTimeout=null,this.isCollapsed=!1,this._currentEvent=null,this._needScroll=!0,this._isAnimated={},this._events=["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],this._initTabContentList=[],this._invalidArgumentExceptions={invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},this.rtl=!1},createInstance:function(){this.host.addClass(this.toThemeProperty("jqx-tabs")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._unorderedList=this.host.children("ul"),this._titleList=this.host.children("ul").children("li"),this._contentList=this.host.children("div"),this._selectedItem=this.selectedItem,this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1);for(var b=this.length();b;)b--,this._titleList[b]=a(this._titleList[b]),this._contentList[b]=a(this._contentList[b]);this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0);var c=this;c._enableWindowResize(),c._hiddenParent()&&(c._intervalTimer=setInterval(function(){c._hiddenParent()||(c._refresh(),clearInterval(c._intervalTimer),c.initTabContent&&(c._initTabContentList[c.selectedItem]||(c.initTabContent(c.selectedItem),c._initTabContentList[c.selectedItem]=!0)))},100))},_hiddenParent:function(){var b=this;if("none"==b.host.css("display"))return!0;var c=!1;return a.each(b.host.parents(),function(){return"none"==a(this).css("display")?(c=!0,!1):void 0}),c},_enableWindowResize:function(b){if(0==b)return a(window).off("resize.tabs"+this.element.id),void 0;var c=!1,d=this;null!=d.width&&-1!=d.width.toString().indexOf("%")&&(c=!0),null!=d.height&&-1!=d.height.toString().indexOf("%")&&(c=!0),("auto"==d.width||"auto"==d.height)&&(c=!0),a(window).on("resize.tabs"+this.element.id,function(){if(c){var a=d.host.width(),b=d.host.height();(d._lastWidth!=a||d._lastHeight!=b)&&(d.refreshTimer&&clearTimeout(d.refreshTimer),d.refreshTimer=setTimeout(function(){d.refresh()},10)),d._lastWidth=a,d._lastHeight=b}})},refresh:function(a){(1!=a||void 0==a)&&this._performResize()},_seletionTrackerBrowserCheck:function(){var b="Browser CodeName: "+navigator.appCodeName;return b+="Browser Name: "+navigator.appName,b+="Browser Version: "+navigator.appVersion,b+="Platform: "+navigator.platform,b+="User-agent header: "+navigator.userAgent,-1!=b.indexOf("IEMobile")?!1:-1!=b.indexOf("Windows Phone OS")?!1:a.jqx.browser.msie&&a.jqx.browser.version<=7?!1:!0},render:function(){this._refresh()},_uiRefresh:function(a){if(this._unorderedListLeftBackup=this._unorderedList.css("left"),a&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.css("left",this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!=this._rightArrow.css("visibility")){var b=2*this.arrowButtonSize,c=this.host.width()-parseInt(this._unorderedList.width()+b+ +parseInt(this._unorderedList.css("margin-left")),10);this._unorderedList.css("left",c+"px")}},_refresh:function(){this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container")),this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});for(var a=this.length();a;)switch(a--,this._titleList[a].removeClass(),this._titleList[a].css("padding",""),this._titleList[a].addClass("jqx-reset"),this._titleList[a].addClass("jqx-disableselect"),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title")),this._titleList[a].addClass(this.toThemeProperty("jqx-item")),"bottom"==this.position&&this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-bottom")),this._titleList[a].disabled&&(this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-t")),this._contentList[a].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].addClass(this.toThemeProperty("jqx-rc-t"))}if(this.selectionTracker)switch(this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b")),this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"))}},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);d.owner=this,d.args=c,(6===b||7===b)&&(d.cancel=!1,this._currentEvent=d);var e="";try{if(e=this.host.trigger(d),1==b){var f=this;if(this.selectionTracker||"none"!=this.animationType)setTimeout(function(){f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0);var b=new a.Event("loadContent");b.owner=this,f._contentList.length>0&&f._contentList[f.selectedItem]&&f._contentList[f.selectedItem].find("div").trigger(b)},50+f.selectionTrackerAnimationDuration);else{var d=new a.Event("loadContent");f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0),d.owner=this,this._contentList.length>0&&this._contentList[this.selectedItem]&&this._contentList[this.selectedItem].find("div").trigger(d)}}}catch(g){}return e},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var a,b=this.arrowButtonSize,c=this.arrowButtonSize;return a="left"===this.scrollPosition?b+c:"both"===this.scrollPosition?b:0},_scrollRight:function(a){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var b,c,d=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),e=parseInt(this.host.width(),10),f=parseInt(this._unorderedList.css("left"),10),g=this._getArrowsDisplacement(),h=0,i=void 0;this.scrollable?(b=parseInt(this._leftArrow.outerWidth(),10),c=parseInt(this._rightArrow.outerWidth(),10)):(b=0,c=0),a=this.enableScrollAnimation?a:0,parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)?h=g:Math.abs(f)+this.scrollStep<Math.abs(e-d)+b+c+g?(h=f-this.scrollStep,i=f-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(h=e-d-(2*this.arrowButtonSize-g),h<parseInt(this._unorderedList.css("left"),10)-4&&h>parseInt(this._unorderedList.css("left"),10)+4&&(i=e-d-b-c+parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(h,i,a)},_scrollLeft:function(a){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var b=parseInt(this._unorderedList.css("left")),c=this._getArrowsDisplacement(),d=0,e=void 0;a=this.enableScrollAnimation?a:0,parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())?d=c:b+this.scrollStep<c?(d=b+this.scrollStep,e=b+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(d=c,d<parseInt(this._unorderedList.css("left"))-4&&d>parseInt(this._unorderedList.css("left"))+4&&(e=parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(d,e,a)},_performScrollAnimation:function(a,b,c){var d=this;void 0!==b&&this._moveSelectionTrack(this._selectedItem,0,b),this._lockAnimation("unorderedList"),this._unorderedList.animate({left:a},c,function(){d._moveSelectionTrack(d.selectedItem,0),d._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var a=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(b){if(!a._activeAnimation()){a._selectedItem;var c=a.selectionTracker;switch(b.keyCode){case 37:return a.rtl?a.next():a.previous(),!1;case 39:return a.rtl?a.previous():a.next(),!1;case 36:return a.first(),!1;case 35:return a.last(),!1;case 27:a._tabCaptured&&(a._cancelClick=!0,a._uncapture(null,a.selectedItem),a._tabCaptured=!1)}a.selectionTracker=c}return!0})},_addScrollHandlers:function(){var b=this;this.addHandler(this._leftArrow,"mousedown",function(){b._startScrollRepeat(!0,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){b._startScrollRepeat(!1,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(a(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(a){var b=a.data;clearTimeout(b._scrollTimeout)},_mouseUpScrollDocumentHandler:function(a){var b=a.data;clearTimeout(b._scrollTimeout)},_mouseUpDragDocumentHandler:function(a){var b=a.data;b._tabCaptured&&b._dragStarted&&b._uncapture(a),b._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var a=this.length();a;)a--,this._addEventListenerAt(a);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var b=this;if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var c=function(){b._tabCaptured&&(b._cancelClick=!0,b._uncapture(null,b.selectedItem),b._tabCaptured=!1)},d=null;window.parent&&document.referrer&&(d=document.referrer),d&&-1!=d.indexOf(document.location.host)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c))}},focus:function(){try{this.host.focus()}catch(a){}},_getFocusedItem:function(a){for(var b=this.length();b;){b--;var c=this._titleList[b],d=parseInt(c.outerWidth(!0)),e=parseInt(c.offset().left),f=(parseInt(this._unorderedList.offset().left),parseInt(this.host.offset().left),e);if(a>=f&&f+d>=a&&c!==this._capturedElement&&!this._titleList[b].locked&&this._titleList[b].disabled!==!0)return b}return-1},_uncapture:function(b){var c=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var d=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0)}if(b)var e=this._getFocusedItem(b.clientX,b.clientY);-1!==e&&b?(this._raiseEvent(10,{item:d,dropIndex:e}),this._reorderItems(e,d)):this._capturedElement.css("left",0),a.each(this._titleList,function(){this.css("position","static")}),this._reorderHeaderElements(),this._unorderedList.css({position:"relative",top:"0px"}),this._prepareTabs(),-1!==e&&b?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=d,this._moveSelectionTrack(d,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.css("left",this._unorderedListLeftBackup),this.selectionTracker=c}},_reorderItems:function(a,b){var c=this._titleList[this.selectedItem];this._contentList[b],"undefined"==typeof this._capturedElement&&(this._capturedElement=this._titleList[b]),this._titleList[b].remove(),a>b?this._titleList[b].insertAfter(this._titleList[a]):this._titleList[b].insertBefore(this._titleList[a]),this._reorderElementArrays(a,b),this._getSelectedItem(c),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(a,b){this._titleList[this.selectedItem];var c=this._contentList[b];if(a>b){for(var d=b;a>=d;d++)this._titleList[d]=this._titleList[d+1],this._contentList[d]=this._contentList[d+1];this._contentList[a]=c,this._titleList[a]=this._capturedElement}else{for(var d=b;d>=a;d--)this._titleList[d]=this._titleList[d-1],this._contentList[d]=this._contentList[d-1];this._contentList[a]=c,this._titleList[a]=this._capturedElement}},_getSelectedItem:function(a){for(var b=this.length();b;)if(b--,this._titleList[b]===a){this._selectedItem=this.selectedItem=b;break}},_moveElement:function(a,b){var b=a.data;b._tabCaptured&&(document.selection&&document.selection.clear(),b._dragStarted?(b._performDrag(a),clearTimeout(b._scrollTimeout),b._dragScroll(a)):(unorderedListLeft=-parseInt(b._unorderedList.css("left"),10),(a.clientX+unorderedListLeft>b._startX+3||a.clientX+unorderedListLeft<b._startX-3)&&(b._prepareTabForDragging(),b._dragStarted=!0)))},_performDrag:function(a){var b=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._capturedElement.css("left",unorderedListLeft+a.clientX/b-this._startX/b),this._lastX=a.clientX/b,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var a=1;if(document.body.getBoundingClientRect){var b=document.body.getBoundingClientRect(),c=b.right-b.left,d=document.body.offsetWidth;a=Math.round(100*(c/d))/100}return a},_prepareTabForDragging:function(){switch(this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"}),this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(a){var b=parseInt(this._unorderedList.css("left")),c=this;parseInt(this._capturedElement.css("left")),a.clientX<=this._headerWrapper.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):a.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):(this._unorderedList.stop(),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout));var c=this;this._scrollTimeout=setTimeout(function(){c._dragScroll(a)},this.scrollAnimationDuration),this._lastUnorderedListPosition=b},_captureElement:function(a,b){this._tabCaptured||this._titleList[b].locked||this._titleList[b].disabled===!0||this._activeAnimation()||(unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._startX=unorderedListLeft+a.clientX,this._startY=a.clientY,this._lastX=a.clientX,this._lastY=a.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[b])},_titleInteractionTrigger:function(a){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==a?(this.select(this._titleList[a],"toggle"),this._titleList[a].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.css("display","block"))):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var a=this._selectedItem,b=this;this.isCollapsed=!0,"auto"!==b.height?b._contentWrapper.css("visibility","hidden"):b._contentWrapper.hide(),b._raiseEvent(13,{item:a}),"top"==this.position?(b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed")),b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))):(b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},expand:function(){var a=this._selectedItem,b=this;this.isCollapsed=!1,this._select(a,b.contentTransitionDuration,null,!1,!0),"auto"!==b.height?b._contentWrapper.css("visibility","visible"):b._contentWrapper.show(),b._raiseEvent(14,{item:a}),"top"==this.position?(b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed")),b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))):(b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(a){var b=this;this.addHandler(this._titleList[a],"selectstart",function(){return!1}),this.addHandler(this._titleList[a],this.toggleMode,function(a){return function(){return b._raiseEvent("15",{item:a}),b._tabCaptured||b._cancelClick||b._titleInteractionTrigger(a),!0}}(a))},_addDragDropHandlers:function(a){var b=this;this.addHandler(this._titleList[a],"mousedown",function(c){return b._captureElement(c,a),!1}),this.addHandler(this._titleList[a],"mouseup",function(c){return b._tabCaptured&&b._dragStarted?(b._cancelClick=!0,b._uncapture(c,a)):b._cancelClick=!1,b._tabCaptured=!1,!1
})},_removeHoverStates:function(){var b=this;a.each(this._titleList,function(){this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top")),this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(a){var b=this,c=this._titleList[a];this.addHandler(c,"mouseenter",function(){if(a!=b._selectedItem&&("top"==b.position?c.addClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.addClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.addClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons)){var d=c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0));d.addClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0))}}),this.addHandler(c,"mouseleave",function(){if(a!=b._selectedItem&&("top"==b.position?c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons)){var d=c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0));d.removeClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0))}})},_addEventListenerAt:function(a){var b=this;if(!this._titleList[a].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(a),this._addSelectHandler(a),this.enabledHover&&this._addHoverHandlers(a);var c=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(c,"click"),this.addHandler(c,"click",function(){return b.removeAt(a),!1})}},_removeEventHandlers:function(){for(var b=this.length();b;)b--,this._removeEventListenerAt(b);this.scrollable&&(this.removeHandler(this._leftArrow,"mousedown"),this.removeHandler(this._rightArrow,"mousedown")),this.removeHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement),this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler),this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler),this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(a){this.removeHandler(this._titleList[a],this.toggleMode),this.removeHandler(this._titleList[a],"mouseenter"),this.removeHandler(this._titleList[a],"mouseleave"),this.removeHandler(this._titleList[a],"mousedown"),this.removeHandler(this._titleList[a],"mouseup");var b=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(b,"click")},_moveSelectionTrack:function(a,b,c){var d=this;if(-1!=a&&0!=this._titleList.length&&!(a>=this._titleList.length)&&this.selectionTracker){if(this._selectionTracker.stop(),this._unlockAnimation("selectionTracker"),void 0===c){var e=parseInt(this._titleList[a].position().left);isNaN(parseInt(this._unorderedList.css("left")))||(e+=parseInt(this._unorderedList.css("left"))),isNaN(parseInt(this._unorderedList.css("margin-left")))||(e+=parseInt(this._unorderedList.css("margin-left"))),isNaN(parseInt(this._titleList[a].css("margin-left")))||(e+=parseInt(this._titleList[a].css("margin-left"))),!isNaN(parseInt(this._titleList[a].css("margin-right")))}else var e=c;var f=0,g=0;"top"===this.position&&(f=parseInt(this._headerWrapper.height())-parseInt(this._titleList[a].outerHeight()),this.autoHeight||(g+=parseInt(this._titleList[a].css("margin-top")))),this._lockAnimation("selectionTracker");var h=parseInt(this._titleList[a].css("padding-left"))+parseInt(this._titleList[a].css("padding-right")),i="top"==this.position?0:1,j=parseInt(this._headerWrapper.css("padding-top")),k=parseInt(this._titleList[a].css("padding-top"))+parseInt(this._titleList[a].css("padding-bottom"));this._selectionTracker.css("visibility","visible"),this._moveSelectionTrackerContainer.css("visibility","visible");var l=parseInt(this._titleList[a].css("margin-top"));isNaN(l)&&(l=0),this._selectionTracker.animate({top:j+l-i,left:e+"px",height:parseInt(this._titleList[a].height()+k),width:this._titleList[a].width()+h},b,function(){d._unlockAnimation("selectionTracker"),d._selectionTracker.css("visibility","hidden"),d._addSelectStyle(a,!0),d._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){this.host.remove()},_switchTabs:function(a,b){if(a!==b&&!this._activeAnimation()&&!this._tabCaptured){var c=this;return this._raiseEvent(7,{item:b}),this._raiseEvent(6,{item:a}),this._currentEvent&&this._currentEvent.cancel?(this._currentEvent=null,void 0):(this._unselect(b,null,!0),this._select(a,c.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(child in this._isAnimated)if(this._isAnimated.hasOwnProperty(child)&&this._isAnimated[child])return!0;return!1},_indexOf:function(a){for(var b=this.length();b;)if(b--,this._titleList[b][0]===a[0]||this._contentList[b][0]===a[0])return b;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0==this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(a){alert(a)}},_startScrollRepeat:function(a,b){var c=this;a?this._scrollLeft(b):this._scrollRight(b),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){c._startScrollRepeat(a,c.scrollAnimationDuration)},b)},_performLayout:function(){for(var a=this.length();a;)a--,("top"===this.position||"bottom"===this.position)&&(this.rtl?this._titleList[a].css("float","right"):this._titleList[a].css("float","left"));this._enableWindowResize(!1),this._fitToSize(),this._performHeaderLayout(),this._fitToSize(),this._enableWindowResize(!0)},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){this._fitToSize(),this._positionArrows(this._totalItemsWidth),this._totalItemsWidth>this.host.width()?this._unorderedList.width(this._totalItemsWidth):this._unorderedList.width(this.host.width()-2),this._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(this._leftArrow.remove(),this._rightArrow.remove()),this._leftArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>'),this._rightArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>'),this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._headerWrapper.append(this._leftArrow),this._headerWrapper.append(this._rightArrow),this._leftArrow.width(this.arrowButtonSize),this._leftArrow.height("100%"),this._rightArrow.width(this.arrowButtonSize),this._rightArrow.height("100%"),this._leftArrow.css({"z-index":"30"}),this._rightArrow.css({"z-index":"30"}),this._leftArrow.css("display","none"),this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var b=this.length();return a.each(this._titleList,function(){var a=this.attr("hasclosebutton");void 0!=a&&null!=a&&("false"==a||0==a)&&b--}),b},_calculateTitlesSize:function(){var b=0,c=0,d=this.length();for(this.rtl&&a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._measureItem=a("<span style='position: relative; visibility: hidden;'></span>"),a(document.body).append(this._measureItem));d;){if(d--,this._measureItem&&(this._measureItem.html(this._titleList[d].html()),this._titleList[d].width(this._measureItem.width())),this._titleList[d].css("position","static"),this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),c+=parseInt(this._titleList[d].outerWidth(!0)),b<this._titleList[d].outerHeight(!0)&&(b=Math.round(parseInt(this._titleList[d].outerHeight(!0)))),0==this._titleList[d].height()){var e=this._titleList[d].clone();a(document.body).append(e),b=Math.round(parseInt(e.outerHeight(!0))),e.remove()}var f=this._titleList[d].attr("hasCloseButton");if(void 0!=f&&null!=f){var g=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[d]&&(this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),g=!0),g||("true"==f||1==f?(c+=this.closeButtonSize,this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")):("false"==f||0==f)&&this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"))}else if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var g=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[d]&&(this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),g=!0),g||(c+=this.closeButtonSize,this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block"))}this._titleList[d].height(this._titleList[d].height())}return this._measureItem&&this._measureItem.remove(),{height:b,width:10+c}},_reorderHeaderElements:function(){if(this.selectionTracker&&this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"}),this._headerWrapper.css({position:"relative",left:"0px",top:"0px"}),this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"}),this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var a=this.theme&&-1!=this.theme.indexOf("ui-")?3:0;a>0&&(this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l")));var b=this.scrollPosition;switch(this.rtl&&("left"==b&&(b="right"),"right"==b&&(b="left")),b){case"both":this._rightArrow.css("right","0px"),this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px"),this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-a+"px"),this._leftArrow.css("right",this.arrowButtonSize-a+"px")}}},_positionArrows:function(a){a>=parseInt(this._headerWrapper.width())&&this.scrollable?(this._needScroll=!0,0===this._unorderedList.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.css("display","block"),this._rightArrow.css("display","block")):(this._needScroll=!1,this._leftArrow.css("display","none"),this._rightArrow.css("display","none"),this._unorderedList.css("left",0))},_performHeaderLayout:function(){this._removeSelectStyle();var b=this._calculateTitlesSize(),c=b.height,d=b.width;this._headerWrapper.height(c),this._unorderedList.height(c),null!=this.headerHeight&&"auto"!=this.headerHeight&&(this._headerWrapper.height(this.headerHeight),this._unorderedList.height(this.headerHeight)),d>this.host.width()?this._unorderedList.width(d):this._unorderedList.width(this.host.width()),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._unorderedList.css("position","relative"),this._headerWrapper.css("overflow","hidden")),this._reorderHeaderElements(),d+=parseInt(this._unorderedList.css("margin-left")),this._totalItemsWidth=d,this._positionArrows(d),this._unorderedList.css({position:"relative",top:"0px"}),this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var a=this.length();for(this._maxHeightTab();a;){a--;var b=this._titleList[a].find(".jqx-tabs-titleContentWrapper"),c=(b.height(),this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0))),d=parseInt(this._titleList[a].css("padding-top"));if(d||(d=0),this.autoHeight){var e=this._titleList[a].outerHeight(!0)-this._titleList[a].height(),f=parseInt(this._titleList[a].css("padding-top")),g=parseInt(this._titleList[a].css("padding-bottom")),h=parseInt(this._titleList[a].css("border-top-width")),i=parseInt(this._titleList[a].css("border-bottom-width"));this._titleList[a].height(this._unorderedList.outerHeight()-f-g-h-i)}else if("top"===this.position){var j=parseInt(this._unorderedList.height())-parseInt(this._titleList[a].outerHeight(!0));parseInt(this._titleList[a].css("margin-top"))!==j&&0!==j&&this._titleList[a].css("margin-top",j)}else this._titleList[a].height(this._titleList[a].height());this._titleList[a].children(0).height("100%");var k=parseInt(this._titleList[a].height()),l=parseInt(k)/2-parseInt(c.height())/2;c.css("margin-top",1+l);var m=parseInt(k)/2-parseInt(b.height())/2;b.css("margin-top",m)}if(this.scrollable){var e=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize,n=e/2;this._rightArrow.children(0).css("margin-top",n),this._rightArrow.height("100%"),this._leftArrow.height("100%"),this._leftArrow.children(0).css("margin-top",n)}},_getImageUrl:function(a){var b=a.css("background-image");return b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")","")},_fitToSize:function(){if(this.host.width(this.width),"auto"!=this.width&&(this._contentWrapper.css("width","100%"),this._contentWrapper.width(this.host.width()-2)),"auto"!==this.height){this.host.height(this.height);var a=this.host.height()-this._headerWrapper.outerHeight()-2;this._contentWrapper.height(a)}else this._contentWrapper.css("height","auto")},_maxHeightTab:function(){for(var a=this.length(),b=-1,c=-1;a;)a--,b<parseInt(this._titleList[a].outerHeight(!0))&&(c=a);return c},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&this._moveSelectionTrackerContainer.remove(),this._moveSelectionTrackerContainer=a('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var b=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=a('<div class="'+b+'">'),this._selectionTracker.css("color","inherit"),this._moveSelectionTrackerContainer.append(this._selectionTracker),this._headerWrapper.append(this._moveSelectionTrackerContainer),this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var b="none",c=void 0==this._contentWrapper;this._contentWrapper=this._contentWrapper||a('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+b+';">'),this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));for(var d=this.length();d;)d--,this._contentList[d].addClass(this.toThemeProperty("jqx-tabs-content-element"));c&&(this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper),this._contentWrapper=this.host.find(".jqx-tabs-content")),this.roundedCorners&&("top"==this.position?this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b")):this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))},_addHeaderWrappers:function(){var b=this.length();for(this._unorderedList.remove(),this._headerWrapper=this._headerWrapper||a('<div class="jqx-tabs-headerWrapper" style="outline: none;">'),this._headerWrapper.remove(),"top"==this.position?this._headerWrapper.prependTo(this.host):this._headerWrapper.appendTo(this.host),this._unorderedList.appendTo(this._headerWrapper),this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header")),this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header")),"bottom"==this.position?this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom")):this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom")),this.roundedCorners&&("top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))));b;){if(b--,this._titleList[b].children(".jqx-tabs-titleWrapper").length<=0){var c=a('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');c.append(this._titleList[b].html()),this._titleList[b].empty(),c.appendTo(this._titleList[b])}this._titleList[b].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(b){var c=b;if(this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).length<=0&&this._titleList[c].find(".jqx-tabs-titleContentWrapper").length<=0){var d=a('<div class="jqx-tabs-titleContentWrapper"></div>'),e="left";this.rtl&&(e="right"),d.css("float",e),d.addClass("jqx-disableselect"),d.append(this._titleList[c].html()),this._titleList[c].html("");var f=a('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');f.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":e,"font-size":"1px"}),this._titleList[c].append(d),this._titleList[c].append(f),this.showCloseButtons?this.hiddenCloseButtons&&1==this.hiddenCloseButtons[b]&&f.css("display","none"):f.css("display","none")}},_addCloseButtons:function(){for(var a=this.length();a;)a--,this._addCloseButton(a)},_prepareTabs:function(){var a=this.length(),b=this.selectionTracker;for(this.selectionTracker=!1;a;)a--,this._selectedItem!==a&&this._unselect(a,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=b,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(a){return a>=0&&a<this.length()},_removeSelectStyle:function(){for(var a=this.length();a;){a--;var b=null;if(this.showCloseButtons){var b=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));b.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}"top"==this.position?this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top")):this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(a,b){if(this.length(),this._removeSelectStyle(),(!this.selectionTracker||void 0!=b&&b)&&a>=0&&void 0!=this._titleList[a]){var c=null;if(this.showCloseButtons){var c=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.hiddenCloseButtons&&1==this.hiddenCloseButtons[a]&&(c=null)}this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-hover")),"top"==this.position?(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))):(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-pressed")),null!=c&&c.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}},_addItemTo:function(a,b,c){if(b<a.length){for(var d=void 0,e=void 0,f=b;f+1<a.length;f++)void 0===d?(d=a[f+1],a[f+1]=a[f]):(e=a[f+1],a[f+1]=d,d=e);void 0===d&&(d=a[b]),a[b]=c,a.push(d)}else a.push(c)},_select:function(a,b,c,d,e){if(!this._tabCaptured){this.host.attr("hideFocus","true");var f=this;if(void 0==e?this._addSelectStyle(a):this._addSelectStyle(a,e),this.isCollapsed&&this.collapsible)return this._contentList[a].css("display","none"),this._selectCallback(a,c,d),void 0;switch(this.animationType){case"none":if(f.selectionTracker)setTimeout(function(){f._contentList[a].css("display","block")},this.selectionTrackerAnimationDuration);else{for(var g=0;g<this._contentList.length;g++)a!=g&&"block"==this._contentList[g].css("display")&&this._contentList[g].css("display","none");this._contentList[a].css("display","block")}this._selectCallback(a,c,d);break;case"fade":this._lockAnimation("contentListSelect"),f._selectCallback(a,c,d),this._contentList[a].fadeIn(b,function(){f._unlockAnimation("contentListSelect")})}}},_selectCallback:function(a,b,c){this._selectedItem=a,this.selectedItem=this._selectedItem,b&&b(),c&&this._raiseEvent(1,{item:a})},_unselect:function(a,b,c){if(a>=0&&!this._tabCaptured){var d=this;this._contentList[a].stop(),"fade"==this.animationType?this._contentList[a].css("display","none"):this.selectionTracker?setTimeout(function(){d._contentList[a].css("display","none")},this.selectionTrackerAnimationDuration):this._contentList[a].css("display","none"),this._unselectCallback(a,b,c),this.selectionTracker||(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed")))}},_unselectCallback:function(a,b,c){c&&this._raiseEvent(8,{item:a}),b&&b()},disable:function(){for(var a=this.length();a;)a--,this.disableAt(a)},enable:function(){for(var a=this.length();a;)a--,this.enableAt(a)},getEnabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled||b++}),b},getDisabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled&&b++}),b},removeAt:function(a){if(this._isValidIndex(a)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var b=this,c=(this._titleList[this._selectedItem],parseInt(this._titleList[a].outerWidth(!0))),d=this.getTitleAt(a);if(this._unorderedList.width(parseInt(this._unorderedList.width())-c),this._titleList[a].remove(),this._contentList[a].remove(),this._titleList.splice(a,1),this._contentList.splice(a,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:a,title:d}),this._isAnimated={},this.selectedItem>0){this._selectedItem=-1;var e=this._getPreviousIndex(this.selectedItem);this.select(e)}else{this._selectedItem=-1;var e=this._getNextIndex(this.selectedItem);this.select(e)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()&&this._unorderedList.css("left",this._getArrowsDisplacement()),parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var f=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedList.animate({left:0},f,function(){b._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(a){if(!this._titleList[a].disabled||void 0===this._titleList[a].disabled){if(this.selectedItem==a){var b=this.next();b||(b=this.previous())}this._titleList[a].disabled=!0,this.removeHandler(this._titleList[a],this.toggleMode),this.enabledHover&&this._titleList[a].off("mouseenter").off("mouseleave"),this._removeEventListenerAt(a),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(5,{item:a})}},enableAt:function(a){this._titleList[a].disabled&&(this._titleList[a].disabled=!1,this._addEventListenerAt(a),this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(4,{item:a}))},addAt:function(b,c,d){if(b>=0||b<=this.length()){this._removeHoverStates();var e=a("<li>"+c+"</li>"),f=a("<div>"+d+"</div>");e.addClass(this.toThemeProperty("jqx-tabs-title")),e.addClass(this.toThemeProperty("jqx-item")),f.addClass(this.toThemeProperty("jqx-tabs-content-element")),"bottom"==this.position&&e.addClass(this.toThemeProperty("jqx-tabs-title-bottom"));var g=!1;0==this._titleList.length?this._unorderedList.append(e):b<this.length()&&b>=0?this._titleList[b].before(e):this._titleList[this.length()-1].after(e),f.appendTo(this._contentWrapper),this._addItemTo(this._titleList,b,e),this._addItemTo(this._contentList,b,f),this._selectedItem>b&&this._selectedItem++,this._switchTabs(b,this._selectedItem),this._selectedItem=b,this.showCloseButtons&&this._titleList.length>0&&this._addCloseButton(b),this._uiRefresh(g),this._raiseEvent(2,{item:b}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(a,b){this.addAt(0,a,b)},addLast:function(a,b){this.addAt(this.length(),a,b)},select:function(a){"object"==typeof a&&(a=this._indexOf(a));var b=a>=0&&a<this._titleList.length?this._titleList[a].attr("canselect"):!0;if((void 0==b||"true"==b||1==b)&&a!==this._selectedItem&&this._isValidIndex(a)&&!this._activeAnimation()&&!this._titleList[a].disabled){var c=this._switchTabs(a,this._selectedItem);c&&this.ensureVisible(a)}},previous:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);b>0&&b<this._titleList.length;)if(b--,!this._titleList[b].disabled)return this.select(b),!0;return!1},_getPreviousIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;a>0&&a<=this._titleList.length;)if(a--,!this._titleList[a].disabled)return a;return b},_getNextIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;a>=0&&a<this._titleList.length;){if(!this._titleList[a].disabled)return a;a++}return b},next:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);b>=0&&b<this._titleList.length-1;)if(b++,!this._titleList[b].disabled)return this.select(b),!0;return!1},first:function(){var a=0;this._titleList[a].disabled?this.next(a):this.select(a)},last:function(){var a=this._titleList.length-1;this._titleList[a].disabled?this.previous(a):this.select(a)},length:function(){return this._titleList.length},lockAt:function(a){!this._isValidIndex(a)||this._titleList[a].locked&&void 0!==this._titleList[a].locked||(this._titleList[a].locked=!0,this._raiseEvent(11,{item:a}))},unlockAt:function(a){this._isValidIndex(a)&&this._titleList[a].locked&&(this._titleList[a].locked=!1,this._raiseEvent(12,{item:a}))},lockAll:function(){for(var a=this.length();a;)a--,this.lockAt(a)},unlockAll:function(){for(var a=this.length();a;)a--,this.unlockAt(a)},showCloseButtonAt:function(a){if(this._isValidIndex(a)){this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader());var b=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));b.css("display","block"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[a]=0}},hideCloseButtonAt:function(a){if(this._isValidIndex(a)){var b=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));b.css("display","none"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[a]=1}},hideAllCloseButtons:function(){for(var a=this.length();a;)a--,this.hideCloseButtonAt(a)},showAllCloseButtons:function(){for(var a=this.length();a;)a--,this.showCloseButtonAt(a)},getTitleAt:function(a){return this._titleList[a]?this._titleList[a].text():null},getContentAt:function(a){return this._contentList[a]?this._contentList[a]:null},setTitleAt:function(a,b){this._titleList[a]&&(this._titleList[a].text(b),this.showCloseButtons&&(this._addCloseButton(a),this._removeEventHandlers(),this._addEventHandlers()))},setContentAt:function(a,b){this._contentList[a]&&this._contentList[a].html(b)},ensureVisible:function(a){var b=this;if((void 0==a||-1==a||null==a)&&(a=this.selectedItem),!this._isValidIndex(a))return!1;var c,d,e=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),f=parseInt(this._unorderedList.css("left")),g=parseInt(this._headerWrapper.outerWidth(!0)),h=parseInt(this._titleList[a].outerWidth(!0)),i=f-this._getArrowsDisplacement(),j=g-this._getArrowsDisplacement()-i;if(-i>e)c=-e+this._getArrowsDisplacement(),d=this._getArrowsDisplacement();else{if(!(e+h>j-this._getArrowsDisplacement()))return this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration),!0;c=-e+g-h-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),d=g-h-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedList.animate({left:c},this.scrollAnimationDuration,function(){return b._unlockAnimation("unorderedList"),b._moveSelectionTrack(b._selectedItem,0),!0}),this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration,d),!0},isVisibleAt:function(a){if((void 0==a||-1==a||null==a)&&(a=this.selectedItem),!this._isValidIndex(a))return!1;var b=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),c=parseInt(this._unorderedList.css("left")),d=parseInt(this._headerWrapper.outerWidth(!0)),e=parseInt(this._titleList[a].outerWidth(!0)),f=c-this._getArrowsDisplacement(),g=d-this._getArrowsDisplacement()-f;return-f>b?!1:b+e>g?!1:!0},isDisabled:function(a){return this._titleList[a].disabled},_lockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!0)},_unlockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!1)},propertyChangedHandler:function(b,c,d,e){switch(this._validateProperties(),c){case"touchMode":e&&(b.enabledHover=!1,b.keyboardNavigation=!1);break;case"width":case"height":return b._performResize(),void 0;case"disabled":return e?this.disable():this.enable(),void 0;case"showCloseButtons":return e?this.showAllCloseButtons():this.hideAllCloseButtons(),this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration),void 0;case"selectedItem":return this._isValidIndex(e)&&this.select(e),void 0;case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return e?(this._refresh(),this.select(this._selectedItem)):null!=this._selectionTracker&&this._selectionTracker.remove(),void 0;case"scrollable":return e?(this._refresh(),this.select(this._selectedItem)):(this._leftArrow.remove(),this._rightArrow.remove(),this._performHeaderLayout()),void 0;case"autoHeight":return this._performHeaderLayout(),void 0;case"theme":return a.jqx.utilities.setTheme(d,e,this.host),void 0}this._unorderedList.css("left","0px"),this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}})}(jQuery);
});